{"version":3,"file":"Contributors.js","sources":["../../../src/client/components/Contributors.ts"],"sourcesContent":["import type { VNode } from 'vue'\nimport { computed, defineComponent, h } from 'vue'\nimport { usePageData, usePageFrontmatter } from 'vuepress/client'\nimport type {\n  GitContributor,\n  GitPluginFrontmatter,\n  GitPluginPageData,\n} from '../../shared/index.js'\nimport { useGitLocaleConfig } from '../composables/index.js'\nimport { VPHeader } from './VPHeader.js'\n\nimport '../styles/contributors.css'\n\nexport const Contributors = defineComponent({\n  name: 'Contributors',\n  props: {\n    /** Contributor title */\n    title: String,\n\n    /** header level of contributor title */\n    headerLevel: {\n      type: Number,\n      default: 2,\n    },\n  },\n  setup(props) {\n    const locale = useGitLocaleConfig()\n    const frontmatter = usePageFrontmatter<GitPluginFrontmatter>()\n    const page = usePageData<GitPluginPageData>()\n\n    const contributors = computed(() => {\n      if (frontmatter.value.contributors === false) return []\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      return page.value.git?.contributors ?? []\n    })\n\n    const Contributor = ({\n      item: { name, url, avatar },\n    }: {\n      item: GitContributor\n    }): VNode =>\n      h(\n        url ? 'a' : 'span',\n        {\n          href: url,\n          target: '_blank',\n          rel: 'noreferrer',\n          class: 'contributor',\n        },\n        [\n          avatar ? h('img', { src: avatar, alt: name, class: 'avatar' }) : null,\n          h('span', { class: 'name' }, name),\n        ],\n      )\n\n    return () =>\n      contributors.value.length\n        ? [\n            h(VPHeader, {\n              level: props.headerLevel,\n              anchor: 'doc-contributors',\n              text: props.title || locale.value.contributors,\n            }),\n            h(\n              'div',\n              { class: 'vp-contributors' },\n              contributors.value.map((item) =>\n                h(Contributor, { item, key: item.name + item.email }),\n              ),\n            ),\n          ]\n        : null\n  },\n})\n"],"names":["Contributors","defineComponent","props","locale","useGitLocaleConfig","frontmatter","usePageFrontmatter","page","usePageData","contributors","computed","Contributor","name","url","avatar","h","VPHeader","item"],"mappings":"uPAaO,MAAMA,EAAeC,EAAgB,CAC1C,KAAM,eACN,MAAO,CAEL,MAAO,OAGP,YAAa,CACX,KAAM,OACN,QAAS,CACX,CACF,EACA,MAAMC,EAAO,CACX,MAAMC,EAASC,EACTC,EAAAA,EAAcC,IACdC,EAAOC,EAA+B,EAEtCC,EAAeC,EAAS,IACxBL,EAAY,MAAM,eAAiB,GAAc,CAAC,EAE/CE,EAAK,MAAM,KAAK,cAAgB,CACxC,CAAA,EAEKI,EAAc,CAAC,CACnB,KAAM,CAAE,KAAAC,EAAM,IAAAC,EAAK,OAAAC,CAAO,CAC5B,IAGEC,EACEF,EAAM,IAAM,OACZ,CACE,KAAMA,EACN,OAAQ,SACR,IAAK,aACL,MAAO,aACT,EACA,CACEC,EAASC,EAAE,MAAO,CAAE,IAAKD,EAAQ,IAAKF,EAAM,MAAO,QAAS,CAAC,EAAI,KACjEG,EAAE,OAAQ,CAAE,MAAO,MAAO,EAAGH,CAAI,CACnC,CACF,EAEF,MAAO,IACLH,EAAa,MAAM,OACf,CACEM,EAAEC,EAAU,CACV,MAAOd,EAAM,YACb,OAAQ,mBACR,KAAMA,EAAM,OAASC,EAAO,MAAM,YACpC,CAAC,EACDY,EACE,MACA,CAAE,MAAO,iBAAkB,EAC3BN,EAAa,MAAM,IAAKQ,GACtBF,EAAEJ,EAAa,CAAE,KAAAM,EAAM,IAAKA,EAAK,KAAOA,EAAK,KAAM,CAAC,CACtD,CACF,CACF,EACA,IACR,CACF,CAAC"}