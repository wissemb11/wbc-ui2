{"remainingRequest":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/node_modules/pdfvuer/src/Pdfvuer.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/node_modules/pdfvuer/src/Pdfvuer.vue","mtime":1741547146076},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/cache-loader/dist/cjs.js","mtime":1741547334975},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/babel-loader/lib/index.js","mtime":1741547335076},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/cache-loader/dist/cjs.js","mtime":1741547334975},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/vue-loader/lib/index.js","mtime":1741547335185}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgJ3VzZSBzdHJpY3QnOwoKICBpbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJ3BkZmpzLWRpc3QnOwogIGltcG9ydCB7CiAgICBEZWZhdWx0QW5ub3RhdGlvbkxheWVyRmFjdG9yeSwKICAgIERlZmF1bHRUZXh0TGF5ZXJGYWN0b3J5LAogICAgUERGRmluZENvbnRyb2xsZXIsCiAgICBQREZMaW5rU2VydmljZSwKICAgIFBERlBhZ2VWaWV3LAogICAgRXZlbnRCdXMKICB9IGZyb20gJ3BkZmpzLWRpc3Qvd2ViL3BkZl92aWV3ZXIuanMnOwogIGltcG9ydCByZXNpemVTZW5zb3IgZnJvbSAndnVlLXJlc2l6ZS1zZW5zb3InCiAgaW1wb3J0IFBkZmpzV29ya2VyIGZyb20gJ3BkZmpzLWRpc3QvYnVpbGQvcGRmLndvcmtlci5lbnRyeScKICBmdW5jdGlvbiBpc1BERkRvY3VtZW50TG9hZGluZ1Rhc2sob2JqKSB7CiAgICByZXR1cm4gdHlwZW9mIChvYmopID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwgJiYgb2JqLl9fUERGRG9jdW1lbnRMb2FkaW5nVGFzayA9PT0gdHJ1ZTsKICB9CgogIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2FkaW5nVGFzayhzcmMsIG9wdGlvbnMpIHsKICAgIHZhciBzb3VyY2U7CiAgICBpZiAodHlwZW9mIChzcmMpID09PSAnc3RyaW5nJykKICAgICAgc291cmNlID0gewogICAgICAgIHVybDogc3JjCiAgICAgIH07CiAgICBlbHNlIGlmICh0eXBlb2YgKHNyYykgPT09ICdvYmplY3QnICYmIHNyYyAhPT0gbnVsbCkKICAgICAgc291cmNlID0gT2JqZWN0LmFzc2lnbih7fSwgc3JjKTsKICAgIGVsc2UKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzcmMgdHlwZScpOwoKICAgIHZhciBsb2FkaW5nVGFzayA9IGdldERvY3VtZW50KHNvdXJjZSkucHJvbWlzZTsKICAgIGxvYWRpbmdUYXNrLl9fUERGRG9jdW1lbnRMb2FkaW5nVGFzayA9IHRydWU7IC8vIHNpbmNlIFBERkRvY3VtZW50TG9hZGluZ1Rhc2sgaXMgbm90IHB1YmxpYwoKICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub25QYXNzd29yZCkKICAgICAgbG9hZGluZ1Rhc2sub25QYXNzd29yZCA9IG9wdGlvbnMub25QYXNzd29yZDsKCiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9uUHJvZ3Jlc3MpCiAgICAgIGxvYWRpbmdUYXNrLm9uUHJvZ3Jlc3MgPSBvcHRpb25zLm9uUHJvZ3Jlc3M7CgogICAgcmV0dXJuIGxvYWRpbmdUYXNrOwogIH0KCiAgZXhwb3J0IGRlZmF1bHQgewogICAgY3JlYXRlTG9hZGluZ1Rhc2s6IGNyZWF0ZUxvYWRpbmdUYXNrLAogICAgY29tcG9uZW50czogewogICAgICByZXNpemVTZW5zb3IKICAgIH0sCiAgICBwcm9wczogewogICAgICBzcmM6IHsKICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3QsIFByb21pc2VdLAogICAgICAgIGRlZmF1bHQ6ICcnLAogICAgICB9LAogICAgICBwYWdlOiB7CiAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgIGRlZmF1bHQ6IDEsCiAgICAgIH0sCiAgICAgIHJvdGF0ZTogewogICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICBkZWZhdWx0OiAwLAogICAgICB9LAogICAgICBzY2FsZTogewogICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgICAgZGVmYXVsdDogJ3BhZ2Utd2lkdGgnLAogICAgICB9LAogICAgICByZXNpemU6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB9LAogICAgICBhbm5vdGF0aW9uOiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgfSwKICAgICAgdGV4dDogewogICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgICAgfSwKICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW50ZXJuYWxTcmM6IHRoaXMuc3JjLAogICAgICAgIHBkZjogbnVsbCwKICAgICAgICBwZGZWaWV3ZXI6IG51bGwsCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgIHBkZjogZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHZhciBwZGZJbmZvID0gdmFsLnBkZkluZm8gfHwgdmFsLl9wZGZJbmZvCiAgICAgICAgdGhpcy4kZW1pdCgnbnVtcGFnZXMnLCBwZGZJbmZvLm51bVBhZ2VzKTsKICAgICAgfSwKICAgICAgcGFnZTogZnVuY3Rpb24gKHZhbCkgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICB0aGlzLnBkZi5nZXRQYWdlKHZhbCkudGhlbihmdW5jdGlvbiAocGRmUGFnZSkgewogICAgICAgICAgc2VsZi5wZGZWaWV3ZXIuc2V0UGRmUGFnZShwZGZQYWdlKTsKICAgICAgICAgIHNlbGYucGRmVmlld2VyLmRyYXcoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgc2NhbGU6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB0aGlzLmRyYXdTY2FsZWQodmFsKTsKICAgICAgfSwKICAgICAgcm90YXRlOiBmdW5jdGlvbiAobmV3Um90YXRlKSB7CiAgICAgICAgaWYgKHRoaXMucGRmVmlld2VyKSB7CiAgICAgICAgICB0aGlzLnBkZlZpZXdlci51cGRhdGUodGhpcy5zY2FsZSwgbmV3Um90YXRlKTsKICAgICAgICAgIHRoaXMucGRmVmlld2VyLmRyYXcoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGlmICghaXNQREZEb2N1bWVudExvYWRpbmdUYXNrKHNlbGYuaW50ZXJuYWxTcmMpKSB7CiAgICAgICAgc2VsZi5pbnRlcm5hbFNyYyA9IGNyZWF0ZUxvYWRpbmdUYXNrKHNlbGYuaW50ZXJuYWxTcmMpOwogICAgICAgIHNlbGYuJGVtaXQoJ2xvYWRpbmcnLCB0cnVlKTsKICAgICAgfQoKICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuY29udGFpbmVyOwogICAgICB2YXIgZXZlbnRCdXMgPSBuZXcgRXZlbnRCdXMoKTsKICAgICAgZXZlbnRCdXMub24oJ3BhZ2VyZW5kZXJlZCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBzZWxmLiRlbWl0KCdwYWdlcmVuZGVyZWQnLGUpOwogICAgICB9KTsgICAgICAKCiAgICAgIC8vIChPcHRpb25hbGx5KSBlbmFibGUgaHlwZXJsaW5rcyB3aXRoaW4gUERGIGZpbGVzLgogICAgICBzZWxmLnBkZkxpbmtTZXJ2aWNlID0gbmV3IFBERkxpbmtTZXJ2aWNlKHsKICAgICAgICBldmVudEJ1czogZXZlbnRCdXMsCiAgICAgICAgZXh0ZXJuYWxMaW5rVGFyZ2V0OiAyCiAgICAgIH0pOwoKICAgICAgLy8gKE9wdGlvbmFsbHkpIGVuYWJsZSBmaW5kIGNvbnRyb2xsZXIuCiAgICAgIHNlbGYucGRmRmluZENvbnRyb2xsZXIgPSBuZXcgUERGRmluZENvbnRyb2xsZXIoewogICAgICAgIGV2ZW50QnVzOiBldmVudEJ1cywKICAgICAgICBsaW5rU2VydmljZTogc2VsZi5wZGZMaW5rU2VydmljZQogICAgICB9KTsKCiAgICAgIGxldCBhbm5vdGF0aW9uTGF5ZXIgPSB1bmRlZmluZWQsCiAgICAgICAgdGV4dExheWVyID0gdW5kZWZpbmVkOwoKICAgICAgaWYgKHNlbGYuYW5ub3RhdGlvbikgewogICAgICAgIGFubm90YXRpb25MYXllciA9IG5ldyBEZWZhdWx0QW5ub3RhdGlvbkxheWVyRmFjdG9yeSgpOwogICAgICB9CiAgICAgIGlmIChzZWxmLnRleHQpIHsKICAgICAgICB0ZXh0TGF5ZXIgPSBuZXcgRGVmYXVsdFRleHRMYXllckZhY3RvcnkoKTsKICAgICAgfQoKICAgICAgc2VsZi5pbnRlcm5hbFNyYwogICAgICAgIC50aGVuKGZ1bmN0aW9uIChwZGZEb2N1bWVudCkgewogICAgICAgICAgLy8gRG9jdW1lbnQgbG9hZGVkLCByZXRyaWV2aW5nIHRoZSBwYWdlLgogICAgICAgICAgc2VsZi5wZGYgPSBwZGZEb2N1bWVudDsKICAgICAgICAgIHJldHVybiBwZGZEb2N1bWVudC5nZXRQYWdlKHNlbGYucGFnZSkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChwZGZQYWdlKSB7CiAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgcGFnZSB2aWV3IHdpdGggZGVmYXVsdCBwYXJhbWV0ZXJzLgogICAgICAgICAgc2VsZi5wZGZWaWV3ZXIgPSBuZXcgUERGUGFnZVZpZXcoewogICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lciwKICAgICAgICAgICAgaWQ6IHNlbGYucGFnZSwKICAgICAgICAgICAgc2NhbGU6IDEsCiAgICAgICAgICAgIGRlZmF1bHRWaWV3cG9ydDogcGRmUGFnZS5nZXRWaWV3cG9ydCh7CiAgICAgICAgICAgICAgc2NhbGU6IDEKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGV2ZW50QnVzOiBldmVudEJ1cywKICAgICAgICAgICAgdGV4dExheWVyRmFjdG9yeTogdGV4dExheWVyLAogICAgICAgICAgICBhbm5vdGF0aW9uTGF5ZXJGYWN0b3J5OiBhbm5vdGF0aW9uTGF5ZXIsCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIEFzc29jaWF0ZXMgdGhlIGFjdHVhbCBwYWdlIHdpdGggdGhlIHZpZXcsIGFuZCBkcmF3aW5nIGl0CiAgICAgICAgICBzZWxmLnBkZlZpZXdlci5zZXRQZGZQYWdlKHBkZlBhZ2UpOwogICAgICAgICAgLy8gU2V0IHVwIGEgc2Nyb2xsUGFnZUludG9WaWV3IGZ1bmN0aW9uIGZvciBvdXIgbGlua3MKICAgICAgICAgIHZhciB2aWV3ZXIgPSB7CiAgICAgICAgICAgIHNjcm9sbFBhZ2VJbnRvVmlldzogZnVuY3Rpb24ocGFyYW1zKSB7CiAgICAgICAgICAgICAgLy8gU2VuZCBhbiBldmVudCB3aGVuIGNsaWNraW5nIGludGVybmFsIGxpbmtzIHNvIHdlIGNhbiBoYW5kbGUgbG9hZGluZy9zY3JvbGxpbmcgdG8gdGhlIGNvcnJlY3QgcGFnZQogICAgICAgICAgICAgIHNlbGYuJGVtaXQoJ2xpbmstY2xpY2tlZCcsIHBhcmFtcyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9OwogICAgICAgICAgc2VsZi5wZGZMaW5rU2VydmljZS5zZXREb2N1bWVudChzZWxmLnBkZik7CiAgICAgICAgICBzZWxmLnBkZkxpbmtTZXJ2aWNlLnNldFZpZXdlcih2aWV3ZXIpOwogICAgICAgICAgc2VsZi5wZGZGaW5kQ29udHJvbGxlci5zZXREb2N1bWVudChzZWxmLnBkZik7CiAgICAgICAgICBzZWxmLmRyYXdTY2FsZWQoc2VsZi5zY2FsZSk7CgogICAgICAgICAgc2VsZi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBzZWxmLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBzZWxmLiRlbWl0KCdlcnJvcicsIGVycikKICAgICAgICAgIHNlbGYubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICBzZWxmLiRlbWl0KCdsb2FkaW5nJywgZmFsc2UpOwogICAgICAgIH0pCiAgICB9LAogICAgYmVmb3JlRGVzdHJveSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBpZiAoc2VsZi5wZGZWaWV3ZXIpIHsKICAgICAgICBzZWxmLnBkZlZpZXdlci5kZXN0cm95KCk7CiAgICAgICAgc2VsZi5wZGZWaWV3ZXIgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBjYWxjdWxhdGVTY2FsZTogZnVuY3Rpb24gKHdpZHRoID0gLTEsIGhlaWdodCA9IC0xKSB7CiAgICAgICAgdGhpcy5wZGZWaWV3ZXIudXBkYXRlKDEsIHRoaXMucm90YXRlKTsgLy8gUmVzZXQgc2NhbGluZyB0byAxIHNvIHRoYXQgInRoaXMucGRmVmlld2VyLnZpZXdwb3J0LndpZHRoIiBnaXZlcyBwcm9wZXIgd2lkdGg7CiAgICAgICAgaWYgKHdpZHRoID09PSAtMSAmJiBoZWlnaHQgPT09IC0xKSB7CiAgICAgICAgICB3aWR0aCA9IHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZnNldFdpZHRoOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHdpZHRoIC8gdGhpcy5wZGZWaWV3ZXIudmlld3BvcnQud2lkdGg7CiAgICAgIH0sCiAgICAgIGNhbGN1bGF0ZVNjYWxlSGVpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5wZGZWaWV3ZXIudXBkYXRlKDEsIHRoaXMucm90YXRlKTsgLy8gUmVzZXQgc2NhbGluZyB0byAxIHNvIHRoYXQgInRoaXMucGRmVmlld2VyLnZpZXdwb3J0LndpZHRoIiBnaXZlcyBwcm9wZXIgd2lkdGg7CiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuJHJlZnMuY29udGFpbmVyLm9mZnNldEhlaWdodDsKICAgICAgICB2YXIgcGFyZW50ZWwgPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgcmV0dXJuIHBhcmVudGVsLm9mZnNldEhlaWdodCAvIGhlaWdodDsKICAgICAgfSwKICAgICAgZHJhd1NjYWxlZDogZnVuY3Rpb24gKG5ld1NjYWxlKSB7CiAgICAgICAgaWYgKHRoaXMucGRmVmlld2VyKSB7CiAgICAgICAgICBpZiAobmV3U2NhbGUgPT09ICdwYWdlLXdpZHRoJykgewogICAgICAgICAgICBuZXdTY2FsZSA9IHRoaXMuY2FsY3VsYXRlU2NhbGUoKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOnNjYWxlIiwgbmV3U2NhbGUpOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZiAobmV3U2NhbGUgPT09ICdwYWdlLWhlaWdodCcpIHsKICAgICAgICAgICAgbmV3U2NhbGUgPSB0aGlzLmNhbGN1bGF0ZVNjYWxlSGVpZ2h0KCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpzY2FsZSIsIG5ld1NjYWxlKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMucGRmVmlld2VyLnVwZGF0ZShuZXdTY2FsZSwgdGhpcy5yb3RhdGUpOwogICAgICAgICAgLy8gVGhlIFNpbXBsZUxpbmtTZXJ2aWNlIGZyb20gdGhlIERlZmF1bHRBbm5vdGF0aW9uTGF5ZXJGYWN0b3J5IGRvZXNuJ3QgZG8gYW55dGhpbmcgd2l0aCBsaW5rcyBzbyBvdmVycmlkZSB3aXRoIG91ciBMaW5rU2VydmljZSBhZnRlciBpdCBpcyBjcmVhdGVkCiAgICAgICAgICBpZih0aGlzLmFubm90YXRpb24pIHsKICAgICAgICAgICAgdGhpcy5wZGZWaWV3ZXIuYW5ub3RhdGlvbkxheWVyID0gdGhpcy5wZGZWaWV3ZXIuYW5ub3RhdGlvbkxheWVyRmFjdG9yeS5jcmVhdGVBbm5vdGF0aW9uTGF5ZXJCdWlsZGVyKHRoaXMucGRmVmlld2VyLmRpdiwgdGhpcy5wZGZWaWV3ZXIucGRmUGFnZSk7CiAgICAgICAgICAgIHRoaXMucGRmVmlld2VyLmFubm90YXRpb25MYXllci5saW5rU2VydmljZSA9IHRoaXMucGRmTGlua1NlcnZpY2U7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBkZlZpZXdlci5kcmF3KCk7CiAgICAgICAgICAvLyBUaGUgZmluZENvbnRyb2xsZXIgbmVlZHMgdGhlIHRleHQgbGF5ZXIgdG8gaGF2ZSBiZWVuIGNyZWF0ZWQgaW4gdGhlIERyYXcoKSBmdW5jdGlvbiwgc28gbGluayBpdCBpbiBub3cKICAgICAgICAgIGlmICh0aGlzLnRleHQpIHsKICAgICAgICAgICAgdGhpcy5wZGZWaWV3ZXIudGV4dExheWVyLmZpbmRDb250cm9sbGVyID0gdGhpcy5wZGZGaW5kQ29udHJvbGxlcjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGluZycsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc2l6ZVNjYWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMucmVzaXplKSB7CiAgICAgICAgICB0aGlzLmRyYXdTY2FsZWQoJ3BhZ2Utd2lkdGgnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cg=="},{"version":3,"sources":["Pdfvuer.vue"],"names":[],"mappings":";AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pdfvuer.vue","sourceRoot":"../node_modules/pdfvuer/src","sourcesContent":["<template>\n  <div>\n    <slot v-if=\"loading\" name=\"loading\"/>\n    <div id=\"viewerContainer\" ref=\"container\">\n      <div id=\"viewer\" class=\"pdfViewer\"/>\n      <resizeSensor :initial=\"true\" @resize=\"resizeScale\"/>\n    </div>\n  </div>\n</template>\n<script>\n  'use strict';\n\n  import { getDocument } from 'pdfjs-dist';\n  import {\n    DefaultAnnotationLayerFactory,\n    DefaultTextLayerFactory,\n    PDFFindController,\n    PDFLinkService,\n    PDFPageView,\n    EventBus\n  } from 'pdfjs-dist/web/pdf_viewer.js';\n  import resizeSensor from 'vue-resize-sensor'\n  import PdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry'\n  function isPDFDocumentLoadingTask(obj) {\n    return typeof (obj) === 'object' && obj !== null && obj.__PDFDocumentLoadingTask === true;\n  }\n\n  export function createLoadingTask(src, options) {\n    var source;\n    if (typeof (src) === 'string')\n      source = {\n        url: src\n      };\n    else if (typeof (src) === 'object' && src !== null)\n      source = Object.assign({}, src);\n    else\n      throw new TypeError('invalid src type');\n\n    var loadingTask = getDocument(source).promise;\n    loadingTask.__PDFDocumentLoadingTask = true; // since PDFDocumentLoadingTask is not public\n\n    if (options && options.onPassword)\n      loadingTask.onPassword = options.onPassword;\n\n    if (options && options.onProgress)\n      loadingTask.onProgress = options.onProgress;\n\n    return loadingTask;\n  }\n\n  export default {\n    createLoadingTask: createLoadingTask,\n    components: {\n      resizeSensor\n    },\n    props: {\n      src: {\n        type: [String, Object, Promise],\n        default: '',\n      },\n      page: {\n        type: Number,\n        default: 1,\n      },\n      rotate: {\n        type: Number,\n        default: 0,\n      },\n      scale: {\n        type: [Number, String],\n        default: 'page-width',\n      },\n      resize: {\n        type: Boolean,\n        default: false,\n      },\n      annotation: {\n        type: Boolean,\n        default: false,\n      },\n      text: {\n        type: Boolean,\n        default: true,\n      },\n    },\n    data: function () {\n      return {\n        internalSrc: this.src,\n        pdf: null,\n        pdfViewer: null,\n        loading: true,\n      }\n    },\n    watch: {\n      pdf: function (val) {\n        var pdfInfo = val.pdfInfo || val._pdfInfo\n        this.$emit('numpages', pdfInfo.numPages);\n      },\n      page: function (val) {\n        var self = this;\n        this.pdf.getPage(val).then(function (pdfPage) {\n          self.pdfViewer.setPdfPage(pdfPage);\n          self.pdfViewer.draw();\n        });\n      },\n      scale: function (val) {\n        this.drawScaled(val);\n      },\n      rotate: function (newRotate) {\n        if (this.pdfViewer) {\n          this.pdfViewer.update(this.scale, newRotate);\n          this.pdfViewer.draw();\n        }\n      },\n    },\n    mounted: function () {\n      var self = this;\n      if (!isPDFDocumentLoadingTask(self.internalSrc)) {\n        self.internalSrc = createLoadingTask(self.internalSrc);\n        self.$emit('loading', true);\n      }\n\n      var container = this.$refs.container;\n      var eventBus = new EventBus();\n      eventBus.on('pagerendered', function(e) {\n        self.$emit('pagerendered',e);\n      });      \n\n      // (Optionally) enable hyperlinks within PDF files.\n      self.pdfLinkService = new PDFLinkService({\n        eventBus: eventBus,\n        externalLinkTarget: 2\n      });\n\n      // (Optionally) enable find controller.\n      self.pdfFindController = new PDFFindController({\n        eventBus: eventBus,\n        linkService: self.pdfLinkService\n      });\n\n      let annotationLayer = undefined,\n        textLayer = undefined;\n\n      if (self.annotation) {\n        annotationLayer = new DefaultAnnotationLayerFactory();\n      }\n      if (self.text) {\n        textLayer = new DefaultTextLayerFactory();\n      }\n\n      self.internalSrc\n        .then(function (pdfDocument) {\n          // Document loaded, retrieving the page.\n          self.pdf = pdfDocument;\n          return pdfDocument.getPage(self.page)\n        }).then(function (pdfPage) {\n          // Creating the page view with default parameters.\n          self.pdfViewer = new PDFPageView({\n            container: container,\n            id: self.page,\n            scale: 1,\n            defaultViewport: pdfPage.getViewport({\n              scale: 1\n            }),\n            eventBus: eventBus,\n            textLayerFactory: textLayer,\n            annotationLayerFactory: annotationLayer,\n          });\n          // Associates the actual page with the view, and drawing it\n          self.pdfViewer.setPdfPage(pdfPage);\n          // Set up a scrollPageIntoView function for our links\n          var viewer = {\n            scrollPageIntoView: function(params) {\n              // Send an event when clicking internal links so we can handle loading/scrolling to the correct page\n              self.$emit('link-clicked', params);\n            },\n          };\n          self.pdfLinkService.setDocument(self.pdf);\n          self.pdfLinkService.setViewer(viewer);\n          self.pdfFindController.setDocument(self.pdf);\n          self.drawScaled(self.scale);\n\n          self.loading = false;\n          self.$emit('loading', false);\n        }).catch(err => {\n          self.$emit('error', err)\n          self.loading = false\n          self.$emit('loading', false);\n        })\n    },\n    beforeDestroy() {\n      var self = this;\n      if (self.pdfViewer) {\n        self.pdfViewer.destroy();\n        self.pdfViewer = null;\n      }\n    },\n    methods: {\n      calculateScale: function (width = -1, height = -1) {\n        this.pdfViewer.update(1, this.rotate); // Reset scaling to 1 so that \"this.pdfViewer.viewport.width\" gives proper width;\n        if (width === -1 && height === -1) {\n          width = this.$refs.container.offsetWidth;\n        }\n\n        return width / this.pdfViewer.viewport.width;\n      },\n      calculateScaleHeight: function () {\n        this.pdfViewer.update(1, this.rotate); // Reset scaling to 1 so that \"this.pdfViewer.viewport.width\" gives proper width;\n        var height = this.$refs.container.offsetHeight;\n        var parentel = this.$refs.container.parentElement.parentElement;\n        return parentel.offsetHeight / height;\n      },\n      drawScaled: function (newScale) {\n        if (this.pdfViewer) {\n          if (newScale === 'page-width') {\n            newScale = this.calculateScale();\n            this.$emit(\"update:scale\", newScale);\n          }\n          else if (newScale === 'page-height') {\n            newScale = this.calculateScaleHeight();\n            this.$emit(\"update:scale\", newScale);\n          }\n          this.pdfViewer.update(newScale, this.rotate);\n          // The SimpleLinkService from the DefaultAnnotationLayerFactory doesn't do anything with links so override with our LinkService after it is created\n          if(this.annotation) {\n            this.pdfViewer.annotationLayer = this.pdfViewer.annotationLayerFactory.createAnnotationLayerBuilder(this.pdfViewer.div, this.pdfViewer.pdfPage);\n            this.pdfViewer.annotationLayer.linkService = this.pdfLinkService;\n          }\n          this.pdfViewer.draw();\n          // The findController needs the text layer to have been created in the Draw() function, so link it in now\n          if (this.text) {\n            this.pdfViewer.textLayer.findController = this.pdfFindController;\n          }\n          this.loading = false;\n          this.$emit('loading', false);\n        }\n      },\n      resizeScale: function () {\n        if (this.resize) {\n          this.drawScaled('page-width');\n        }\n      }\n    }\n  }\n</script>\n<style src=\"pdfjs-dist/web/pdf_viewer.css\"></style>\n"]}]}