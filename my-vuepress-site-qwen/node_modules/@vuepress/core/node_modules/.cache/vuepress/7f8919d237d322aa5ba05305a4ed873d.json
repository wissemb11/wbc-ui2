{"remainingRequest":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/babel-loader/lib/index.js??ref--3-1!/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/src/main.js","dependencies":[{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/src/main.js","mtime":1741550680658},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/cache-loader/dist/cjs.js","mtime":1741547334975},{"path":"/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/my-vuepress-site-qwen/node_modules/babel-loader/lib/index.js","mtime":1741547335076}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3dpc3NlbWIxMS9BbGxwcm9qZWN0cy9teV9kYXRhL3dlYl9kZXYvZ2xvYmFsX2Zyb250ZW5kL3NyYy9teVByb2R1Y3RzL215UGFja2FnZXMvMS4wLjAvd2JjLXVpMi9uZXh0L215LXZ1ZXByZXNzLXNpdGUtcXdlbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIi9ob21lL3dpc3NlbWIxMS9BbGxwcm9qZWN0cy9teV9kYXRhL3dlYl9kZXYvZ2xvYmFsX2Zyb250ZW5kL3NyYy9teVByb2R1Y3RzL215UGFja2FnZXMvMS4wLjAvd2JjLXVpMi9uZXh0L215LXZ1ZXByZXNzLXNpdGUtcXdlbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3dpc3NlbWIxMS9BbGxwcm9qZWN0cy9teV9kYXRhL3dlYl9kZXYvZ2xvYmFsX2Zyb250ZW5kL3NyYy9teVByb2R1Y3RzL215UGFja2FnZXMvMS4wLjAvd2JjLXVpMi9uZXh0L215LXZ1ZXByZXNzLXNpdGUtcXdlbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvaG9tZS93aXNzZW1iMTEvQWxscHJvamVjdHMvbXlfZGF0YS93ZWJfZGV2L2dsb2JhbF9mcm9udGVuZC9zcmMvbXlQcm9kdWN0cy9teVBhY2thZ2VzLzEuMC4wL3diYy11aTIvbmV4dC9teS12dWVwcmVzcy1zaXRlLXF3ZW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvaG9tZS93aXNzZW1iMTEvQWxscHJvamVjdHMvbXlfZGF0YS93ZWJfZGV2L2dsb2JhbF9mcm9udGVuZC9zcmMvbXlQcm9kdWN0cy9teVBhY2thZ2VzLzEuMC4wL3diYy11aTIvbmV4dC9teS12dWVwcmVzcy1zaXRlLXF3ZW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvd2lzc2VtYjExL0FsbHByb2plY3RzL215X2RhdGEvd2ViX2Rldi9nbG9iYWxfZnJvbnRlbmQvc3JjL215UHJvZHVjdHMvbXlQYWNrYWdlcy8xLjAuMC93YmMtdWkyL25leHQvbXktdnVlcHJlc3Mtc2l0ZS1xd2VuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvd2lzc2VtYjExL0FsbHByb2plY3RzL215X2RhdGEvd2ViX2Rldi9nbG9iYWxfZnJvbnRlbmQvc3JjL215UHJvZHVjdHMvbXlQYWNrYWdlcy8xLjAuMC93YmMtdWkyL25leHQvbXktdnVlcHJlc3Mtc2l0ZS1xd2VuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3dpc3NlbWIxMS9BbGxwcm9qZWN0cy9teV9kYXRhL3dlYl9kZXYvZ2xvYmFsX2Zyb250ZW5kL3NyYy9teVByb2R1Y3RzL215UGFja2FnZXMvMS4wLjAvd2JjLXVpMi9uZXh0L215LXZ1ZXByZXNzLXNpdGUtcXdlbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmVuZHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBBcHAgZnJvbSAiLi9BcHAudnVlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuL3JvdXRlciI7IC8vIEltcG9ydCB0aGUgcm91dGVyCmltcG9ydCBzdG9yZSBmcm9tICIuL3N0b3JlIjsgLy8gSW1wb3J0IHRoZSBzdG9yZQppbXBvcnQgdnVldGlmeSBmcm9tICIuL3BsdWdpbnMvdnVldGlmeSI7IC8vIFBhdGggdG8geW91ciBWdWV0aWZ5IHBsdWdpbgppbXBvcnQgInZ1ZXRpZnkvZGlzdC92dWV0aWZ5Lm1pbi5jc3MiOyAvLyBFbnN1cmUgeW91IGltcG9ydCB0aGUgVnVldGlmeSBDU1MKCmltcG9ydCAqIGFzIHZ1ZXRpZnlNb2R1bGUgZnJvbSAidnVldGlmeS9saWIiOwovLyBnbG9iYWwudnVldGlmeU1vZHVsZSA9IHZ1ZXRpZnlNb2R1bGU7CgppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBCb290c3RyYXBWdWUsIEljb25zUGx1Z2luIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CmltcG9ydCAqIGFzIGJvb3RzdHJhYk1vZHVsZSBmcm9tICJib290c3RyYXAtdnVlIjsKaW1wb3J0ICJib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLmNzcyI7CmltcG9ydCAiYm9vdHN0cmFwLXZ1ZS9kaXN0L2Jvb3RzdHJhcC12dWUuY3NzIjsKaW1wb3J0ICJAbWRpL2ZvbnQvY3NzL21hdGVyaWFsZGVzaWduaWNvbnMubWluLmNzcyI7IC8vIE1hdGVyaWFsIERlc2lnbiBJY29ucwoKaW1wb3J0IFdCSHRtbCBmcm9tICIuL2NvbXBvbmVudHMvV0JIdG1sLnZ1ZSI7CmltcG9ydCBXQkxpbmsgZnJvbSAiLi9jb21wb25lbnRzL1dCTGluay52dWUiOwppbXBvcnQgV0JEYXRhVmlld2VyIGZyb20gIi4vY29tcG9uZW50cy9XQkRhdGFWaWV3ZXIudnVlIjsKaW1wb3J0IFdCQWxlcnQgZnJvbSAiLi9jb21wb25lbnRzL1dCQWxlcnQudnVlIjsKaW1wb3J0IEpzb25WaWV3ZXIgZnJvbSAidnVlLWpzb24tdmlld2VyIjsKaW1wb3J0IE1hcmtkb3duSXQgZnJvbSAibWFya2Rvd24taXQiOwppbXBvcnQgdnVlUmVzb3VyY2UgZnJvbSAidnVlLXJlc291cmNlIjsKaW1wb3J0IFZ1ZU9mZmljZUV4Y2VsIGZyb20gIkB2dWUtb2ZmaWNlL2V4Y2VsIjsKaW1wb3J0IFZ1ZU9mZmljZURvY3ggZnJvbSAiQHZ1ZS1vZmZpY2UvZG9jeCI7CmltcG9ydCBWdWVEb2NQcmV2aWV3IGZyb20gInZ1ZS1kb2MtcHJldmlldyI7CmltcG9ydCBwZGZ2dWVyIGZyb20gInBkZnZ1ZXIiOwppbXBvcnQgVnVlQ29kZW1pcnJvciBmcm9tICJ2dWUtY29kZW1pcnJvciI7CmltcG9ydCB7IGNvZGVtaXJyb3IgfSBmcm9tICJ2dWUtY29kZW1pcnJvciI7CmltcG9ydCAiY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5jc3MiOwovLyByZXF1aXJlIG1vcmUgY29kZW1pcnJvciByZXNvdXJjZS4uLgppbXBvcnQgImNvZGVtaXJyb3IvbW9kZS9qYXZhc2NyaXB0L2phdmFzY3JpcHQuanMiOwppbXBvcnQgVHVybkRvd24gZnJvbSAidHVybmRvd24iOwppbXBvcnQgaHRtbF9yZXNzb3VyY2VzIGZyb20gIi4vZ2xvYmFscy9odG1sX3Jlc3NvdXJjZXMiOwppbXBvcnQgVnVlQ29va2llcyBmcm9tICJ2dWUtY29va2llcyI7CmltcG9ydCBWdWVNb21lbnQgZnJvbSAidnVlLW1vbWVudCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50LXRpbWV6b25lIjsKaW1wb3J0IFZ1ZUNyeXB0b2pzIGZyb20gInZ1ZS1jcnlwdG9qcyI7CmltcG9ydCB3YmNXaWtpT2JqIGZyb20gIi4vZ2xvYmFscy93YmNXaWtpT2JqIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7ClZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlOwp2YXIgbGFuZ3VhZ2VzID0gWyJlbiIsICJmciIsICJhciJdOwp2YXIgV0JDOwphbGVydCgiaGhoaGhoaGhoaGhoaGhoIik7CmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsKGFwcCkgewogIHZhciBfV0JDXyQkb3B0aW9uczsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgaWYgKCFhcHApIHsKICAgIGNvbnNvbGUuZXJyb3IoIlZ1ZSBpcyBub3QgYXZhaWxhYmxlIGluIGluc3RhbGwgZnVuY3Rpb24iKTsKICAgIHJldHVybjsKICB9CiAgYXBwLnVzZSh2dWV0aWZ5KTsKICAvLyBpbXBvcnQgVGhlTW9kZWxNeUFsZXJ0Q29tcCBmcm9tICJAL2NvbXBvbmVudHMvdGhlQ29tcHMvbXlBbGVydENvbXAvVGhlTW9kZWxNeUFsZXJ0Q29tcC52dWUiOwoKICBhcHAudXNlKFZ1ZXgpOwogIGFwcC51c2UoVnVlUm91dGVyKTsKCiAgLy8gTWFrZSBCb290c3RyYXBWdWUgYXZhaWxhYmxlIHRocm91Z2hvdXQgeW91ciBwcm9qZWN0CiAgYXBwLnVzZShCb290c3RyYXBWdWUpOwogIC8vIE9wdGlvbmFsbHkgaW5zdGFsbCB0aGUgQm9vdHN0cmFwVnVlIGljb24gY29tcG9uZW50cyBwbHVnaW4KICBhcHAudXNlKEljb25zUGx1Z2luKTsKICBhcHAudXNlKEpzb25WaWV3ZXIpOwogIGFwcC51c2UoVnVlQ29kZW1pcnJvciwgewogICAgLy8gb3B0aW9uYWwgZGVmYXVsdCBnbG9iYWwgb3B0aW9ucwogICAgYXV0b2ZvY3VzOiB0cnVlLAogICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgaW5kZW50V2l0aFRhYjogdHJ1ZSwKICAgIHRhYlNpemU6IDIKICAgIC8vIC4uLgogIH0pOwogIGFwcC51c2UoVnVlQ29va2llcyk7CiAgYXBwLnVzZShWdWVNb21lbnQsIHsKICAgIG1vbWVudDogbW9tZW50CiAgfSk7CiAgYXBwLnVzZShWdWVDcnlwdG9qcyk7CiAgdmFyIHdiY09iaiA9IHsKICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLml0ZW1fIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgdmFyIF90aGlzJGl0ZW1fOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCd4eHh4eHh4eHh4eHh4eHh4eHh4eHh5eXl5eXl5eXl5eXl5eXl5eXl5eXknKQogICAgICAgIGlmICgoX3RoaXMkaXRlbV8gPSB0aGlzLml0ZW1fKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXyAhPT0gdm9pZCAwICYmIF90aGlzJGl0ZW1fLnVwZGF0ZXIpIHsKICAgICAgICAgIHRoaXMuaXRlbV8udXBkYXRlcih0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaXRlbV8gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICB2YXIgX3RoaXMkaXRlbV8yOwogICAgICAgIGlmICgoX3RoaXMkaXRlbV8yID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8yICE9PSB2b2lkIDAgJiYgX3RoaXMkaXRlbV8yLm9wdGlvbnMpIHsKICAgICAgICAgIHRoaXMuaXRlbV8ub3B0aW9ucy5pc1ZhbGlkID0gdGhpcy5pbnRlcm5hbFZhbHVlSXNWYWxpZDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pdGVtXy5hc0NoaWxkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLml0ZW1BY2Nlc3NlYmlsaXR5OwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICAgIGlmICh0aGlzLml0ZW0gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICB2YXIgX3RoaXMkaXRlbTsKICAgICAgICAvLyBjb25zb2xlLmxvZygneHh4eHh4eHh4eHh4eHh4eHh4eHh4JywgdGhpcy5pdGVtPy50cmFja2VyKQogICAgICAgIGlmICh0eXBlb2YgKChfdGhpcyRpdGVtID0gdGhpcy5pdGVtKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtLnRyYWNrZXIpID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIHRoaXMuaXRlbS50cmFja2VyKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gbGV0IGZpbmFsUmVuZGVyID0gdGhpcy50b1dCQ18odGhpcy5vYmpMYW5nKHRoaXMuaXRlbSx0aGlzLmxhbmcpLGgsdGhpcy5jaGlsZHJlbl8sdGhpcy53cmFwXykgfHwge307CiAgICAgIHZhciBmaW5hbFJlbmRlciA9IHRoaXMudG9XQkNfKHRoaXMuaXRlbV8sIGgsIHRoaXMuY2hpbGRyZW5fLCB0aGlzLndyYXBfKSB8fCB7fTsKICAgICAgLy8gbGV0IGZpbmFsUmVuZGVyCgogICAgICAvLyAvLyBpZiAoIWZpbmFsUmVuZGVyKSB7IHJldHVybiBudWxsIH0KCiAgICAgIC8vIGlmKHRoaXMuaXRlbV8/Lm91dHB1dCkKICAgICAgLy8gICB7CiAgICAgIC8vICAgICAvLyBhbGVydCgnd2F3JykKICAgICAgLy8gICAgIC8vIHRoaXMudG9XQkNfKHRoaXMuaXRlbV8sIGgsIHRoaXMuY2hpbGRyZW5fLCB0aGlzLndyYXBfKTsKCiAgICAgIC8vICAgZmluYWxSZW5kZXIgPXRoaXMub3V0cHV0UmVuZGVyKGgsIHRoaXMuaXRlbV8pCgogICAgICAvLyAgIH0KICAgICAgLy8gICBlbHNlIHsKCiAgICAgIC8vICAgZmluYWxSZW5kZXIgPXRoaXMudG9XQkNfKHRoaXMuaXRlbV8sIGgsIHRoaXMuY2hpbGRyZW5fLCB0aGlzLndyYXBfKTsKICAgICAgLy8gfQoKICAgICAgLy8gbGV0IG1haW5Ub1JlbmRlciA9IHRoaXMudG9XQkNfKGVsLCBoXywgdGhpcy5jaGlsZHJlbl8sIHRoaXMud3JhcF8pOwoKICAgICAgLyogCiAgICAgICAgICAgIGxldCBlbCA9IHRoaXMuaXRlbV8KICAgICAgICAgICAgbGV0IGhfID0gaAogICAgICAgICAgICBsZXQgbWFpblRvUmVuZGVyID0gZmluYWxSZW5kZXIKICAgICAgICAgICAgaWYgKGVsPy5vdXRwdXQpIHsKICAgICAgICAgICAgICBsZXQgdGhlT3V0cHV0ID0gdGhpcy5jbG9uZShlbD8ub3V0cHV0IHx8IHt9KQogICAgICAKICAgICAgICAgICAgICBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bdmFsXSB8fCB2YWwKICAgICAgICAgICAgICBsZXQgb2JqID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKQogICAgICAKICAgICAgICAgICAgICAvLyAgICAgbWFpblRvUmVuZGVyID0gaF8oJ1dCQycsIHsKICAgICAgICAgICAgICAvLyAgICAgICBrZXl5OiBgYXJyLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgICAgICAgICAgLy8gICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAvLyAgICAgICAgIGl0ZW06IG9iaiwKICAgICAgICAgICAgICAvLyAgICAgICB9LAogICAgICAgICAgICAgIC8vICAgICB9KQogICAgICAKICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSB7IHJhdzogdGhpcy5tYWluIH0KICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3QodGhlT3V0cHV0LCBvKQogICAgICAgICAgICAgICAgICAgbWFpblRvUmVuZGVyID0gdGhlT3V0cHV0IAogICAgICAKICAgICAgCiAgICAgIAogICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlT3V0cHV0ID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgIC8vIHRoaXMudk5vZGVzPXZOb2RlcwogICAgICAKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KDExMTExMSkKICAgICAgCiAgICAgICAgICAgICAgICBtYWluVG9SZW5kZXIgPSB0aGlzLnRvV0JDXyhlbC5vdXRwdXQoaF8sIHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpLCBoXyk7CiAgICAgICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgeyBwcm9wczogeyBpdGVtOiBlbC5vdXRwdXQoaF8sIHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpIH19KTsKICAgICAgICAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9IGVsLm91dHB1dChoXywgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSkgCiAgICAgICAgICAgICAgICByZXR1cm4gbWFpblRvUmVuZGVyCiAgICAgICAgICAgICAgfQogICAgICAKICAgICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoZU91dHB1dCkpIHsKICAgICAgCiAgICAgICAgICAgICAgICBsZXQgb2JqID0gdGhlT3V0cHV0Lm1hcCgoZSkgPT4gewogICAgICAKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudk5vZGVzPy5bYCR7ZX1gXSkgeyByZXR1cm4gdGhpcy52Tm9kZXNbYCR7ZX1gXSB9CiAgICAgICAgICAgICAgICAgIC8vIGVsc2UgeyByZXR1cm4gZX0KICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhfKCdXQkMnLCB7CiAgICAgICAgICAgICAgICAgICAgICBrZXl5OiBgd2JodG1sLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihlLCBmKSwKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIG1haW5Ub1JlbmRlciA9IG9iagogICAgICAKICAgICAgCiAgICAgIAogICAgICAgICAgICAgICAgLy8gIGxldCBmID0gKHZhbCkgPT4gewogICAgICAgICAgICAgICAgLy8gICAgaWYgKHZhbCA9PSAnd2JjUHJvcHMnKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICByZXR1cm4gdGhpcy53YmNQcm9wcyhlbCwgaF8pCiAgICAgICAgICAgICAgICAvLyAgICB9CiAgICAgICAgICAgICAgICAvLyAgICBpZiAodmFsID09ICdyYXcnKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgIHJldHVybiB0aGlzLm1haW4KICAgICAgICAgICAgICAgIC8vICAgIH0KICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiB0aGlzLnZOb2Rlcz8uW3ZhbF0gfHwgdmFsCiAgICAgICAgICAgICAgICAvLyAgfQogICAgICAgICAgICAgICAgLy8gbGV0IG8gPSB7Li4udGhpcy52Tm9kZXMscmF3OnRoaXMubWFpbn0KICAgICAgICAgICAgICAgIC8vICAgbGV0IG9iaiA9IHRoaXMucHJvamVjdCh0aGVPdXRwdXQsIG8pCiAgICAgICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSB0aGVPdXRwdXQKICAgICAgCiAgICAgICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgewogICAgICAgICAgICAgICAgLy8gICBrZXl5OiBgYXJyLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgICAgICAgICAgICAvLyAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgaXRlbTogdGhpcy50cmFuc2ZPYmoob2JqLCBmKSwKICAgICAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgIAogICAgICAKICAgICAgICAgICAgICB9CiAgICAgIAogICAgICAgICAgICAgIGVsc2UgaWYgKAogICAgICAgICAgICAgICAgWydib29sZWFuJywgJ3N0cmluZycsICdudW1iZXInXS5pbmNsdWRlcyh0eXBlb2YgdGhlT3V0cHV0KQogICAgICAgICAgICAgICkgewogICAgICAKICAgICAgICAgICAgICAgIGlmICh0aGVPdXRwdXQuZW5kc1dpdGgoJ0h0bWwnKSkgewogICAgICAgICAgICAgICAgICBhbGVydCh0aGVPdXRwdXQpCiAgICAgICAgICAgICAgICAgIC8vIGxldCBvYmogPSB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgICAgICAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9ICB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgICAgICAgICAgICAgIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHRoaXMudHJhbnNmT2JqKGVsLm91dHB1dCwgZikgfSB9KQogICAgICAgICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgewogICAgICAgICAgICAgICAgICAvLyAgIGtleXk6IGBhcnIta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICAgICAgLy8gICBwcm9wczogewogICAgICAgICAgICAgICAgICAvLyAgICAgaXRlbTogb2JqLAogICAgICAgICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgIAogICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudk5vZGVzPy5bdGhlT3V0cHV0XSkgeyBtYWluVG9SZW5kZXIgPSB0aGlzLnZOb2Rlcz8uW3RoZU91dHB1dF0gfQogICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgCiAgICAgICAgICAgICAgICAgICAgbWFpblRvUmVuZGVyID0gaF8oJ1dCQycsIHsKICAgICAgICAgICAgICAgICAgICAgIGtleXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgfWAsCiAgICAgICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihlbC5vdXRwdXQsIGYpLAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1BsYWluT2JqZWN0KHRoZU91dHB1dCkpIHsKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdvdXRwdXR0dHR0dHR0dHR0dCcpCiAgICAgICAgICAgICAgICAvLyBhbGVydCh0aGVPdXRwdXQpCiAgICAgIAogICAgICAgICAgICAgICAgbGV0IG9iaiA9IHt9CiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGVPdXRwdXQpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHsKICAgICAgCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZOb2Rlcz8uW2Ake3ZhbH1gXSkgeyBvYmpba2V5XSA9IHRoaXMudk5vZGVzW2Ake3ZhbH1gXSB9CiAgICAgICAgICAgICAgICAgIC8vIGVsc2UgeyBvYmpba2V5XSA9IGV9CiAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gaF8oJ1dCQycsIHsKICAgICAgICAgICAgICAgICAgICAgIGtleXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMudHJhbnNmT2JqKHZhbCwgZiksCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAvLyAgIGFsZXJ0KGtleSkKICAgICAgCiAgICAgICAgICAgICAgICAvLyBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bdmFsXSB8fCB2YWwKICAgICAgICAgICAgICAgIC8vIGxldCBvYmogPSB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgIAogICAgICAgICAgICAgICAgLy8gICBpZiAodHlwZW9mIHZhbD09J3N0cmluZycgJiYgdGhpcy52Tm9kZXM/Llt2YWxdKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgb2JqW2tleV0gPSB0aGlzLnZOb2Rlc1t2YWxdCiAgICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAgIC8vICAgZWxzZSB7IG9ialtrZXldID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKSB9CiAgICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgICAgLy8gbWFpblRvUmVuZGVyPW9iagogICAgICAKICAgICAgCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb2JqampqampqampqampqIDo+PiAnLCBvYmopOwogICAgICAgICAgICAgICAgLy8gbGV0IGYgPSAodmFsKSA9PiB0aGlzLnZOb2Rlcz8uW3ZhbF0gfHwgdmFsCiAgICAgICAgICAgICAgICAvLyBsZXQgb2JqID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKQogICAgICAKICAgICAgICAgICAgICAgIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7CiAgICAgICAgICAgICAgICAgIGtleXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICBpdGVtOiBvYmosCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KTsKICAgICAgCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQodGhlT3V0cHV0KQogICAgICAgICAgICAgICAgbGV0IG9iaiA9IHRoaXMudHJhbnNmT2JqKHRoZU91dHB1dCwgZikKICAgICAgICAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9ICB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSB0aGVPdXRwdXQuZW5kc1dpdGgoJ0h0bWwnKSA/IGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHRoaXMudk5vZGVzW3RoZU91dHB1dF0gfSB9KSA6IHRoaXMudHJhbnNmT2JqKHRoZU91dHB1dCwgZikKICAgICAgICAgICAgICAgIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7CiAgICAgICAgICAgICAgICAgIGtleXk6IGBhcnIta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICBpdGVtOiBvYmosCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAKICAgICAgCiAgICAgICAgICAgICAgfQogICAgICAKICAgICAgICAgICAgfQogICAgICAKICAgICAgICAgICAgZmluYWxSZW5kZXI9bWFpblRvUmVuZGVyICovCgogICAgICAvLyAJaWYgKHR5cGVvZiB0aGlzLml0ZW1fPy5wcm90ZWN0ZWQhPSdib29sZWFuJykgewogICAgICAvLyAJCWZpbmFsUmVuZGVyPSBoKCdXQkMnLCB7CiAgICAgIC8vIAkJLyoga2V5eTogYHdiYy1rZXktaGVhZGVyLSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLCAqLyBwcm9wczoKICAgICAgLy8gCQl7IGl0ZW06IHRoaXMuaXRlbV8/LnByb3RlY3RlZCB9LAogICAgICAvLyAJfSkKCiAgICAgIC8vIH0KICAgICAgLy8gZWxzZSBpZih0aGlzLml0ZW1fPy5wcm90ZWN0ZWQ9PT10cnVlKXsKCiAgICAgIC8vIAkJbGV0IHByb3RlY3RlZENvbnRlbnQgPSB7CiAgICAgIC8vIAkJZW46ICJGb3JiaWRkZW4gYWNjZXNzIiwKICAgICAgLy8gZnI6J0FjY8OocyBpbnRlcmRpdCcsCiAgICAgIC8vIGFyOifYp9mE2YjYtdmI2YQg2YXZhdmG2YjYuScKICAgICAgLy8gCX0KICAgICAgLy8gCWZpbmFsUmVuZGVyPSBoKCdXQkMnLCB7CiAgICAgIC8vIAkJLyoga2V5eTogYHdiYy1rZXktaGVhZGVyLSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLCAqLyBwcm9wczoKICAgICAgLy8gCQkJeyBpdGVtOiBwcm90ZWN0ZWRDb250ZW50IH0sCiAgICAgIC8vIAl9KQoKICAgICAgLy8gfQogICAgICAvLyBsZXQgZmluYWxSZW5kZXIgPSB0aGlzLnRvV0JDXyggaCkgfHwge307CgogICAgICAvKiBpZiAodHlwZW9mIHRoaXMuaXRlbV8/Lm91dHB1dCA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAvLyBhbGVydCgxMTExMTEpCiAgICAgICAgCQogICAgICAgICAgIGZpbmFsUmVuZGVyID0gdGhpcy5pdGVtXy5vdXRwdXQodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwgaCk7CiAgICAgICAgfSAqLyAvKiAgZWxzZSBpZiAob3V0cHV0QXJyYXkpIHsKICAgICAgICAgICAgIGZpbmFsUmVuZGVyID0gaCgKICAgICAgICAgICAgICdWQ2FyZCcsCiAgICAgICAgICAgICB7fSwKICAgICAgICAgICAgIG91dHB1dEFycmF5Lm1hcCgKICAgICAgICAgICAgIChlKSA9PiBWTnM/LltlXSB8fCBoKCdWQ2FyZCcsIHsgY2xhc3M6ICdyZWQgcGEtMTAgbWEtMTAnIH0sIFtgVGhlIG91dHB1dCBpdGVtICIke2V9IiBpcyBub3QgYWN0aXZhdGVkIGluIG9wdGlvbnMuYF0pCiAgICAgICAgICAgICApCiAgICAgICAgICAgICApOwogICAgICAgICAgICAgfSAqLwogICAgICAvLyByZXR1cm4gaCgnZGl2Jyx7fSxbZmluYWxSZW5kZXIsdGhpcy5hbGVydChoLC4uLnRoaXMuYWxlcnRPYmpzKV0pCiAgICAgIC8vIGlmKHRoaXMudk5vZGVzLmFsZXJ0KXsKICAgICAgLy8gcmV0dXJuIHRoaXMuYWxlcnQKICAgICAgLy8gcmV0dXJuIHRoaXMuYWxlcnQoOTk5OTksJ2dnZ2dnZ2dnZycse2NvbXA6J2xpJyxhOidhYWFhYSd9KShoKQoKICAgICAgLy8gcmV0dXJuIGgoJ2RpdicsIHtvbjogeyAnbW91c2Vkb3duJzogdGhpcy5oYW5kbGVNb3VzZURvd24sIG1vdXNldXA6IHRoaXMuaGFuZGxlTW91c2VVcCB9IH0sIFtmaW5hbFJlbmRlcl0pCiAgICAgIC8vIC8vIGxldCBWTnMgPSB0aGlzLm1haW5SZW5kZXIodGhpcy5pdGVtXywgaCl8fHt9OwogICAgICAvLyBsZXQgVk5zID0gdGhpcy50b1dCQ18odGhpcy5pdGVtXywgaCl8fHt9OwoKICAgICAgLy8gLy8gbGV0IGZpbmFsUmVuZGVyID0gdGhpcy5tYWluUmVuZGVyKHRoaXMuaXRlbV8saCk7CiAgICAgIC8vIC8vIHJldHVybiBoKCdsaScse30sW2ZpbmFsUmVuZGVyLm1haW5dKS5jaGlsZHJlbgogICAgICAvLyAvLyByZXR1cm4gaCgnbGknLHt9LFtmaW5hbFJlbmRlci5jbG9zZV0pLmNoaWxkcmVuCiAgICAgIC8vIC8vIGZpbmFsUmVuZGVyPWgoJ2xpJyxbJ2RkZGRkZGRkZGRkZGRkJyx0aGlzLm1haW5SZW5kZXIodGhpcy5pdGVtXyxoKSx0aGlzLml0ZW1TcmModGhpcy5pdGVtXyx0aGlzLml0ZW0wLGgpXSkKCiAgICAgIC8vIGxldCBvdXRwdXRBcnJheQogICAgICAvLyBpZiAodGhpcy5pdGVtXz8ub3V0cHV0ID09ICdhbGwnIHx8IHRoaXMuaXRlbV8/Lm9wdGlvbnM/Lm1vZGUgPT0gJ2RldicpIHsgb3V0cHV0QXJyYXkgPSBPYmplY3Qua2V5cyhWTnMpIH0KICAgICAgLy8gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLml0ZW1fPy5vdXRwdXQpKSB7IG91dHB1dEFycmF5ID0gdGhpcy5pdGVtXz8ub3V0cHV0IH0KCiAgICAgIC8vIGlmICh0aGlzLml0ZW1fPy5vcHRpb25zLm1vZGUgPT0gJ2RldicpIHsKCiAgICAgIC8vIAlmaW5hbFJlbmRlciA9IFZOcy5hbGwKICAgICAgLy8gfQogICAgICAvLyBlbHNlIGlmICh0eXBlb2YgdGhpcy5pdGVtXz8ub3V0cHV0ID09ICdmdW5jdGlvbicpIHsKICAgICAgLy8gCS8vIGFsZXJ0KDExMTExMSkKICAgICAgLy8gCWZpbmFsUmVuZGVyID0gdGhpcy5pdGVtXy5vdXRwdXQodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwgaCk7CiAgICAgIC8vIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkpIHsKICAgICAgLy8gCWZpbmFsUmVuZGVyID0gaCgKICAgICAgLy8gCQknVkNhcmQnLAogICAgICAvLyAJCXt9LAogICAgICAvLyAJCW91dHB1dEFycmF5Lm1hcCgKICAgICAgLy8gCQkJKGUpID0+IFZOcz8uW2VdIHx8IGgoJ1ZDYXJkJywgeyBjbGFzczogJ3JlZCBwYS0xMCBtYS0xMCcgfSwgW2BUaGUgb3V0cHV0IGl0ZW0gIiR7ZX0iIGlzIG5vdCBhY3RpdmF0ZWQgaW4gb3B0aW9ucy5gXSkKICAgICAgLy8gCQkpCiAgICAgIC8vIAkpOwogICAgICAvLyB9CgogICAgICAvLyBlbHNlIHsgZmluYWxSZW5kZXIgPSBWTnM/Lm1haW4gfQoKICAgICAgLy8gY29uc29sZS5sb2coJ2ZpbmFsUmVuZGVyIDo+PiAnLCBmaW5hbFJlbmRlcik7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpbmFsUmVuZGVyKSkgewogICAgICAgIC8vIGZpbmFsUmVuZGVyID0gaCgnc3BhbicsIFsuLi5maW5hbFJlbmRlci5maWx0ZXIoZT0+ZSE9bnVsbCldKTsKICAgICAgICBmaW5hbFJlbmRlciA9IGgoInNwYW4iLCBmaW5hbFJlbmRlci5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIF9lJCRlbDsKICAgICAgICAgIHJldHVybiAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgfHwgKF9lJCRlbCA9IGUuJGVsKSA9PT0gbnVsbCB8fCBfZSQkZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lJCRlbC5jaGlsZHJlbikgfHwgZTsKICAgICAgICAgIHJldHVybiBlOwogICAgICAgIH0pKTsKCiAgICAgICAgLy8gcmV0dXJuIGZpbmFsUmVuZGVyCiAgICAgIH0KCiAgICAgIC8vIGlmICgpKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdCA9PT0gdHJ1ZSB8fCB0aGlzLmlzTm9uRW1wdHkodGhpcy5hbGVydE9ianMpKSB7CiAgICAgICAgLy8gbGV0IG5hbWVFbD10aGlzLnJhbmRvbUtleSgnJywzKS50b0xvd2VyQ2FzZSgpCgogICAgICAgIHZhciBzZWxlY3RJdGVtT3B0aW9ucyA9IHsKICAgICAgICAgIC8vIGtleTogYGtleS0ke3RoaXMuYWxlcnRPYmpzLmxlbmd0aH1gLAogICAgICAgICAgY2xhc3M6ICJwYS0xIG1hLTEiLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvciwKICAgICAgICAgICAgYm9yZGVyOiAiMTBweCBkYXNoZWQgYmxhY2siCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGl0bGU6ICJXQkMgIiArICIiLmNvbmNhdCh0aGlzLm5hbWVFbCkgKyAiPT09PiIgKyB0aGlzLmlzVm5vZGUodGhpcy5pdGVtXykgPyAiVk5vZGUiIDogSlNPTi5zdHJpbmdpZnkodGhpcy5pdGVtXykKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBmaW5hbFJlbmRlciA9IGgoJ2RpdicsIHNlbGVjdEl0ZW1PcHRpb25zLCBbdGhpcy5uYW1lRWwsIGZpbmFsUmVuZGVyLCBoKCdKc29uVmlld2VyJywgeyBwcm9wczogeyB2YWx1ZTogdGhpcy5hbGVydE9ianMgfSB9KV0pOwogICAgICAgIGZpbmFsUmVuZGVyID0gaCgiZGl2Iiwgc2VsZWN0SXRlbU9wdGlvbnMsIFsiIi5jb25jYXQodGhpcy5pc1Zub2RlKHRoaXMuaXRlbV8pID8gIlZOb2RlOiIgOiAiIikuY29uY2F0KHRoaXMubmFtZUVsLCAiPT4iKSwgZmluYWxSZW5kZXIsIGgoIldCQWxlcnQiLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBpdGVtczogdGhpcy5hbGVydE9ianMKICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICAvLyBoKCdXQkFsZXJ0JywgeyBwcm9wczogeyBpdGVtczogdGhpcy5hbGVydE9ianMgfSB9KQogICAgICAgIF0pOwogICAgICB9CgogICAgICAvKiBpZiAodGhpcy5pc05vbkVtcHR5KHRoaXMuYWxlcnRPYmpzKSkKICAgICAgICByZXR1cm4gaCgnZGl2JywgW2goJ0pzb25WaWV3ZXInLHtwcm9wczp7dmFsdWU6Wydzc3NzJywnYWFhYSddfX0pLGZpbmFsUmVuZGVyXSk7CiAgICAgIGVsc2UKICAgICAgKi8KCiAgICAgIC8vIHJldHVybiBoKCdkaXYnLCBbdGhpcy52Tm9kZXMucmF3LCB0aGlzLnZOb2Rlcy53YmNQcm9wcyxmaW5hbFJlbmRlcl0pOwogICAgICByZXR1cm4gZmluYWxSZW5kZXI7CiAgICAgIC8vIHJldHVybiBoKCdkaXYnLHt9LE9iamVjdC5rZXlzKFZOcykubWFwKGs9PihoKCdsaScse2NsYXNzOiJtYS0xIHBhLTEifSxbayxWTnNba10/LmNoaWxkcmVufHxWTnNba11dKSkpKTsKICAgICAgLy8gcmV0dXJuIEFycmF5LmlzQXJyYXkoZmluYWxSZW5kZXIpP2ZpbmFsUmVuZGVyOltmaW5hbFJlbmRlcl07CiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgaXRlbTogewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9LAogICAgICBjaGlsZHJlbjogewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9LAogICAgICB3cmFwOiB7CiAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGV4dEtleTogewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgfSwKICAgICAgd2lraTogewogICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9LAogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZmlsZUNvbnRlbnQ6IG51bGwsCiAgICAgICAgbWFpbjogbnVsbCwKICAgICAgICBpbnRlcm5hbFZhbHVlOiAiODg4ODg4ODg4ODg4IiwKICAgICAgICBpbnRlcm5hbFZhbHVlSXNWYWxpZDogbnVsbCwKICAgICAgICBtZW51OiBmYWxzZSwKICAgICAgICBzd2l0Y2g6IGZhbHNlLAogICAgICAgIGhpZGU6IGZhbHNlLAogICAgICAgIHdiY0l0ZW06IG51bGwsCiAgICAgICAgY29tcE1lZGlhOiBudWxsLAogICAgICAgIG1lZGlhRGF0YTogbnVsbCwKICAgICAgICBjb2RlTWlycm9Nb2RlOiAidGV4dC9odG1sIiwKICAgICAgICBtZWRpYTogbnVsbCwKICAgICAgICAvLyBsZzogdGhpcy5sYW5nLAogICAgICAgIC8vIGtleXk6IHRoaXMucmFuZG9tS2V5KHRoaXMubGFuZyksCiAgICAgICAgLy8gaXRlbTA6IHt9LAogICAgICAgIGl0ZW1fOiB7fSwKICAgICAgICB3YXRjaF86IFtdLAogICAgICAgIHJDb2xvcjogbnVsbCwKICAgICAgICAvLyBzZWxlY3RJdGVtT3B0aW9uczogbnVsbCwKICAgICAgICBtYWluSXRlbVRleHRBcmVhOiB7CiAgICAgICAgICBjbGFzczogIndoaXRlIiwKICAgICAgICAgIGxhYmVsOiAiT2JqZWN0L2FycmF5IHRvIHBhcnNlIiwKICAgICAgICAgIHJ1bGVzOiBbXQogICAgICAgICAgLy8ga2V5eTogJ21haW4taXRlbScsCiAgICAgICAgfSwKICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgIGRyYWdTdGFydFg6IDAsCiAgICAgICAgZHJhZ1N0YXJ0WTogMCwKICAgICAgICBvZmZzZXRYOiAwLAogICAgICAgIG9mZnNldFk6IDAsCiAgICAgICAgdk5vZGVzOiB7fSwKICAgICAgICAvLyBhbGVydDpbe2NvbXA6J2RkZCcsYTonc3NzJ30sJ2FhYWFhYScsJ2JiYmJiJ10KICAgICAgICBhbGVydE9ianM6IFtdLAogICAgICAgIGNoaWxkcmVuXzogbnVsbCwKICAgICAgICBleHRLZXlfOiAiIiwKICAgICAgICBrZXlfOiAwLAogICAgICAgIGJhc2VrZXk6ICIwIiwKICAgICAgICB3cmFwXzogbnVsbCwKICAgICAgICBkYXRhOiBudWxsLAogICAgICAgIHNlbGVjdDogZmFsc2UsCiAgICAgICAgaXRlbUxpc3RlbmVyczoge30sCiAgICAgICAgYXR0cnM6IHt9LAogICAgICAgIC8vIHJ1bGVzOiBbXSwKICAgICAgICAvLyBjb29rczoge30KCiAgICAgICAgLy8gZGl2ZTogdHJ1ZSwKICAgICAgICBuYW1lRWw6ICIiLAogICAgICAgIE1hcmtkb3duSXQ6IG5ldyBNYXJrZG93bkl0KCksCiAgICAgICAgVHVybkRvd246IG5ldyBUdXJuRG93bigpLAogICAgICAgIEFzeW5jQ29tcG9uZW50OiBudWxsLAogICAgICAgIGlzQ29tcG9uZW50TG9hZGVkOiBmYWxzZSwKICAgICAgICByZWZOYW1lOiBudWxsCiAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgLy8gLi4uVnVleC5tYXBHZXR0ZXJzKFsndXJsU2VydmVyJywgJ3VzZXInLCAnbG9nZ2VkSW4nLCAnbGFiZWxzJ10pLAogICAgICAvLyAuLi5WdWV4Lm1hcEdldHRlcnMoWyd1cmxTZXJ2ZXInLCAndXNlcicsICdsb2dnZWRJbicsICdsZycsICdsYWJlbHMnXSksCiAgICAgIGl0ZW1Nb2RlOiBmdW5jdGlvbiBpdGVtTW9kZSgpIHsKICAgICAgICByZXR1cm4gIml0ZW1Nb2RlIjsKICAgICAgfSwKICAgICAgaXRlbURpc3A6IGZ1bmN0aW9uIGl0ZW1EaXNwKCkgewogICAgICAgIHJldHVybiAiaXRlbURpc3AiOwogICAgICB9LAogICAgICBpdGVtUHJvZDogZnVuY3Rpb24gaXRlbVByb2QoKSB7CiAgICAgICAgcmV0dXJuICJpdGVtUHJvZCI7CiAgICAgIH0sCiAgICAgIC8vIGl0ZW1MYW5nKCkgewoKICAgICAgLy8gCWlmICghQXJyYXkuaXNBcnJheSh0aGlzLml0ZW1fKSAmJiB0aGlzLml0ZW1fIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgIC8vIAkJcmV0dXJuIHRoaXMuaXRlbT8ub3B0aW9ucz8ubGFuZyB8fCB0aGlzLmxhbmc7CiAgICAgIC8vIAl9IGVsc2UgcmV0dXJuIHRoaXMubGFuZzsKICAgICAgLy8gCS8qICBlbHNlIGlmICh0aGlzLmxhbmdfKSB7CiAgICAgIC8vICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhbmdfOwogICAgICAvLyAgICAgICAgIH0gICovCiAgICAgIC8vIH0sCgogICAgICAvLyBpdGVtTGFuZzpmdW5jdGlvbigpewogICAgICAvLyAJcmV0dXJuIHRoaXMub2JqTGFuZyh0aGlzLml0ZW1fLHRoaXMubGFuZykKCiAgICAgIC8vIGRpdmU6ZnVuY3Rpb24oKXsKICAgICAgLy8gCWlmICh0aGlzLml0ZW1fIGluc3RhbmNlb2YgT2JqZWN0KSB7CgogICAgICAvLyAJCXJldHVybiB0aGlzLml0ZW1fPy5kaXZlfHxmYWxzZQoKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gZmFsc2UKICAgICAgLy8gfSwKICAgICAgLy8gfSwKICAgICAgLy8gaXRlbUFjY2Vzc2ViaWxpdHk6IGZ1bmN0aW9uICgpIHtyZXR1cm4gdGhpcy5pdGVtQWNjZXNzZWJpbGl0eUZuKHRoaXMuaXRlbV8pfSwKICAgICAgLy8gaXRlbUFjY2Vzc2ViaWxpdHk6IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gCS8vIGxldCBXQkFMRVJUID0gdGhpcz8uV0JBbGVydCA/IHsgd2JBbGVydDogdGhpcy5XQkFsZXJ0IH0gOiB7fTsKICAgICAgLy8gCXJldHVybiB7CiAgICAgIC8vIAkJcHJvcHM6IHRoaXMuJHByb3BzLAogICAgICAvLyAJCWRhdGE6IHRoaXMuJGRhdGEuaXRlbV8sCiAgICAgIC8vIAkJZGF0YTA6IHRoaXMuJGRhdGEsCiAgICAgIC8vIAkJdXBkYXRlOiAoKSA9PiB7CiAgICAgIC8vIAkJCXRoaXMua2V5XyArPSAxCiAgICAgIC8vIAkJfSwKCiAgICAgIC8vIAkJcmVmOiAoKSA9PiB0aGlzLiRyZWZzLnJhd0h0bWwsCiAgICAgIC8vIAkJaXNWYWxpZDogKCkgPT4gdGhpcz8uJHJlZnM/LnJhd0h0bWw/LnZhbGlkLAoKICAgICAgLy8gCQlleHREYXRhOiB7IGtleXk6IHRoaXMuJGRhdGEuZXh0S2V5Xywgd3JhcDogdGhpcy4kZGF0YS53cmFwXywgY2hpbGRyZW46IHRoaXMuJGRhdGEuY2hpbGRyZW5fIH0sCiAgICAgIC8vIAkJY29tcEtleXk6ICgpID0+IHRoaXMuY29tcHV0ZWRLZXkoKSwKCiAgICAgIC8vIAkJLy8ga2V5eTp0aGlzLiRkYXRhLmtleV8sCiAgICAgIC8vIAkJdk5vZGVzOiB0aGlzLiRkYXRhLnZOb2RlcywKCiAgICAgIC8vIAkJLy8gbWV0aG9kczogewogICAgICAvLyAJCS8vIAlyYW5kb21Db2xvcjogdGhpcy5yYW5kb21Db2xvciwKICAgICAgLy8gCQkvLyAJcmFuZG9tS2V5eTogdGhpcy5yYW5kb21LZXksCiAgICAgIC8vIAkJLy8gCWNhcGl0YWxpemVXb3JkczogdGhpcy5jYXBpdGFsaXplV29yZHMsCiAgICAgIC8vIAkJLy8gCWdldFJhbmRvbUludDogdGhpcy5nZXRSYW5kb21JbnQsCiAgICAgIC8vIAkJLy8gCWlzVm5vZGU6IHRoaXMuaXNWbm9kZSwKICAgICAgLy8gCQkvLyAJc3RyaW5nVG9Kc29uOiB0aGlzLnN0cmluZ1RvSnNvbiwKICAgICAgLy8gCQkvLyAJY29tcEZ1bmM6IHRoaXMuY29tcEZ1bmMsCiAgICAgIC8vIAkJLy8gCWFueU1hdGNoSW5BcnJheTogdGhpcy5hbnlNYXRjaEluQXJyYXksCiAgICAgIC8vIAkJLy8gCXN0clRvT2JqOiB0aGlzLnN0clRvT2JqLAogICAgICAvLyAJCS8vIAl0b1RpdGxlQ2FzZTogdGhpcy50b1RpdGxlQ2FzZSwKICAgICAgLy8gCQkvLyAJZ2VuZXJhbFZhbDogdGhpcy5nZW5lcmFsVmFsLAogICAgICAvLyAJCS8vIH0sCiAgICAgIC8vIAkJbGc6e2xhbmc6IHRoaXMubGFuZyxnZXQ6ICgpPT50aGlzPy4kc3RvcmU/LnN0YXRlPy5sZyB8fCAnZW4nLCBzZXQ6KGxhbmdhZ2UpPT57dGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVMYW5nJyxsYW5nYWdlKX19LAoKICAgICAgLy8gCQl1c2VyOiB0aGlzPy4kc3RvcmU/LnN0YXRlPy51c2VyLAogICAgICAvLyAJCWxvZ2dlZEluOiB0aGlzPy4kc3RvcmU/LnN0YXRlPy5sb2dnZWRJbiB8fCBmYWxzZSwKCiAgICAgIC8vIAkJcXVlcnlEYXRhOiB0aGlzLnF1ZXJ5RGF0YSwKICAgICAgLy8gCQlhZXM6IHsKICAgICAgLy8gCQkJZW5jOiB0aGlzLmFlc0VuYywKICAgICAgLy8gCQkJZGVjOiB0aGlzLmFlc0RlYywKICAgICAgLy8gCQl9LAogICAgICAvLyAJCXZhbGlkYXRvcnM6IHsKICAgICAgLy8gCQkJLi4udmFsaWRhdG9ycywKICAgICAgLy8gCQl9LAogICAgICAvLyAJCWNvb2tpZXM6IHsKICAgICAgLy8gCQkJLi4uVnVlQ29va2llcywKICAgICAgLy8gCQkJc3RhdGU6dGhpcy5nZXRDb29raWVzCiAgICAgIC8vIAkJfSwKICAgICAgLy8gCQlzdG9yYWdlOmxvY2FsU3RvcmFnZSwKICAgICAgLy8gCQlwcm90bzogYXBwPy5wcm90b3R5cGUgfHwge30sCiAgICAgIC8vIAkJcm91dGVQYXJhbXM6IHRoaXM/LiRyb3V0ZT8ucGFyYW1zLAogICAgICAvLyAJCW1vbWVudDogdGhpcy4kbW9tZW50LAogICAgICAvLyAJCS8vICR3YXRjaDogdGhpcy4kd2F0Y2gsCiAgICAgIC8vIAkJc3RvcmU6IHRoaXMuJHN0b3JlLAogICAgICAvLyAJCXJvdXRlcjogdGhpcy4kcm91dGVyLAogICAgICAvLyAJCS8vIG9wdGlvbnM6IHRoaXMuJG9wdGlvbnMsCiAgICAgIC8vIAkJdm06IHRoaXMsCiAgICAgIC8vIAkJLy8gY2xzOiBhcHAsCiAgICAgIC8vIAkJYWxlcnQ6IHRoaXMuYWxlcnQsCiAgICAgIC8vIAkJLy8gYWxlcnRPYmpzOnRoaXMuYWxlcnRPYmpzCiAgICAgIC8vIAl9OwoKICAgICAgLy8gfSwKICAgICAgaXRlbUFjY2Vzc2ViaWxpdHk6IGZ1bmN0aW9uIGl0ZW1BY2Nlc3NlYmlsaXR5KCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzLAogICAgICAgICAgX3RoaXMkJHN0b3JlLAogICAgICAgICAgX3RoaXMkJHN0b3JlMiwKICAgICAgICAgIF90aGlzJCRyb3V0ZSwKICAgICAgICAgIF9yZWY7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Z2dnZ2dnZ2dnZ2dnZ2JywgdGhpcywgVnVlLCB0aGlzLiRkYXRhLml0ZW1fLCB0aGlzLml0ZW1fKQogICAgICAgIC8vIGxldCB2bT10aGlzLiRyZWZzPy5bZWw/Lm9wdGlvbnM/LnJlZl0KICAgICAgICAvLyBsZXQgV0JBTEVSVCA9IHRoaXM/LldCQWxlcnQgPyB7IHdiQWxlcnQ6IHRoaXMuV0JBbGVydCB9IDoge307CiAgICAgICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgICAgICBwcm9wczogdGhpcy4kcHJvcHMsCiAgICAgICAgICBkYXRhOiB0aGlzLiRkYXRhLml0ZW1fLAogICAgICAgICAgZGF0YTA6IHRoaXMuJGRhdGEsCiAgICAgICAgICB2YWw6IHsKICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW50ZXJuYWxWYWx1ZSA9IHY7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaW50ZXJuYWxWYWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUodikgewogICAgICAgICAgICBfdGhpczIuJGRhdGEuaGlkZSA9IHY7CiAgICAgICAgICB9LAogICAgICAgICAgLy8gc2V0OiAoa2V5LCB2YWwpID0+IHsgdGhpcy4kZGF0YVtrZXldID0gdmFsIH0sCiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogIml0ZW1fIjsKICAgICAgICAgICAgX3RoaXMyLiRkYXRhW2tleV0gPSB2YWw7CiAgICAgICAgICB9LAogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICJpdGVtXyI7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGRhdGFba2V5XTsKICAgICAgICAgIH0sCiAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICAgICAgX3RoaXMyLmtleV8gKz0gMTsKICAgICAgICAgIH0sCiAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZigpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMiA9PT0gbnVsbCB8fCBfdGhpczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMi4kcmVmc1tfdGhpczIucmVmTmFtZV07CiAgICAgICAgICB9LAogICAgICAgICAgcmVmczogdGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGlzLiRyZWZzLAogICAgICAgICAgLy8gaXNWYWxpZDogKCkgPT4gdGhpcz8uJHJlZnNbdGhpcy5yZWZOYW1lXT8udmFsaWQsCiAgICAgICAgICAvLyBpc1ZhbGlkOiAoKSA9PiB0aGlzLmlzTm9uRW1wdHkodGhpcy5pdGVtXz8ub3B0aW9ucz8udmFsKSA/dGhpcz8uJHJlZnNbdGhpcy5yZWZOYW1lXT8udmFsaWQ6bnVsbCAsCiAgICAgICAgICBpc1ZhbGlkOiB0aGlzLiRkYXRhLmludGVybmFsVmFsdWVJc1ZhbGlkLAogICAgICAgICAgaXNWYWxpZEZuOiBmdW5jdGlvbiBpc1ZhbGlkRm4oKSB7CiAgICAgICAgICAgIHZhciBfdGhpczIkJHJlZnMkX3RoaXMyJHI7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIgPT09IG51bGwgfHwgX3RoaXMyID09PSB2b2lkIDAgfHwgKF90aGlzMiQkcmVmcyRfdGhpczIkciA9IF90aGlzMi4kcmVmc1tfdGhpczIucmVmTmFtZV0pID09PSBudWxsIHx8IF90aGlzMiQkcmVmcyRfdGhpczIkciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJCRyZWZzJF90aGlzMiRyLnZhbGlkOwogICAgICAgICAgfSwKICAgICAgICAgIHZtOiB0aGlzLAogICAgICAgICAgLy8gY29udGV4dDp0aGlzLAogICAgICAgICAgZW1pdDogdGhpcy4kZW1pdAogICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAidXBkYXRlIiwgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgICAgX3RoaXMyLmtleV8gKz0gMTsKICAgICAgICB9KSwgImV4dERhdGEiLCB7CiAgICAgICAgICBrZXl5OiB0aGlzLiRkYXRhLmV4dEtleV8sCiAgICAgICAgICB3cmFwOiB0aGlzLiRkYXRhLndyYXBfLAogICAgICAgICAgY2hpbGRyZW46IHRoaXMuJGRhdGEuY2hpbGRyZW5fCiAgICAgICAgfSksICJjb21wS2V5eSIsIGZ1bmN0aW9uIGNvbXBLZXl5KCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5jb21wdXRlZEtleSgpOwogICAgICAgIH0pLCAidk5vZGVzIiwgdGhpcy4kZGF0YS52Tm9kZXMpLCAibGciLCB7CiAgICAgICAgICBsYW5nOiB0aGlzLmxhbmcsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgdmFyIF90aGlzMiQkc3RvcmU7CiAgICAgICAgICAgIHJldHVybiAoX3RoaXMyID09PSBudWxsIHx8IF90aGlzMiA9PT0gdm9pZCAwIHx8IChfdGhpczIkJHN0b3JlID0gX3RoaXMyLiRzdG9yZSkgPT09IG51bGwgfHwgX3RoaXMyJCRzdG9yZSA9PT0gdm9pZCAwIHx8IChfdGhpczIkJHN0b3JlID0gX3RoaXMyJCRzdG9yZS5zdGF0ZSkgPT09IG51bGwgfHwgX3RoaXMyJCRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJCRzdG9yZS5sZykgfHwgImVuIjsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsYW5nYWdlKSB7CiAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJ1cGRhdGVMYW5nIiwgbGFuZ2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSksICJ1c2VyIiwgdGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJCRzdG9yZSA9IHRoaXMuJHN0b3JlKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUgPT09IHZvaWQgMCB8fCAoX3RoaXMkJHN0b3JlID0gX3RoaXMkJHN0b3JlLnN0YXRlKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZS51c2VyKSwgImxvZ2dlZEluIiwgKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkc3RvcmUyID0gdGhpcy4kc3RvcmUpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkJHN0b3JlMiA9IF90aGlzJCRzdG9yZTIuc3RhdGUpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZTIubG9nZ2VkSW4pIHx8IGZhbHNlKSwgInF1ZXJ5RGF0YSIsIHRoaXMucXVlcnlEYXRhKSwgImFlcyIsIHsKICAgICAgICAgIGVuYzogdGhpcy5hZXNFbmMsCiAgICAgICAgICBkZWM6IHRoaXMuYWVzRGVjCiAgICAgICAgfSksICJ2YWxpZGF0b3JzIiwgX29iamVjdFNwcmVhZCh7fSwgdGhpcy52YWxpZGF0b3JzIHx8IHt9KSksIF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiY29va2llcyIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kY29va2llcyksIHt9LCB7CiAgICAgICAgICBzdGF0ZTogdGhpcy5nZXRDb29raWVzIHx8IHt9CiAgICAgICAgfSkpLCAic3RvcmFnZSIsIGxvY2FsU3RvcmFnZSksICJwcm90byIsIChhcHAgPT09IG51bGwgfHwgYXBwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhcHAucHJvdG90eXBlKSB8fCB7fSksICJyb3V0ZVBhcmFtcyIsIHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkcm91dGUgPSB0aGlzLiRyb3V0ZSkgPT09IG51bGwgfHwgX3RoaXMkJHJvdXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcm91dGUucGFyYW1zKSwgIm1vbWVudCIsIHRoaXMuJG1vbWVudCksICJtYXJrZG93biIsIHsKICAgICAgICAgIG1kMkh0bWw6IGZ1bmN0aW9uIG1kMkh0bWwodikgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLk1hcmtkb3duSXQucmVuZGVyKHYpOwogICAgICAgICAgfSwKICAgICAgICAgIGh0bWwyTWQ6IGZ1bmN0aW9uIGh0bWwyTWQodikgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLlR1cm5Eb3duLnR1cm5kb3duKHYpOwogICAgICAgICAgfQogICAgICAgIH0pLCAid2F0Y2giLCB0aGlzLiR3YXRjaCksICJzdG9yZSIsIHRoaXMuJHN0b3JlKSwgInJvdXRlciIsIHRoaXMuJHJvdXRlciksICJhbGVydCIsIGZ1bmN0aW9uIGFsZXJ0KCkgewogICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHYgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgIHZbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodi5sZW5ndGggPT0gMSkgewogICAgICAgICAgICBpZiAodlswXSA9PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnNlbGVjdCA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzMi5hbGVydE9ianMgPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBlbHNlIGlmICh2WzBdID09ICdjbHMnKSB7IHRoaXMuYWxlcnRPYmpzID0gWyduZXcnXSB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5hbGVydE9ianMucHVzaCh2KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICh2Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIF90aGlzMi5hbGVydE9ianMucHVzaChfdGhpczIuJGRhdGEuaXRlbV8pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIF90aGlzMiRhbGVydE9ianM7CiAgICAgICAgICAgIChfdGhpczIkYWxlcnRPYmpzID0gX3RoaXMyLmFsZXJ0T2JqcykucHVzaC5hcHBseShfdGhpczIkYWxlcnRPYmpzLCBfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkuaXNBcnJheSh2KSA/IHYgOiBbdl0pKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIHRoaXMuc2VsZWN0ID0gdHJ1ZQoKICAgICAgICAgIHJldHVybiBfdGhpczIuYWxlcnRPYmpzOwogICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyBjb21wdXRlZEtleSgpIHsKICAgICAgLy8gCXJldHVybiBgJHt0aGlzPy5rZXlfIHx8ICcnfS0ke3RoaXMuYmFzZUtleSB8fCAnJ30tJHt0aGlzLml0ZW1fPy5vcHRpb25zPy52YWw/Lmxlbmd0aHx8Jyd9YAogICAgICAvLyAJLy8gcmV0dXJuIGAke3RoaXM/Lml0ZW1fPy5vcHRpb25zPy5rZXl9YAogICAgICAvLyB9LAogICAgICBsYW5nOiBmdW5jdGlvbiBsYW5nKCkgewogICAgICAgIHZhciBfdGhpcyRpdGVtXzMsIF90aGlzJCRzdG9yZTM7CiAgICAgICAgcmV0dXJuICh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8zID0gdGhpcy5pdGVtXykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8zID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW1fMyA9IF90aGlzJGl0ZW1fMy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGl0ZW1fMy5sYW5nKSB8fCAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJCRzdG9yZTMgPSB0aGlzLiRzdG9yZSkgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlMyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkc3RvcmUzID0gX3RoaXMkJHN0b3JlMy5zdGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHN0b3JlMy5sZykgfHwgImVuIjsKICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgIC8vICRkYXRhLml0ZW1fCiAgICAgIC8vICdpdGVtXy5vcHRpb25zLnByb3BzLml0ZW1zJzogewogICAgICAvLyAnaXRlbV8ub3B0aW9ucy5wcm9wcy5pdGVtcyc6IHsKICAgICAgLy8gCWhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIC8vIAkJYWxlcnQoJ2RkZGRkZGRkZGRkZGRkZGRkZGQnKQogICAgICAvLyAJCWNvbnNvbGUubG9nKG5ld1ZhbHVlLCBvbGRWYWx1ZSkKICAgICAgLy8gCQl0aGlzLmtleV8rPTEKICAgICAgLy8gCX0sCiAgICAgIC8vIAlkZWVwOiB0cnVlLAogICAgICAvLyB9LAogICAgICAvLyAnaXRlbV8nKG5ld1ZhbHVlKSB7CiAgICAgIC8vIAljb25zb2xlLmxvZygnenp6enp6enp6enp6Jyx0aGlzLml0ZW1fLHRoaXMuJGRhdGEuaXRlbV8sKQogICAgICAvLyAJYWxlcnQoJ3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzJykKICAgICAgLy8gfSwKICAgICAgLy8gJ2l0ZW1fLm9wdGlvbnMucnRsJyhuZXdWYWx1ZSkgewogICAgICAvLyAJCWxldCBkaXIgPSB0aGlzLmxhbmcgPT0gJ2FyJ3x8KG5ld1ZhbHVlPT09dHJ1ZSkgPyAncnRsJyA6ICdsdHInOwogICAgICAvLyAJCS8vIGlmICghQXJyYXkuaXNBcnJheShlbCkpCiAgICAgIC8vIAkJewogICAgICAvLyAJCQlpZiAodGhpcy5pdGVtXz8ub3B0aW9ucz8ucHJvcHM/LnN0eWxlPy5bdGhpcy5sYW5nXSkgewogICAgICAvLyAJCQkJdGhpcy5pdGVtXy5vcHRpb25zLnN0eWxlW3RoaXMubGFuZ10uZGlyZWN0aW9uID0gZGlyOwogICAgICAvLyAJCQl9IGVsc2UgaWYodGhpcy5pdGVtXz8ub3B0aW9ucz8ucHJvcHM/LnN0eWxlKQogICAgICAvLyAJCQl7CiAgICAgIC8vIAkJCQl0aGlzLml0ZW1fLm9wdGlvbnMuc3R5bGUgPSB7CiAgICAgIC8vIAkJCQkJLi4uKHRoaXM/Lml0ZW1fPy5vcHRpb25zPy5zdHlsZXx8e30pLAogICAgICAvLyAJCQkJCWRpcmVjdGlvbjogZGlyLAogICAgICAvLyAJCQkJfTsKICAgICAgLy8gCQkJfQogICAgICAvLyAJCX0KICAgICAgLy8gfSwKICAgICAgLy8gJ2l0ZW1fLm9wdGlvbnMuaHRtbCcobmV3VmFsdWUpIHsKICAgICAgLy8gCWFsZXJ0KCdodG1sJykKICAgICAgLy8gfSwKICAgICAgIml0ZW1fLm9wdGlvbnMudmFsIjogZnVuY3Rpb24gaXRlbV9PcHRpb25zVmFsKG5ld1ZhbHVlKSB7CiAgICAgICAgLy8gYWxlcnQoNTU1NTU1NTU1NTU1NTU1NTUpCiAgICAgICAgLy8gbGV0IGlzSW5wdXRMaWtlQ29tcG9uZW50ID0gWwogICAgICAgIC8vIAknaW5wdXQnLAogICAgICAgIC8vIAknY2hlY2JveCcsCiAgICAgICAgLy8gCSdyYWRpbycsCiAgICAgICAgLy8gCSdzZWxlY3QnLAogICAgICAgIC8vIAkndGV4dGFyZWEnLAogICAgICAgIC8vIAknVlRleHRGaWVsZCcsCiAgICAgICAgLy8gCSdWQ2hlY2tib3gnLAogICAgICAgIC8vIAknVlRleHRhcmVhJywKICAgICAgICAvLyAJJ1ZTZWxlY3QnLAogICAgICAgIC8vIAknVlJhZGlvJywKICAgICAgICAvLyAJJ1ZTbGlkZXInLAogICAgICAgIC8vIAknVlJhbmdlU2xpZGVyJywKICAgICAgICAvLyAJJ1ZTd2l0Y2gnLAogICAgICAgIC8vIAknVkF1dG9jb21wbGV0ZScsCiAgICAgICAgLy8gCSdWRGF0ZVBpY2tlcicsCiAgICAgICAgLy8gCSdWQ29sb3JQaWNrZXInLAogICAgICAgIC8vIAknVk1lbnUnLAogICAgICAgIC8vIAknVlJhZGlvR3JvdXAnLAogICAgICAgIC8vIAkndlRpbWVQaWNrZXInLAogICAgICAgIC8vIF0uaW5jbHVkZXModGhpcy5pdGVtXz8uY29tcCk7CiAgICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zLmNsYXNzPSdyZWQnCgogICAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IG5ld1ZhbHVlOwoKICAgICAgICAvLyBpZiAodGhpcz8uaXRlbV8/Lm9wdGlvbnM/LmF0dHJzKSB7CiAgICAgICAgLy8gICB0aGlzLml0ZW1fLm9wdGlvbnMuYXR0cnMudmFsdWUgPSBuZXdWYWx1ZTsKICAgICAgICAvLyAgIHRoaXMuYXR0cnMudmFsdWUgPSBuZXdWYWx1ZQogICAgICAgIC8vIH0KICAgICAgICAvLyBpZih0aGlzPy5pdGVtXz8ub3B0aW9ucz8ucHJvcHMpe3RoaXMuaXRlbS5vcHRpb25zLnByb3BzLnZhbHVlPW5ld1ZhbHVlO30KICAgICAgICAvLyBjb25zb2xlLmxvZygnNjY2NjY2NjY2NjY2NjY2Jyx0aGlzLiRyZWZzLHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnJlZikKCiAgICAgICAgLy8gaWYgKG5ld1ZhbCE9JycmJnRoaXM/LiRyZWZzW3RoaXMucmVmTmFtZV0/LmxhenlWYWx1ZSkgewogICAgICAgIC8vIC8vIAkvLyBhbGVydCgnO2xhY2F4dXV1dXV1dScpCiAgICAgICAgLy8gCXRoaXMuJHJlZnNbdGhpcy5yZWZOYW1lXS5sYXp5VmFsdWUgPSBuZXdWYWx1ZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYgKCF0aGlzPy5pdGVtXz8ub3B0aW9ucz8ucHJvcHMpIHsKICAgICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMucHJvcHMgPSB7fTsKICAgICAgICAvLyB0aGlzLml0ZW0ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9IG5ld1ZhbHVlOwogICAgICB9LAogICAgICAvLyBpZiAodGhpcz8uJHJlZnM/LnJhd0h0bWwpIHsKICAgICAgLy8gCS8vIGlmIChpc0lucHV0TGlrZUNvbXBvbmVudCkgewogICAgICAvLyAJLy8gCS8vY29uc29sZS5sb2coNTU1NTU1NTU1NTU1NTU1NSwgdGhpcz8uJHJlZnM/LnJhd0h0bWwpCiAgICAgIC8vIAkvLyAJLy8gdGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnZhbHVlID0gbmV3VmFsdWU7CiAgICAgIC8vIAkvLyAJdGhpcy4kcmVmcy5yYXdIdG1sLmxhenlWYWx1ZSA9IG5ld1ZhbHVlOwogICAgICAvLyAJLy8gCX0KICAgICAgLy8gCWlmICh0eXBlb2YgdGhpcz8uJHJlZnM/LnJhd0h0bWw/LmxhenlWYWx1ZSA9PSAnYm9vbGVhbicpIHsgdGhpcy4kcmVmcy5yYXdIdG1sLmxhenlWYWx1ZSA9IG5ld1ZhbHVlOyB9CiAgICAgIC8vIAl0aGlzLml0ZW1fLm9wdGlvbnMuaXNWYWxpZCA9IHRoaXMuJHJlZnMucmF3SHRtbC52YWxpZAogICAgICAvLyB9CiAgICAgIC8vIHRoaXMua2V5Xys9MQogICAgICAvLyAvL2NvbnNvbGUubG9nKDQ0NDQ0NDQ0NDQ0NDQsdGhpcyx0aGlzPy4kcGFyZW50Py5pdGVtXz8ub3B0aW9ucz8ua2V5KQogICAgICAvLyBpZih0aGlzPy4kcGFyZW50Py5pdGVtXz8ub3B0aW9ucz8ua2V5KXRoaXMuJHBhcmVudC5pdGVtXy5vcHRpb25zLmtleSs9MQogICAgICAvLyAvL2NvbnNvbGUubG9nKDU1NTU1NTU1NTU1NTU1NTU1NSx0aGlzLHRoaXM/LiRwYXJlbnQ/Lml0ZW1fPy5vcHRpb25zPy5rZXkpCiAgICAgIC8vIHRoaXMuJGVtaXQoJ29uLXZhbC1jaGFuZ2UnLCBuZXdWYWx1ZSk7CiAgICAgIC8vIGFsZXJ0KG5ld1ZhbHVlK3RoaXMua2V5XykKICAgICAgLy8gZWxzZXthbGVydCgxMTExMTExMTExMTExMTExKX0KICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnZhbHVlID0gbmV3VmFsdWU7CiAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5kb21Qcm9wcyA9IHsgdmFsdWU6IG5ld1ZhbHVlIH07CiAgICAgIC8vIGlmICh0aGlzLml0ZW1fPy5vcHRpb25zPy5hdHRycyl0aGlzLml0ZW1fLm9wdGlvbnMuYXR0cnNbJ2NoZWNrZWQnXSA9IG5ld1ZhbHVlfHxmYWxzZTsKICAgICAgLy8gaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnM/LmtleSl7dGhpcy5pdGVtXy5vcHRpb25zLmtleSs9MQogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5kb21Qcm9wcz17J3ZhbHVlJzogbmV3VmFsdWV9OwogICAgICAvLyBpZih0aGlzLml0ZW1fPy5vcHRpb25zPy5wcm9wcz8ucnVsZXMpCiAgICAgIC8vIAkJewogICAgICAvLyAJCQlhbGVydCg4ODg4ODg4ODg4ODg4ODg4ODgrbmV3VmFsdWUpCiAgICAgIC8vIAkJCWFsZXJ0KHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wcy5ydWxlcykKICAgICAgLy8gCQkvLyBlbC5vcHRpb25zLAogICAgICAvLyAJCXRoaXMud2JjSXRlbSwKICAgICAgLy8gCQl0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LAogICAgICAvLyAJCS8vIHRoaXMubGcKICAgICAgLy8gCQluZXdWYWx1ZQogICAgICAvLyAJKTsKICAgICAgLy8gcnVsZXM9dGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnJ1bGVzLm1hcChlPT57CiAgICAgIC8vIAlpZiAoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKQogICAgICAvLyAJewogICAgICAvLyAJCXJldHVybiBlKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksbmV3VmFsdWUpCiAgICAgIC8vIAl9CiAgICAgIC8vIAlyZXR1cm4gdHJ1ZQogICAgICAvLyB9KQogICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMucHJvcHMucnVsZXM9cnVsZXMKICAgICAgLy8gfQogICAgICAvLyAJCWlmKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnByb3BzPy5ydWxlcyl7CiAgICAgIC8vIAkJCWFsZXJ0KDExMTExMTExMTExMTExMTExMTExMTExMTExMTEpCiAgICAgIC8vIAkJdGhpcy5pdGVtXy5vcHRpb25zWydwcm9wcyddLnJ1bGVzPXRoaXMuaXRlbV8/Lm9wdGlvbnM/LnByb3BzPy5ydWxlcy5tYXAoZWU9PnRoaXMuZ2VuZXJhbFZhbChlZSh0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LHRoaXMubGFuZykse30sdGhpcy5sYW5nKSkKICAgICAgLy8gCQkvLyBlbC5vcHRpb25zWydwcm9wcyddLnJ1bGVzPXRoaXM/Lml0ZW1zXy5vcHRpb25zLnByb3BzLnJ1bGVzLm1hcChlPT57CiAgICAgIC8vIAkvLyAJaWYodHlwZW9mIGUgPT0nZnVuY3Rpb24nKQogICAgICAvLyAJLy8gCXsKICAgICAgLy8gCS8vIAkJcmV0dXJuIHY9PmUodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSx2KQogICAgICAvLyAJLy8gCQkvLyByZXR1cm4gdGhpcy5nZW5lcmFsVmFsKGUodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSxldmVudCkse30sdGhpcy5sYW5nKQogICAgICAvLyAJLy8gCX0KICAgICAgLy8gCS8vIAlyZXR1cm4gcmV0dXJuICdmYWxzZScKICAgICAgLy8gCS8vIH0pCiAgICAgIC8vIH0KICAgICAgLy8gfSwKICAgICAgLy8gCSdpdGVtXy5vcHRpb25zLmF0dHJzLnZhbHVlJyhuZXdWYWx1ZSkgewogICAgICAvLyAJCS8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSBuZXcgdmFsdWUgd2hlbiBpdCBjaGFuZ2VzCiAgICAgIC8vIAkJLy8gdGhpcy5pdGVtXy5vcHRpb25zLmNsYXNzPSdyZWQnCiAgICAgIC8vIAkJLy8gdGhpcy5pdGVtLm9wdGlvbnMuYXR0cnM9e3ZhbHVlOm5ld1ZhbHVlfTsKICAgICAgLy8gfSwKICAgICAgLy8gJyRyZWZzPy5yYXdIdG1sPy5sYXp5VmFsdWUnKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAvLyAJYWxlcnQodGhpcz8uJHJlZnM/LnJhd0h0bWw/LmxhenlWYWx1ZSkKICAgICAgLy8gCWlmKHRoaXM/Lml0ZW0/Lm9wdGlvbnM/LmF0dHJzKXt0aGlzLml0ZW0ub3B0aW9ucy5hdHRycy52YWx1ZT1uZXdWYWx1ZTt9CiAgICAgIC8vIAlpZih0aGlzPy5pdGVtPy5vcHRpb25zPy5wcm9wcyl7dGhpcy5pdGVtLm9wdGlvbnMucHJvcHMudmFsdWU9bmV3VmFsdWU7fQogICAgICAvLyAJaWYgKHRoaXM/LiRyZWZzPy5yYXdIdG1sPy5sYXp5VmFsdWUpIHsgdGhpcy4kcmVmcy5yYXdIdG1sLmxhenlWYWx1ZSA9IG5ld1ZhbHVlOyB9CiAgICAgIC8vIH0sCiAgICAgIGludGVybmFsVmFsdWU6IGZ1bmN0aW9uIGludGVybmFsVmFsdWUobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXMkaXRlbV80OwogICAgICAgIC8vIGFsZXJ0KG5ld1ZhbHVlKQogICAgICAgIC8vIHRoaXMuaW50ZXJuYWxWYWx1ZT0gbmV3VmFsdWUKICAgICAgICBpZiAodGhpcyAhPT0gbnVsbCAmJiB0aGlzICE9PSB2b2lkIDAgJiYgKF90aGlzJGl0ZW1fNCA9IHRoaXMuaXRlbV8pICE9PSBudWxsICYmIF90aGlzJGl0ZW1fNCAhPT0gdm9pZCAwICYmIF90aGlzJGl0ZW1fNC5vcHRpb25zKSB7CiAgICAgICAgICB0aGlzLml0ZW1fLm9wdGlvbnMudmFsID0gbmV3VmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXRlbV8gPSBuZXdWYWx1ZTsKICAgICAgICB9CgogICAgICAgIC8vIGlmKHRoaXM/Lml0ZW0/Lm9wdGlvbnM/LnByb3BzKXt0aGlzLml0ZW0ub3B0aW9ucy5wcm9wcy52YWx1ZT1uZXdWYWx1ZTt9CiAgICAgIH0sCiAgICAgICJpdGVtXy5vcHRpb25zLnByb3BzLnZhbHVlIjogZnVuY3Rpb24gaXRlbV9PcHRpb25zUHJvcHNWYWx1ZShuZXdWYWx1ZSkgewogICAgICAgIC8vIGFsZXJ0KG5ld1ZhbHVlKQogICAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IG5ld1ZhbHVlOwogICAgICAgIHRoaXMuaXRlbV8ub3B0aW9ucy52YWwgPSBuZXdWYWx1ZTsKCiAgICAgICAgLy8gCS8vIHRoaXMuaXRlbV8ub3B0aW9ucy5kb21Qcm9wcz17dmFsdWU6bmV3VmFsdWV9OwogICAgICAgIC8vIAkvLyBpZiAodGhpcy5pdGVtXz8ub3B0aW9ucz8uYXR0cnMpdGhpcy5pdGVtXy5vcHRpb25zLmF0dHJzWydjaGVja2VkJ10gPW5ld1ZhbHVlfHxmYWxzZTsKCiAgICAgICAgLy8gCS8vIHRoaXMuaXRlbV8ub3B0aW9ucy5kb21Qcm9wcz17J3ZhbHVlJzogbmV3VmFsdWV9OwoKICAgICAgICAvLyAJLy8gdGhpcy5pdGVtXy5vcHRpb25zLnZhbCA9IG5ld1ZhbHVlOwogICAgICAgIC8vIAkvLyB0aGlzLml0ZW1fLm9wdGlvbnMuZG9tUHJvcHM9e3ZhbHVlOm5ld1ZhbHVlfTsKICAgICAgICAvLyAJLy8gaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LmF0dHJzKXRoaXMuaXRlbV8ub3B0aW9ucy5hdHRyc1snY2hlY2tlZCddID1uZXdWYWx1ZXx8ZmFsc2U7CgogICAgICAgIC8vIAkvLyB0aGlzLml0ZW1fLm9wdGlvbnMuZG9tUHJvcHM9eyd2YWx1ZSc6IG5ld1ZhbHVlfTsKCiAgICAgICAgLy8gCS8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wcy5ydWxlcz10aGlzPy5ydWxlcy5tYXAoZT0+ewogICAgICAgIC8vIAkvLyAJaWYodHlwZW9mIGUgPT0nZnVuY3Rpb24nKQogICAgICAgIC8vIAkvLyAJewogICAgICAgIC8vIAkvLyAJCS8vIGFsZXJ0KHRoaXMuZ2VuZXJhbFZhbChlKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksbmV3VmFsdWUpLHt9LHRoaXMubGFuZykpCiAgICAgICAgLy8gCS8vIAkJcmV0dXJuIHRoaXMuZ2VuZXJhbFZhbCh0aGlzLmNsb25lKGUodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSxuZXdWYWx1ZSkpLHt9KQogICAgICAgIC8vIAkvLyAJfQogICAgICAgIC8vIAkvLyAJcmV0dXJuIHRydWUKICAgICAgICAvLyAJLy8gfSkKICAgICAgfSwKICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gdGhlICdsZycgcHJvcGVydHkgaW4gdGhlIHN0b3JlJ3Mgc3RhdGUKICAgICAgLy8gJ2xnJzogewogICAgICAvLyAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIC8vICAgICBhbGVydCgxMTExMTEpCiAgICAgIC8vICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyICdsZycgY2hhbmdlcwogICAgICAvLyAgICAgLy8gWW91IGNhbiBwZXJmb3JtIGFueSBhY3Rpb25zIG9yIHVwZGF0ZXMgYmFzZWQgb24gdGhlIG5ldyB2YWx1ZQogICAgICAvLyAgICAgLy8gYW5kIHRoZSBvbGQgdmFsdWUgb2YgJ2xnJwogICAgICAvLyAgIH0sCiAgICAgIC8vICAgaW1tZWRpYXRlOiB0cnVlLCAvLyBUbyB0cmlnZ2VyIHRoZSBoYW5kbGVyIGltbWVkaWF0ZWx5IG9uIGluaXRpYWwgbW91bnQKICAgICAgLy8gfSwKICAgICAgLy8gJyRzdG9yZS5zdGF0ZS5sb2dnZWRJbicobmV3VmFsdWUsIG9sZFZhbHVlKSB7fSwKICAgICAgIiRzdG9yZS5zdGF0ZS5sZyI6IGZ1bmN0aW9uICRzdG9yZVN0YXRlTGcobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgLy8gYWxlcnQoJ2NoYW5nZWQnKQogICAgICAgIC8vIHRoaXMubGcgPSBuZXdWYWx1ZTsKICAgICAgICB0aGlzLiRjb29raWVzLnNldCgibGciLCBuZXdWYWx1ZSk7CiAgICAgICAgdGhpcy5rZXlfICs9IDE7CiAgICAgICAgLy8gaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnMpe3RoaXMuaXRlbV8ub3B0aW9ucy5ydGwgPSAodGhpcy5pdGVtXz8ub3B0aW9ucz8ucnRsfHwobmV3VmFsdWU9PSdhcicpKTt9CiAgICAgICAgLy8gaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnMpe3RoaXMuaXRlbV8ub3B0aW9ucy5ydGwgPSBuZXdWYWx1ZT09J2FyJzt9CgogICAgICAgIC8vIHRoaXMud2JjSXRlbSA9IHRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0pKQogICAgICAgIC8vIAl0aGlzLml0ZW1fID0gdGhpcy5nZW5lcmFsVmFsKAogICAgICAgIC8vIAkJLy8gZWwub3B0aW9ucywKICAgICAgICAvLyAJCXRoaXMud2JjSXRlbSwKICAgICAgICAvLyAJCXRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgICAgLy8gCQkvLyB0aGlzLmxnCiAgICAgICAgLy8gCQluZXdWYWx1ZQogICAgICAgIC8vIAkpOwoKICAgICAgICAvLyBsZXQgZGlyOwogICAgICAgIC8vIAlpZiAodGhpcy5pdGVtXz8ub3B0aW9ucz8ucnRsPT09dHJ1ZSkge2RpciA9J3J0bCd9CiAgICAgICAgLy8gCWVsc2UgaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnJ0bD09PWZhbHNlKSB7ZGlyID0nbHRyJ30KICAgICAgICAvLyAJZWxzZSBkaXIgPSB0aGlzLmxhbmcgPT0gJ2FyJz8gJ3J0bCcgOiAnbHRyJzsKICAgICAgICAvLyAJCWlmICh0aGlzLml0ZW1fPy5vcHRpb25zPy5wcm9wcz8uc3R5bGU/Llt0aGlzLmxhbmddKSB7CiAgICAgICAgLy8gCQkJdGhpcy5pdGVtXy5vcHRpb25zLnN0eWxlW3RoaXMubGFuZ10uZGlyZWN0aW9uID0gZGlyOwogICAgICAgIC8vIAkJfQogICAgICAgIC8vIAkJZWxzZSBpZih0aGlzPy5pdGVtXz8ub3B0aW9ucz8uc3R5bGUpe3RoaXMuaXRlbV8ub3B0aW9ucy5zdHlsZS5kaXJlY3Rpb24gPSBkaXI7fQogICAgICAgIC8vIAkJZWxzZXt0aGlzLml0ZW1fLm9wdGlvbnM9e3N0eWxlOntkaXJlY3Rpb24gOiBkaXJ9fX0KCiAgICAgICAgLy8gdGhpcy5pdGVtXyA9ICB0aGlzLnRvV0JDKHRoaXMuaXRlbSk7CiAgICAgICAgLy8gdGhpcy5pdGVtXyA9IHRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0pKQoKICAgICAgICAvLyBpZih0aGlzPy5pdGVtXz8ub3B0aW9ucz8ua2V5KXt0aGlzLml0ZW1fLm9wdGlvbnMua2V5Kz0xCiAgICAgICAgLy8gfQogICAgICAgIC8vIGVsc2UgaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnMpewogICAgICAgIC8vIAl0aGlzLml0ZW1fLm9wdGlvbnMua2V5ID0gdGhpcy5yYW5kb21LZXkoJ2xnJykKICAgICAgICAvLyB9CiAgICAgICAgLy8gZWxzZXsKICAgICAgICAvLyAJdGhpcy5pdGVtXy5vcHRpb25zPXtrZXl5OiB0aGlzLnJhbmRvbUtleSgnbGcnKX0KCiAgICAgICAgLy8gfQogICAgICB9IC8vICdpdGVtLmNvbXAnKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAvLyAJYWxlcnQoJ2ZmZmZmZmZmZmZmZmZmZmYnKQogICAgICAvLyAJaWYoIHR5cGVvZiBuZXdWYWx1ZT09J2Z1bmN0aW9uJyApewogICAgICAvLyAJdGhpcy5pdGVtXyA9IHRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0pKQogICAgICAvLyAJfQogICAgICAvLyAJdGhpcy5pdGVtXyA9IHRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0pKQogICAgICAvLyB9LAogICAgICAvLyAnaXRlbV8ub3B0aW9ucy5odG1sJyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgLy8gCWFsZXJ0KCdmZmZmZmZmZmZmZmZmZmZmJykKICAgICAgLy8gCXRoaXMua2V5Xys9MQogICAgICAvLyB9LAogICAgICAvLyAnaXRlbScobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIC8vIAlpZih0aGlzPy5pdGVtXz8ub3B0aW9ucz8ua2V5KXsKICAgICAgLy8gCQl0aGlzLml0ZW1fLm9wdGlvbnMua2V5Kz0iXyIKICAgICAgLy8gCQl0aGlzLml0ZW1fLm9wdGlvbnMua2V5PXRoaXMuaXRlbV8ub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCJfIikKICAgICAgLy8gCX0KICAgICAgLy8gCWVsc2UgaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnMpewogICAgICAvLyAJCXRoaXMuaXRlbV8ub3B0aW9ucy5rZXkgPSB0aGlzLnJhbmRvbUtleSgnbGcnKQogICAgICAvLyAJfQogICAgICAvLyAJZWxzZXsKICAgICAgLy8gCQl0aGlzLml0ZW1fLm9wdGlvbnM9e2tleXk6IHRoaXMucmFuZG9tS2V5KCdsZycpfQogICAgICAvLyAJfQogICAgICAvLyAJLy8gdGhpcy5pdGVtXz10aGlzLnRvV0JDKHRoaXMuY2xvbmUodGhpcy5pdGVtKSkKICAgICAgLy8gCXRoaXMuaXRlbV89dGhpcy50b1dCQyh0aGlzLml0ZW0pCiAgICAgIC8vIAkvLyB0aGlzLmxnID0gbmV3VmFsdWU7CiAgICAgIC8vIAkvLyB0aGlzLiRjb29raWVzLnNldCgnbGcnLCBuZXdWYWx1ZSk7CiAgICAgIC8vIAkvLyB0aGlzLndiY0l0ZW0gPSB0aGlzLnRvV0JDKHRoaXMuY2xvbmUodGhpcy5pdGVtMCkpLAogICAgICAvLyAJLy8gCXRoaXMuaXRlbV8gPSB0aGlzLmdlbmVyYWxWYWwoCiAgICAgIC8vIAkvLyAJCS8vIGVsLm9wdGlvbnMsCiAgICAgIC8vIAkvLyAJCXRoaXMud2JjSXRlbSwKICAgICAgLy8gCS8vIAkJdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwKICAgICAgLy8gCS8vIAkJLy8gdGhpcy5sZwogICAgICAvLyAJLy8gCQluZXdWYWx1ZQogICAgICAvLyAJLy8gCSk7CiAgICAgIC8vIAkvLyB0aGlzLml0ZW1fID0gdGhpcy50b1dCQyh0aGlzLmNsb25lKHRoaXMuaXRlbSkpCiAgICAgIC8vIC8vIHRoaXMuaXRlbV8gPSAgdGhpcy50b1dCQyhuZXdWYWx1ZSk7CiAgICAgIC8vIH0sCiAgICAgIC8vIAl7CiAgICAgIC8vIAkJaW1tZWRpYXRlOiB0cnVlLCAvLyBUbyB0cmlnZ2VyIHRoZSBoYW5kbGVyIGltbWVkaWF0ZWx5IG9uIGluaXRpYWwgbW91bnQKICAgICAgLy8gCX0KICAgICAgLy8gKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIC8vIGxvYWRMb2NhbEZpbGUoaF8sIGVsKSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coInRoaXMuZmlsZUNvbnRlbnQsIGVsIDo+PiAiLCBlbCwgdGhpcy5maWxlQ29udGVudCk7CiAgICAgIC8vICAgdGhpcy5maWxlQ29udGVudCA9IG51bGw7CiAgICAgIC8vICAgZmV0Y2goZWwpIC8vIEZldGNoIHRoZSBmaWxlIG9yIEFQSSBlbmRwb2ludAogICAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZSA6Pj4gIiwgcmVzcG9uc2UpOwogICAgICAvLyAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKTsKICAgICAgLy8gICAgICAgY29uc29sZS5sb2coCiAgICAgIC8vICAgICAgICAgIlJlc3BvbnNlIGRhdGE6LGVsICIsCiAgICAgIC8vICAgICAgICAgZWwsCiAgICAgIC8vICAgICAgICAgcmVzcG9uc2UsCiAgICAgIC8vICAgICAgICAgcmVzcG9uc2U/LmRhdGEsCiAgICAgIC8vICAgICAgICAgcmVzcG9uc2U/LmJvZHksCiAgICAgIC8vICAgICAgICAgY29udGVudFR5cGUKICAgICAgLy8gICAgICAgKTsKICAgICAgLy8gICAgICAgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9qc29uIikpIHsKICAgICAgLy8gICAgICAgICAvLyBQYXJzZSB0aGUgSlNPTiBkYXRhCiAgICAgIC8vICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7CiAgICAgIC8vICAgICAgICAgICB0aGlzLmZpbGVDb250ZW50ID0gaF8oIldCRGF0YVZpZXdlciIsIHsKICAgICAgLy8gICAgICAgICAgICAgdGl0bGU6IGVsLAogICAgICAvLyAgICAgICAgICAgICBwcm9wczogeyB2YWx1ZTogZGF0YSB9LCAvLyBVc2UgdGhlIHBhcnNlZCBKU09OIGRhdGEKICAgICAgLy8gICAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIH0pOwogICAgICAvLyAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJpbWFnZS8iKSkgewogICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJ0aGlzIDo+PiAiLCB0aGlzKTsKICAgICAgLy8gICAgICAgICB0aGlzLmZpbGVDb250ZW50ID0gaF8oImltZyIsIHsKICAgICAgLy8gICAgICAgICAgIGF0dHJzOiB7CiAgICAgIC8vICAgICAgICAgICAgIHNyYzogZWwsCiAgICAgIC8vICAgICAgICAgICB9LAogICAgICAvLyAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAvLyAgICAgICAgICAgc3R5bGU6IHt9LAogICAgICAvLyAgICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coInRoaXMuZmlsZUNvbnRlbnQgOj4+ICIsIHRoaXMuZmlsZUNvbnRlbnQpOwogICAgICAvLyAgICAgICB9IGVsc2UgaWYgKAogICAgICAvLyAgICAgICAgIFsiL2h0bWwiXS5zb21lKChlKSA9PiBjb250ZW50VHlwZS5pbmNsdWRlcyhlKSkgJiYKICAgICAgLy8gICAgICAgICBlbC5pbmNsdWRlcygiaHRtbCIpICYmCiAgICAgIC8vICAgICAgICAgIWVsLmluY2x1ZGVzKCI/c3JjIikKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCJXQkh0bWwiLCB7CiAgICAgIC8vICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgLy8gICAgICAgICAgIHByb3BzOiB7IGh0bWw6IHJlc3BvbnNlLmRhdGEgfSwKICAgICAgLy8gICAgICAgICB9KTsKICAgICAgLy8gICAgICAgfSBlbHNlIGlmICgKICAgICAgLy8gICAgICAgICBlbC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCIueGxzeCIpIHx8CiAgICAgIC8vICAgICAgICAgZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgiLnhscyIpIHx8CiAgICAgIC8vICAgICAgICAgY29udGVudFR5cGUuaW5jbHVkZXMoImV4Y2VsIikKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCJWdWVPZmZpY2VFeGNlbCIsIHsKICAgICAgLy8gICAgICAgICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgIHNyYzogZWwsCiAgICAgIC8vICAgICAgICAgICB9LAogICAgICAvLyAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAvLyAgICAgICAgICAgc3R5bGU6IHt9LAogICAgICAvLyAgICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgIH0gZWxzZSBpZiAoCiAgICAgIC8vICAgICAgICAgZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgiLmRvY3giKSB8fAogICAgICAvLyAgICAgICAgIGVsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoIi5kb2MiKSB8fAogICAgICAvLyAgICAgICAgIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJtc3dvcmQiKSB8fAogICAgICAvLyAgICAgICAgIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJvZmZpY2Vkb2N1bWVudCIpCiAgICAgIC8vICAgICAgICkgewogICAgICAvLyAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbigoZGF0YSkgPT4gewogICAgICAvLyAgICAgICAgICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCJXQkh0bWwiLCB7CiAgICAgIC8vICAgICAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgLy8gICAgICAgICAgICAgcHJvcHM6IHsgaHRtbDogZGF0YSB9LCAvLyBVc2UgdGhlIHBhcnNlZCBKU09OIGRhdGEKICAgICAgLy8gICAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIC8vIH0gZWxzZSBpZiAoCiAgICAgIC8vICAgICAgICAgLy8gICBjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24vZG9jIikgfHwKICAgICAgLy8gICAgICAgICAvLyAgIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJvZmZpY2Vkb2N1bWVudCIpCiAgICAgIC8vICAgICAgICAgLy8gKSB7CiAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coImRvYyxlbCA6Pj4gIiwgZG9jLCBlbCk7CiAgICAgIC8vICAgICAgICAgLy8gdGhpcy5maWxlQ29udGVudCA9IGhfKCJWdWVEb2NQcmV2aWV3IiwgewogICAgICAvLyAgICAgICAgIC8vICAgcHJvcHM6IHsKICAgICAgLy8gICAgICAgICAvLyAgICAgdmFsdWU6IGVsLAogICAgICAvLyAgICAgICAgIC8vICAgfSwKICAgICAgLy8gICAgICAgICAvLyAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgLy8gICAgICAgICAvLyAgIHN0eWxlOiB7fSwKICAgICAgLy8gICAgICAgICAvLyAgIHJlZjogInJhd0h0bWwiLAogICAgICAvLyAgICAgICAgIC8vIH0pOwogICAgICAvLyAgICAgICAgIC8vIHRoaXMuZmlsZUNvbnRlbnQgPSBoXygiVnVlT2ZmaWNlRXhjZWwiLCB7CiAgICAgIC8vICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgIC8vICAgICBzcmM6IGVsLAogICAgICAvLyAgICAgICAgIC8vICAgfSwKICAgICAgLy8gICAgICAgICAvLyAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgLy8gICAgICAgICAvLyAgIHN0eWxlOiB7fSwKICAgICAgLy8gICAgICAgICAvLyAgIHJlZjogInJhd0h0bWwiLAogICAgICAvLyAgICAgICAgIC8vIH0pOwogICAgICAvLyAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9leGNlbCIpKSB7CiAgICAgIC8vICAgICAgICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCJWdWVPZmZpY2VFeGNlbCIsIHsKICAgICAgLy8gICAgICAgICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgIHNyYzogZWwsCiAgICAgIC8vICAgICAgICAgICB9LAogICAgICAvLyAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAvLyAgICAgICAgICAgc3R5bGU6IHt9LAogICAgICAvLyAgICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoImFwcGxpY2F0aW9uL3BkZiIpKSB7CiAgICAgIC8vICAgICAgICAgYWxlcnQoInBkZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYiKTsKICAgICAgLy8gICAgICAgICB0aGlzLmZpbGVDb250ZW50ID0gaF8oInBkZiIsIHsKICAgICAgLy8gICAgICAgICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgIHNyYzogZWwsCiAgICAgIC8vICAgICAgICAgICB9LAogICAgICAvLyAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAvLyAgICAgICAgICAgc3R5bGU6IHt9LAogICAgICAvLyAgICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgICAgLy8gcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKChkYXRhKSA9PiB7CiAgICAgIC8vICAgICAgICAgLy8gICB0aGlzLmZpbGVDb250ZW50ID0gaF8oIldCSHRtbCIsIHsKICAgICAgLy8gICAgICAgICAvLyAgICAgdGl0bGU6IGVsLAogICAgICAvLyAgICAgICAgIC8vICAgICBwcm9wczogeyBodG1sOiBkYXRhIH0sIC8vIFVzZSB0aGUgcGFyc2VkIEpTT04gZGF0YQogICAgICAvLyAgICAgICAgIC8vICAgfSk7CiAgICAgIC8vICAgICAgICAgLy8gfSk7CiAgICAgIC8vICAgICAgICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCJWQ00iLCB7CiAgICAgIC8vICAgICAgICAgICBwcm9wczogewogICAgICAvLyAgICAgICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoZGF0YSksIC8vIEVuc3VyZSB2YWx1ZSBpcyBhIHN0cmluZwogICAgICAvLyAgICAgICAgICAgICByZWY6ICJteUNtIiwKICAgICAgLy8gICAgICAgICAgICAgdGFiU2l6ZTogMTQsCiAgICAgIC8vICAgICAgICAgICAgIG1vZGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgLy8gICAgICAgICAgICAgbW9kZTogY29udGVudFR5cGUsCiAgICAgIC8vICAgICAgICAgICAgIHRoZW1lOiAiZGVmYXVsdCIsCiAgICAgIC8vICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgLy8gICAgICAgICAgICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgICAgbGluZTogdHJ1ZSwKICAgICAgLy8gICAgICAgICAgICAgICBmb2xkR3V0dGVyOiB0cnVlLAogICAgICAvLyAgICAgICAgICAgICAgIHN0eWxlU2VsZWN0ZWRUZXh0OiB0cnVlLAogICAgICAvLyAgICAgICAgICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsCiAgICAgIC8vICAgICAgICAgICAgICAgZXh0cmFLZXlzOiB7IEN0cmw6ICJhdXRvY29tcGxldGUiIH0sCiAgICAgIC8vICAgICAgICAgICAgICAgaGludE9wdGlvbnM6IHsKICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbXBsZXRlU2luZ2xlOiAhZmFsc2UsCiAgICAgIC8vICAgICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICAgIH0sCiAgICAgIC8vICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0pCiAgICAgIC8vICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgIC8vICAgICAgIHRoaXMuZmlsZUNvbnRlbnQgPSBoXygiZGl2IiwgewogICAgICAvLyAgICAgICAgIGF0dHJzOiB7CiAgICAgIC8vICAgICAgICAgICBzcmM6IGVsLAogICAgICAvLyAgICAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgIC8vICAgICAgICAgICBmcmFtZWJvcmRlcjogIjAiLAogICAgICAvLyAgICAgICAgICAgYWxsb3c6ICJhdXRvcGxheTsgZW5jcnlwdGVkLW1lZGlhIiwKICAgICAgLy8gICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbjogdHJ1ZSwKICAgICAgLy8gICAgICAgICAgIGFsbG93OgogICAgICAvLyAgICAgICAgICAgICAiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIiwKICAgICAgLy8gICAgICAgICAgIHJlZmVycmVycG9saWN5OiAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIsCiAgICAgIC8vICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICBjbGFzczogImNvbnRhaW5lciB3aGl0ZSIsCiAgICAgIC8vICAgICAgICAgc3R5bGU6IHsKICAgICAgLy8gICAgICAgICAgIHJlc2l6ZTogImJvdGgiLAogICAgICAvLyAgICAgICAgICAgdG9wOiAwLAogICAgICAvLyAgICAgICAgICAgbGVmdDogMCwKICAgICAgLy8gICAgICAgICAgIGhlaWdodDogIjEwMCUiLAogICAgICAvLyAgICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgLy8gICAgICAgICAgIGJvcmRlcjogMCwKICAgICAgLy8gICAgICAgICB9LAogICAgICAvLyAgICAgICAgIHJlZjogInJhd0h0bWwiLAogICAgICAvLyAgICAgICB9KTsKICAgICAgLy8gICAgICAgY29uc29sZS5lcnJvcigiRXJyb3I6IiwgZXJyb3IpOwogICAgICAvLyAgICAgfSk7CiAgICAgIC8vIH0sCiAgICAgIGxvYWRMb2NhbEZpbGU6IGZ1bmN0aW9uIGxvYWRMb2NhbEZpbGUoaF8sIGVsKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgICAgdmFyIGE7CiAgICAgICAgaWYgKGVsLnN0YXJ0c1dpdGgoIi8iKSB8fCBlbC5zdGFydHNXaXRoKCIuLyIpIHx8IGVsLnN0YXJ0c1dpdGgoIi4uLyIpKSB7CiAgICAgICAgICBhID0gZmV0Y2goZWwpOyAvLyBGZXRjaCB0aGUgZmlsZSBvciBBUEkgZW5kcG9pbnQKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYSA9IHRoaXMuZ2V0VXJsUmVzcG9uc2UoZWwpOyAvLyBGZXRjaCB0aGUgZmlsZSBvciBBUEkgZW5kcG9pbnQKICAgICAgICB9CiAgICAgICAgLy8gZmV0Y2goZWwpIC8vIEZldGNoIHRoZSBmaWxlIG9yIEFQSSBlbmRwb2ludAogICAgICAgIGEudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJSZXNwb25zZSBkYXRhOixlbCAiLCBlbCwgcmVzcG9uc2UsIHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5kYXRhLCBjb250ZW50VHlwZSk7CiAgICAgICAgICBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoImFwcGxpY2F0aW9uL2pzb24iKSkgewogICAgICAgICAgICAvLyBQYXJzZSB0aGUgSlNPTiBkYXRhCiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIF90aGlzMy5maWxlQ29udGVudCA9IGhfKCJXQkRhdGFWaWV3ZXIiLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogZWwsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICB2YWx1ZTogZGF0YQogICAgICAgICAgICAgICAgfSAvLyBVc2UgdGhlIHBhcnNlZCBKU09OIGRhdGEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJpbWFnZS8iKSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygidGhpcyA6Pj4gIiwgX3RoaXMzKTsKICAgICAgICAgICAgX3RoaXMzLmZpbGVDb250ZW50ID0gaF8oImltZyIsIHsKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgc3JjOiBlbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgIHN0eWxlOiB7fSwKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coInRoaXMuZmlsZUNvbnRlbnQgOj4+ICIsIF90aGlzMy5maWxlQ29udGVudCk7CiAgICAgICAgICB9IGVsc2UgaWYgKFsiL2h0bWwiXS5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBjb250ZW50VHlwZS5pbmNsdWRlcyhlKTsKICAgICAgICAgIH0pICYmIGVsLmluY2x1ZGVzKCJodG1sIikgJiYgIWVsLmluY2x1ZGVzKCI/c3JjIikpIHsKICAgICAgICAgICAgX3RoaXMzLmZpbGVDb250ZW50ID0gaF8oIldCSHRtbCIsIHsKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoIi54bHN4IikgfHwgZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgiLnhscyIpIHx8IGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJleGNlbCIpKSB7CiAgICAgICAgICAgIF90aGlzMy5maWxlQ29udGVudCA9IGhfKCJWdWVPZmZpY2VFeGNlbCIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgc3JjOiBlbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgIHN0eWxlOiB7fSwKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgiLmRvY3giKSB8fCBlbC50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCIuZG9jIikgfHwgY29udGVudFR5cGUuaW5jbHVkZXMoIm1zd29yZCIpIHx8IGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJvZmZpY2Vkb2N1bWVudCIpKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIF90aGlzMy5maWxlQ29udGVudCA9IGhfKCJXQkh0bWwiLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogZWwsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBodG1sOiBkYXRhCiAgICAgICAgICAgICAgICB9IC8vIFVzZSB0aGUgcGFyc2VkIEpTT04gZGF0YQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gfSBlbHNlIGlmICgKICAgICAgICAgICAgLy8gICBjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24vZG9jIikgfHwKICAgICAgICAgICAgLy8gICBjb250ZW50VHlwZS5pbmNsdWRlcygib2ZmaWNlZG9jdW1lbnQiKQogICAgICAgICAgICAvLyApIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImRvYyxlbCA6Pj4gIiwgZG9jLCBlbCk7CiAgICAgICAgICAgIC8vIHRoaXMuZmlsZUNvbnRlbnQgPSBoXygiVnVlRG9jUHJldmlldyIsIHsKICAgICAgICAgICAgLy8gICBwcm9wczogewogICAgICAgICAgICAvLyAgICAgdmFsdWU6IGVsLAogICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgIC8vICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAvLyAgIHN0eWxlOiB7fSwKICAgICAgICAgICAgLy8gICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgIC8vIHRoaXMuZmlsZUNvbnRlbnQgPSBoXygiVnVlT2ZmaWNlRXhjZWwiLCB7CiAgICAgICAgICAgIC8vICAgcHJvcHM6IHsKICAgICAgICAgICAgLy8gICAgIHNyYzogZWwsCiAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgLy8gICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgIC8vICAgc3R5bGU6IHt9LAogICAgICAgICAgICAvLyAgIHJlZjogInJhd0h0bWwiLAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoImFwcGxpY2F0aW9uL2V4Y2VsIikpIHsKICAgICAgICAgICAgX3RoaXMzLmZpbGVDb250ZW50ID0gaF8oIlZ1ZU9mZmljZUV4Y2VsIiwgewogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICBzcmM6IGVsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgICAgc3R5bGU6IHt9LAogICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24vcGRmIikpIHsKICAgICAgICAgICAgLy8gYWxlcnQoInBkZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYiKTsKICAgICAgICAgICAgX3RoaXMzLmZpbGVDb250ZW50ID0gaF8oInBkZiIsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgc3JjOiBlbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgIHN0eWxlOiB7fSwKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KCdjb2RlJykKICAgICAgICAgICAgX3RoaXMzLmZpbGVDb250ZW50ID0gaF8oIlZDTSIsIHsKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgLy8gcmVzaXplOiAnYm90aCcsCiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgICAgICAgICAgaGVpZ2h0OiAiMTAwJSIKICAgICAgICAgICAgICAgIC8vICAgYm9yZGVyOiAwLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5kYXRhKSB8fCByZXNwb25zZSwKICAgICAgICAgICAgICAgIHJlZjogIm15Q20iLAogICAgICAgICAgICAgICAgdGFiU2l6ZTogMTQsCiAgICAgICAgICAgICAgICAvLyBtb2RlOiAidGV4dC9jc3MiLAogICAgICAgICAgICAgICAgbW9kZTogY29udGVudFR5cGUsCiAgICAgICAgICAgICAgICAvLyBtb2RlOiAndGV4dC9odG1sJywKICAgICAgICAgICAgICAgIHRoZW1lOiAiZGVmYXVsdCIsCiAgICAgICAgICAgICAgICAvLyBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vIGxpbmU6IHRydWUsCgogICAgICAgICAgICAgICAgLy8gb3B0aW9uczogewogICAgICAgICAgICAgICAgLy8gICBsaW5lV3JhcHBpbmc6IHRydWUsIC8vIEVuYWJsZSBsaW5lIHdyYXBwaW5nCiAgICAgICAgICAgICAgICAvLyAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eSwKICAgICAgICAgICAgICAgIC8vICAgLy9Db2RlbWlycm9yIG9wdGlvbnMKICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgIC8vIHRhYlNpemU6IDQsCiAgICAgICAgICAgICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsCiAgICAgICAgICAgICAgICAgIGxpbmU6IHRydWUsCiAgICAgICAgICAgICAgICAgIGZvbGRHdXR0ZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgIHN0eWxlU2VsZWN0ZWRUZXh0OiB0cnVlLAogICAgICAgICAgICAgICAgICAvLyBrZXlNYXA6ICJzdWJsaW1lIiwKICAgICAgICAgICAgICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsCiAgICAgICAgICAgICAgICAgIC8vIHRoZW1lOiAibW9ub2thaSIsCiAgICAgICAgICAgICAgICAgIGV4dHJhS2V5czogewogICAgICAgICAgICAgICAgICAgIEN0cmw6ICJhdXRvY29tcGxldGUiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGhpbnRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVTaW5nbGU6ICFmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIHRoaXMuZmlsZUNvbnRlbnQgPSBoXygnV0JIdG1sJywgeyBwcm9wczogeyBodG1sOiByZXNwb25zZS5kYXRhIH0gfSkKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBlbHNlIHsKICAgICAgICAgIC8vICAgdGhpcy5maWxlQ29udGVudCA9IGhfKCdXQkh0bWwnLCB7IHByb3BzOiB7IGh0bWw6IHJlc3BvbnNlLmRhdGEgfSB9KQoKICAgICAgICAgIC8vICAgLy8gdGhpcy5maWxlQ29udGVudCA9IGhfKCdpZnJhbWUnLCB7CiAgICAgICAgICAvLyAgIC8vICAgYXR0cnM6IHsKICAgICAgICAgIC8vICAgLy8gICAgIHRpdGxlOiBlbCwKICAgICAgICAgIC8vICAgLy8gICAgIHNyYzogZWwsCiAgICAgICAgICAvLyAgIC8vICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICAgIC8vICAgLy8gICAgIGZyYW1lYm9yZGVyOiAiMCIsCiAgICAgICAgICAvLyAgIC8vICAgICBhbGxvdzogImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWEiLAogICAgICAgICAgLy8gICAvLyAgICAgYWxsb3dmdWxsc2NyZWVuOiB0cnVlLAogICAgICAgICAgLy8gICAvLyAgICAgYWxsb3c6ICJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiLAogICAgICAgICAgLy8gICAvLyAgICAgcmVmZXJyZXJwb2xpY3k6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIgogICAgICAgICAgLy8gICAvLyAgIH0sCiAgICAgICAgICAvLyAgIC8vICAgY2xhc3M6ICdjb250YWluZXInLAogICAgICAgICAgLy8gICAvLyAgIHN0eWxlOiB7CiAgICAgICAgICAvLyAgIC8vICAgICByZXNpemU6ICdib3RoJywKICAgICAgICAgIC8vICAgLy8gICAgIC8vICBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgIC8vICAgLy8gICAgIHRvcDogMCwKICAgICAgICAgIC8vICAgLy8gICAgIGxlZnQ6IDAsCiAgICAgICAgICAvLyAgIC8vICAgICBoZWlnaHQ6ICcxMDAlJywKICAgICAgICAgIC8vICAgLy8gICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgICAvLyAgIC8vICAgICBib3JkZXI6IDAsCiAgICAgICAgICAvLyAgIC8vICAgfSwKICAgICAgICAgIC8vICAgLy8gICByZWY6ICdyYXdIdG1sJywKICAgICAgICAgIC8vICAgLy8gfSkKICAgICAgICAgIC8vIH0KCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY29udGVudFR5cGVlZWVlZWVlZWUgOj4+ICcsIGNvbnRlbnRUeXBlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzMy5maWxlQ29udGVudCA9IGhfKCJpZnJhbWUiLCB7CiAgICAgICAgICAgIGF0dHJzOiBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgICBzcmM6IGVsLAogICAgICAgICAgICAgIGNvbnRyb2xzOiB0cnVlLAogICAgICAgICAgICAgIGZyYW1lYm9yZGVyOiAiMCIsCiAgICAgICAgICAgICAgYWxsb3c6ICJhdXRvcGxheTsgZW5jcnlwdGVkLW1lZGlhIiwKICAgICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW46IHRydWUKICAgICAgICAgICAgfSwgImFsbG93IiwgImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIpLCAicmVmZXJyZXJwb2xpY3kiLCAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIpLAogICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciB3aGl0ZSIsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgcmVzaXplOiAiYm90aCIsCiAgICAgICAgICAgICAgLy8gcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgaGVpZ2h0OiAiMTAwJSIsCiAgICAgICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICAgICAgICBib3JkZXI6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoIkVycm9yOiIsIGVycm9yKTsKICAgICAgICAgIC8vIHRoaXMuZmlsZUNvbnRlbnQgPSBlbC8vaF8oJ2xpJyxbZWxdKTsgLy8gU2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgdG8gdGhlIGVycm9yIGlmIGl0IG9jY3VycwogICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyBmZWV0Y2hGaWxlKCkgewogICAgICAvLyAgIC8vIEZldGNoIHRoZSBmaWxlIGNvbnRlbnQKICAgICAgLy8gICBmZXRjaCgiQC9wdWJsaWMvcGRmMC5wZGYiKQogICAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpCiAgICAgIC8vICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAvLyAgICAgICB0aGlzLmZpbGVDb250ZW50ID0gZGF0YTsgLy8gVXBkYXRlIHRoZSBjb21wb25lbnQncyBkYXRhCiAgICAgIC8vICAgICB9KQogICAgICAvLyAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAvLyAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBsb2FkaW5nIGZpbGU6IiwgZXJyb3IpOwogICAgICAvLyAgICAgfSk7CiAgICAgIC8vIH0sCiAgICAgIC8vIGhhbmRsZUlucHV0KG5ld1ZhbHVlKSB7CiAgICAgIC8vIAlhbGVydChuZXdWYWx1ZSkKICAgICAgLy8gCXRoaXMuaW50ZXJuYWxWYWx1ZSA9IG5ld1ZhbHVlOwogICAgICAvLyAJdGhpcy4kZW1pdCgnaW5wdXQnLCBuZXdWYWx1ZSk7CiAgICAgIC8vIH0sCiAgICAgIC8vIGl0ZW1BY2Nlc3NlYmlsaXR5Rm46IGZ1bmN0aW9uIChlbCkgewogICAgICAvLyAJbGV0IHZtPXRoaXMuJHJlZnM/LltlbD8ub3B0aW9ucz8ucmVmXQogICAgICAvLyAJLy8gbGV0IHZtPXRoaXMuJHJlZnM/LltlbD8ub3B0aW9ucz8ucmVmXQogICAgICAvLyAJLy8gbGV0IFdCQUxFUlQgPSB0aGlzPy5XQkFsZXJ0ID8geyB3YkFsZXJ0OiB0aGlzLldCQWxlcnQgfSA6IHt9OwogICAgICAvLyAJcmV0dXJuIHsKICAgICAgLy8gCQkvLyBwcm9wczogdm0uPyRwcm9wcywKICAgICAgLy8gCQlkYXRhOiBlbCwKICAgICAgLy8gCQkvLyBkYXRhMDogdm0uJGRhdGEsCiAgICAgIC8vIAkJcmVmOigpPT4gdGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdLAogICAgICAvLyAJCWlzVmFsaWQ6IHZtPy52YWxpZCwKICAgICAgLy8gCQl2bTogdm0sCiAgICAgIC8vIAkJY29udGV4dDp0aGlzLAogICAgICAvLyAJCWVtaXQ6dm0/LiRlbWl0ICwKICAgICAgLy8gCQl1cGRhdGU6ICgpID0+IHsKICAgICAgLy8gCQkJdGhpcy5rZXlfICs9IDEKICAgICAgLy8gCQl9LAogICAgICAvLyAJCWV4dERhdGE6IHsga2V5eTogdGhpcy4kZGF0YS5leHRLZXlfLCB3cmFwOiB0aGlzLiRkYXRhLndyYXBfLCBjaGlsZHJlbjogdGhpcy4kZGF0YS5jaGlsZHJlbl8gfSwKICAgICAgLy8gCQljb21wS2V5eTogKCkgPT4gdGhpcy5jb21wdXRlZEtleSgpLAogICAgICAvLyAJCS8vIGtleXk6dGhpcy4kZGF0YS5rZXlfLAogICAgICAvLyAJCXZOb2RlczogdGhpcy4kZGF0YS52Tm9kZXMsCiAgICAgIC8vIAkJLy8gbWV0aG9kczogewogICAgICAvLyAJCS8vIAlyYW5kb21Db2xvcjogdGhpcy5yYW5kb21Db2xvciwKICAgICAgLy8gCQkvLyAJcmFuZG9tS2V5eTogdGhpcy5yYW5kb21LZXksCiAgICAgIC8vIAkJLy8gCWNhcGl0YWxpemVXb3JkczogdGhpcy5jYXBpdGFsaXplV29yZHMsCiAgICAgIC8vIAkJLy8gCWdldFJhbmRvbUludDogdGhpcy5nZXRSYW5kb21JbnQsCiAgICAgIC8vIAkJLy8gCWlzVm5vZGU6IHRoaXMuaXNWbm9kZSwKICAgICAgLy8gCQkvLyAJc3RyaW5nVG9Kc29uOiB0aGlzLnN0cmluZ1RvSnNvbiwKICAgICAgLy8gCQkvLyAJY29tcEZ1bmM6IHRoaXMuY29tcEZ1bmMsCiAgICAgIC8vIAkJLy8gCWFueU1hdGNoSW5BcnJheTogdGhpcy5hbnlNYXRjaEluQXJyYXksCiAgICAgIC8vIAkJLy8gCXN0clRvT2JqOiB0aGlzLnN0clRvT2JqLAogICAgICAvLyAJCS8vIAl0b1RpdGxlQ2FzZTogdGhpcy50b1RpdGxlQ2FzZSwKICAgICAgLy8gCQkvLyAJZ2VuZXJhbFZhbDogdGhpcy5nZW5lcmFsVmFsLAogICAgICAvLyAJCS8vIH0sCiAgICAgIC8vIAkJbGc6e2xhbmc6IHRoaXMubGFuZyxnZXQ6ICgpPT50aGlzPy4kc3RvcmU/LnN0YXRlPy5sZyB8fCAnZW4nLCBzZXQ6KGxhbmdhZ2UpPT57dGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVMYW5nJyxsYW5nYWdlKX19LAogICAgICAvLyAJCXVzZXI6IHRoaXM/LiRzdG9yZT8uc3RhdGU/LnVzZXIsCiAgICAgIC8vIAkJbG9nZ2VkSW46IHRoaXM/LiRzdG9yZT8uc3RhdGU/LmxvZ2dlZEluIHx8IGZhbHNlLAogICAgICAvLyAJCXF1ZXJ5RGF0YTogdGhpcy5xdWVyeURhdGEsCiAgICAgIC8vIAkJYWVzOiB7CiAgICAgIC8vIAkJCWVuYzogdGhpcy5hZXNFbmMsCiAgICAgIC8vIAkJCWRlYzogdGhpcy5hZXNEZWMsCiAgICAgIC8vIAkJfSwKICAgICAgLy8gCQl2YWxpZGF0b3JzOiB7CiAgICAgIC8vIAkJCS4uLnZhbGlkYXRvcnMsCiAgICAgIC8vIAkJfSwKICAgICAgLy8gCQljb29raWVzOiB7CiAgICAgIC8vIAkJCS4uLlZ1ZUNvb2tpZXMsCiAgICAgIC8vIAkJCXN0YXRlOnRoaXMuZ2V0Q29va2llcwogICAgICAvLyAJCX0sCiAgICAgIC8vIAkJc3RvcmFnZTpsb2NhbFN0b3JhZ2UsCiAgICAgIC8vIAkJcHJvdG86IGFwcD8ucHJvdG90eXBlIHx8IHt9LAogICAgICAvLyAJCXJvdXRlUGFyYW1zOiB0aGlzPy4kcm91dGU/LnBhcmFtcywKICAgICAgLy8gCQltb21lbnQ6IHRoaXMuJG1vbWVudCwKICAgICAgLy8gCQkvLyAkd2F0Y2g6IHRoaXMuJHdhdGNoLAogICAgICAvLyAJCXN0b3JlOiB0aGlzLiRzdG9yZSwKICAgICAgLy8gCQlyb3V0ZXI6IHRoaXMuJHJvdXRlciwKICAgICAgLy8gCQkvLyBvcHRpb25zOiB0aGlzLiRvcHRpb25zLAogICAgICAvLyAJCS8vIGNsczogYXBwLAogICAgICAvLyAJCWFsZXJ0OiB0aGlzLmFsZXJ0LAogICAgICAvLyAJCS8vIGFsZXJ0T2Jqczp0aGlzLmFsZXJ0T2JqcwogICAgICAvLyAJfTsKICAgICAgLy8gfSwKICAgICAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhlbCkgewogICAgICAgIHZhciBfdGhlT3B0cywKICAgICAgICAgIF90aGVPcHRzMiwKICAgICAgICAgIF90aGVPcHRzMywKICAgICAgICAgIF90aGVPcHRzNCwKICAgICAgICAgIF90aGVPcHRzNSwKICAgICAgICAgIF90aGlzNCA9IHRoaXMsCiAgICAgICAgICBfdGhlT3B0czcsCiAgICAgICAgICBfdGhlT3B0czk7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ29vb29vb29vb29vb29vJyxlbCkKCiAgICAgICAgLy8gZWwub3B0aW9ucy5yZWY9cmVmTmFtZQogICAgICAgIC8vIGVsLnJlZiA9ICgpID0+IHRoaXM/LiRyZWZzW3JlZk5hbWVdCgogICAgICAgIC8vIGlmIChvcHRpb25zPy5nbG9iYWwpIHsKICAgICAgICAvLyAJCQkJCWdsb2JhbFtvcHRpb25zPy5nbG9iYWxdID0gdGhpcy5pdGVtQWNjZXNzZWJpbGl0eTsKICAgICAgICAvLyAJCQkJCWdsb2JhbFtvcHRpb25zPy5nbG9iYWwgKyAnX3ZtX2NvbnRleHQnXSA9IHRoaXM7CgogICAgICAgIC8vIAkJCQl9CgogICAgICAgIHZhciB0aGVPcHRzID0gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5zd2l0Y2gpID09PSB0cnVlID8gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5oT3B0aW9ucykgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5vcHRpb25zKSA6IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwub3B0aW9ucykgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5oT3B0aW9ucyk7CiAgICAgICAgaWYgKCF0aGVPcHRzKSB7CiAgICAgICAgICByZXR1cm4gZWw7CiAgICAgICAgfQogICAgICAgIHRoZU9wdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoZU9wdHMpLCB0aGlzLm1lbnUgPyAoX3RoZU9wdHMgPSB0aGVPcHRzKSA9PT0gbnVsbCB8fCBfdGhlT3B0cyA9PT0gdm9pZCAwIHx8IChfdGhlT3B0cyA9IF90aGVPcHRzLm1lbnUpID09PSBudWxsIHx8IF90aGVPcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhlT3B0cy5hY3RpdmVPcHRpb25zIDogKF90aGVPcHRzMiA9IHRoZU9wdHMpICE9PSBudWxsICYmIF90aGVPcHRzMiAhPT0gdm9pZCAwICYmIChfdGhlT3B0czIgPSBfdGhlT3B0czIubWVudSkgIT09IG51bGwgJiYgX3RoZU9wdHMyICE9PSB2b2lkIDAgJiYgX3RoZU9wdHMyLmFjdGl2ZSA/IChfdGhlT3B0czMgPSB0aGVPcHRzKSA9PT0gbnVsbCB8fCBfdGhlT3B0czMgPT09IHZvaWQgMCB8fCAoX3RoZU9wdHMzID0gX3RoZU9wdHMzLm1lbnUpID09PSBudWxsIHx8IF90aGVPcHRzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoZU9wdHMzLmFjdGl2ZVJvb3RPcHRpb25zIDoge30pOwoKICAgICAgICAvLyB0aGVPcHRzLnByb3BzPXsuLi4odGhlT3B0cz8ucHJvcHN8fHt9KSwuLi4odGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdKCk/LiRwcm9wc3x8e30pfQogICAgICAgIC8vIHRoaXMuJGxpc3RuZXJzWydjbGljazphcHBlbmQnXT0oKT0+YWxlcnQoNTU1NTU1NTU1NTU1NTU1NTU1NSkKICAgICAgICAvLyBjb25zb2xlLmxvZyg5OTk5OTk5OTk5OTk5OTk5OTk5LHRoaXMpCgogICAgICAgIHZhciBsaXN0ZW5lcnNPYmogPSAoKF90aGVPcHRzNCA9IHRoZU9wdHMpID09PSBudWxsIHx8IF90aGVPcHRzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoZU9wdHM0Lm9uKSB8fCB7fTsKICAgICAgICAvLyBsZXQgbGlzdGVuZXJzT2JqID0gdGhlT3B0cz8ub24gfHwge307CiAgICAgICAgLy8gbGV0IHNlbGVjdEl0ZW1PcHRpb25zCgogICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vL3Byb3BzIG1hbmFnZW1lbnQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAvLyB0aGVPcHRzLnByb3BzPXsuLi4odGhlT3B0cz8ucHJvcHN8fHt9KSwuLi4odGhlT3B0cz8ucHJvcHNffHx7fSl9CiAgICAgICAgLy8gaWYodGhlT3B0cz8ucHJvcHMpe3RoZU9wdHMucHJvcHMudmFsdWU9IHRoZU9wdHM/LnZhbHx8dGhlT3B0cy5wcm9wcy52YWx1ZX0KICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9SdWxlcyBtYW5hZ2VtZW50IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAgIHZhciBydWxlcyA9IFtdOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KChfdGhlT3B0czUgPSB0aGVPcHRzKSA9PT0gbnVsbCB8fCBfdGhlT3B0czUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGVPcHRzNS5ydWxlcykgLyogJiYgcnVsZXMgIT09IG51bGwgKi8pIHsKICAgICAgICAgIHZhciBfdGhlT3B0czY7CiAgICAgICAgICAvLyBhbGVydCgncnVsZXMnKQoKICAgICAgICAgIHJ1bGVzID0gKCgoX3RoZU9wdHM2ID0gdGhlT3B0cykgPT09IG51bGwgfHwgX3RoZU9wdHM2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhlT3B0czYucnVsZXMpIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICB2YXIgX3RoaXM0JHZhbGlkYXRvcnM7CiAgICAgICAgICAgIGlmICgoX3RoaXM0JHZhbGlkYXRvcnMgPSBfdGhpczQudmFsaWRhdG9ycykgIT09IG51bGwgJiYgX3RoaXM0JHZhbGlkYXRvcnMgIT09IHZvaWQgMCAmJiBfdGhpczQkdmFsaWRhdG9yc1trZXldKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnZhbGlkYXRvcnNba2V5XSh2LCB7CiAgICAgICAgICAgICAgICAgIGxnOiBfdGhpczQubGFuZwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4ga2V5OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKF90eXBlb2YoKF90aGVPcHRzNyA9IHRoZU9wdHMpID09PSBudWxsIHx8IF90aGVPcHRzNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoZU9wdHM3LnJ1bGVzKSA9PSAib2JqZWN0IikgewogICAgICAgICAgdmFyIF90aGVPcHRzODsKICAgICAgICAgIHJ1bGVzID0gT2JqZWN0LmVudHJpZXMoKF90aGVPcHRzOCA9IHRoZU9wdHMpID09PSBudWxsIHx8IF90aGVPcHRzOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoZU9wdHM4LnJ1bGVzKS5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgIHZhciBfdGhpczQkdmFsaWRhdG9yczIsIF90aGlzNCR2YWxpZGF0b3JzMzsKICAgICAgICAgICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDIpLAogICAgICAgICAgICAgIGtleSA9IF9yZWYzWzBdLAogICAgICAgICAgICAgIHZhbCA9IF9yZWYzWzFdOwogICAgICAgICAgICBpZiAoKF90aGlzNCR2YWxpZGF0b3JzMiA9IF90aGlzNC52YWxpZGF0b3JzKSAhPT0gbnVsbCAmJiBfdGhpczQkdmFsaWRhdG9yczIgIT09IHZvaWQgMCAmJiBfdGhpczQkdmFsaWRhdG9yczJba2V5XSAmJiB0eXBlb2YgdmFsID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgICAgICB9IGVsc2UgaWYgKChfdGhpczQkdmFsaWRhdG9yczMgPSBfdGhpczQudmFsaWRhdG9ycykgIT09IG51bGwgJiYgX3RoaXM0JHZhbGlkYXRvcnMzICE9PSB2b2lkIDAgJiYgX3RoaXM0JHZhbGlkYXRvcnMzW2tleV0gJiYgX3R5cGVvZih2YWwpID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnZhbGlkYXRvcnNba2V5XSh2LCB2YWwpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnZhbGlkYXRvcnNba2V5XSh2LCB7CiAgICAgICAgICAgICAgICAgIGxnOiBfdGhpczQubGFuZywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdmFsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKCEoKF90aGVPcHRzOSA9IHRoZU9wdHMpICE9PSBudWxsICYmIF90aGVPcHRzOSAhPT0gdm9pZCAwICYmIF90aGVPcHRzOS5wcm9wcykpIHsKICAgICAgICAgIHRoZU9wdHMucHJvcHMgPSB7fTsKICAgICAgICB9CiAgICAgICAgaWYgKHJ1bGVzLmxlbmd0aCA+PSAxKSB7CiAgICAgICAgICB0aGVPcHRzLnByb3BzLnJ1bGVzID0gcnVsZXM7CiAgICAgICAgfQoKICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9hdHRycyBtYW5hZ2VtZW50IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAgIC8vIHRoZU9wdHMuYXR0cnM9ey4uLih0aGVPcHRzPy5hdHRyc3x8e30pLC4uLih0aGlzPy4kYXR0cnN8fHt9KX0KCiAgICAgICAgLy8gdGhlT3B0cy5hdHRycyA9IHsuLi50aGVPcHRzPy5hdHRycywuLi50aGlzLiRhdHRycywuLi4odGhpcy4kcmVmc1tlbD8ub3B0aW9ucz8ucmVmXT8uJGF0dHJzfHx7fSl9CiAgICAgICAgLy8gdGhlT3B0cy5hdHRycyA9IHsuLi50aGVPcHRzPy5hdHRycywuLi4odGhpcy4kcmVmc1tlbD8ub3B0aW9ucz8ucmVmXT8uJGxpc3RlbmVyc3x8e30pfQogICAgICAgIC8vIE9iamVjdC5lbnRyaWVzKHRoZU9wdHM/LmF0dHJzKS5tYXAoKFtrZXksIHZhbF0pID0+IHthdHRyc1trZXldPQoKICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9ldmVudCBMaXN0ZW5lcnMgbWFuYWdlbWVudCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgICAvLyB0aGlzLml0ZW1MaXN0ZW5lcnM9ey4uLih0aGVPcHRzPy5vbnx8e30pfTsKCiAgICAgICAgaWYgKC8qIGVsPy5oQ29tcHx8ZWw/LmhPcHRpb25zfHwgKi90eXBlb2YgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5zd2l0Y2gpID09ICJib29sZWFuIikgewogICAgICAgICAgLy8gY3VzdG9tTGlzdGVuZXJzLm1vdXNlb3ZlciA9IChldmVudCkgPT4gewogICAgICAgICAgdGhpcy5pdGVtTGlzdGVuZXJzWyhlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuc3dpdGNoRXZlbnQpIHx8ICJtb3VzZWVudGVyIl0gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgLy8gdGhpcy5pdGVtTGlzdGVuZXJzLm1vdXNvdmVyID0gKGV2ZW50KSA9PiB7CgogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMsZXZlbnQpCiAgICAgICAgICAgIC8vIGVsLnN3aXRjaCA9IHRydWUKICAgICAgICAgICAgZWwuc3dpdGNoID0gIWVsLnN3aXRjaDsKICAgICAgICAgICAgLy8gZXZlbi5zdG9wUHJvcGFnYXRpb24oKQoKICAgICAgICAgICAgLy8gb3B0aW9ucz1lbC5vcHRpb25zCiAgICAgICAgICAgIC8vIGNvbXA9Y29tcAogICAgICAgICAgICAvLyBoZWFkZXI9ZWwuaGVhZGVyCiAgICAgICAgICAgIC8vIGZvb3Rlcj1lbC5mb290ZXIKCiAgICAgICAgICAgIC8vIGFsZXJ0KCdnZ2dnZ2dnZ2cnKQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWwub3B0aW9ucyA9IGVsWyhlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuc3dpdGNoKSB8fCAib3B0aW9ucyJdOwogICAgICAgIH0KICAgICAgICAvLyB9CgogICAgICAgIC8vIHRoZU9wdHMub24gPSB0aGlzLml0ZW1MaXN0ZW5lcnM7CgogICAgICAgIHJldHVybiB0aGlzLm9iakxhbmcodGhlT3B0cywgdGhpcy5sYW5nKTsKICAgICAgICAvLyBvcHRpb25zPXRoaXMub2JqTGFuZyhvcHRpb25zLHRoaXMubGFuZyksCiAgICAgIH0sCiAgICAgIGNvbXA6IGZ1bmN0aW9uIGNvbXAoZWwpIHsKICAgICAgICB2YXIgdGhlQ29tcCA9IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuc3dpdGNoKSA9PT0gdHJ1ZSA/IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuaENvbXApIHx8IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuY29tcCkgOiAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmNvbXApIHx8IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuaENvbXApOwogICAgICAgIGlmICh0eXBlb2YgdGhlQ29tcCA9PSAic3RyaW5nIikgewogICAgICAgICAgcmV0dXJuIHRoZUNvbXAucmVwbGFjZSgifiIsICIiKS5yZXBsYWNlKCIqIiwgIiIpLnJlcGxhY2UoIjwiLCAiIikucmVwbGFjZSgiPiIsICIiKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoZUNvbXA7CiAgICAgIH0sCiAgICAgIGdsb2JhbEhlYWRlclZOOiBmdW5jdGlvbiBnbG9iYWxIZWFkZXJWTihlbCwgaF8pIHsKICAgICAgICB2YXIgaGVhZGVyID0gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5zd2l0Y2gpID09PSB0cnVlID8gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5oSGVhZGVyKSB8fCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmhlYWRlcikgOiAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmhlYWRlcikgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5oSGVhZGVyKTsKCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2hlYWRlciA6Pj4gJywgaGVhZGVyKTsKICAgICAgICBpZiAoIWhlYWRlcikgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0dXJuIGhfKCJXQkMiLCB7CiAgICAgICAgICAvKiBrZXl5OiBgd2JjLWtleS1oZWFkZXItJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfWAsICovcHJvcHM6IHsKICAgICAgICAgICAgaXRlbTogaGVhZGVyCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8gcmV0dXJuIHRoaXMudG9XQkNfKGhlYWRlcixoXykKICAgICAgfSwKICAgICAgZ2xvYmFsRm9vdGVyVk46IGZ1bmN0aW9uIGdsb2JhbEZvb3RlclZOKGVsLCBoXykgewogICAgICAgIHZhciBmb290ZXIgPSAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLnN3aXRjaCkgPT09IHRydWUgPyAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmhGb290ZXIpIHx8IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuZm9vdGVyKSA6IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuZm9vdGVyKSB8fCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsLmhGb290ZXIpOwogICAgICAgIGlmICghZm9vdGVyKSByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gaF8oIldCQyIsIHsKICAgICAgICAgIC8qIGtleXk6IGB3YmMta2V5LWZvb3Rlci0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwgKi9wcm9wczogewogICAgICAgICAgICBpdGVtOiBmb290ZXIKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgaW5zaWRlSGVhZGVyc1ZOOiBmdW5jdGlvbiBpbnNpZGVIZWFkZXJzVk4oZWwsIGhfKSB7CiAgICAgICAgdmFyIF9lbCRoT3B0aW9ucywgX2VsJG9wdGlvbnMsIF9lbCRvcHRpb25zMiwgX2VsJGhPcHRpb25zMjsKICAgICAgICB2YXIgaGVhZGVycyA9IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuc3dpdGNoKSA9PT0gdHJ1ZSA/IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkaE9wdGlvbnMgPSBlbC5oT3B0aW9ucykgPT09IG51bGwgfHwgX2VsJGhPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkaE9wdGlvbnMuaGVhZGVycykgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zLmhlYWRlcnMpIDogKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMyLmhlYWRlcnMpIHx8IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkaE9wdGlvbnMyID0gZWwuaE9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRoT3B0aW9uczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRoT3B0aW9uczIuaGVhZGVycyk7CiAgICAgICAgaWYgKCFoZWFkZXJzKSByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gdGhpcy50b1dCQ18oaGVhZGVycywgaF8pOwogICAgICAgIHJldHVybiBoXygiV0JDIiwgewogICAgICAgICAgLyoga2V5OiBgd2JjLWtleS1oZWFkZXJzLSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLCAqL3Byb3BzOiB7CiAgICAgICAgICAgIGl0ZW06IGhlYWRlcnMKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgaW5zaWRlRm9vdGVyc1ZOOiBmdW5jdGlvbiBpbnNpZGVGb290ZXJzVk4oZWwsIGhfKSB7CiAgICAgICAgdmFyIF9lbCRoT3B0aW9uczMsIF9lbCRvcHRpb25zMywgX2VsJG9wdGlvbnM0LCBfZWwkaE9wdGlvbnM0OwogICAgICAgIHZhciBmb290ZXJzID0gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5zd2l0Y2gpID09PSB0cnVlID8gKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRoT3B0aW9uczMgPSBlbC5oT3B0aW9ucykgPT09IG51bGwgfHwgX2VsJGhPcHRpb25zMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJGhPcHRpb25zMy5mb290ZXJzKSB8fCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczMuZm9vdGVycykgOiAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczQuZm9vdGVycykgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRoT3B0aW9uczQgPSBlbC5oT3B0aW9ucykgPT09IG51bGwgfHwgX2VsJGhPcHRpb25zNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJGhPcHRpb25zNC5mb290ZXJzKTsKICAgICAgICBpZiAoIWZvb3RlcnMpIHJldHVybiBudWxsOwogICAgICAgIHJldHVybiB0aGlzLnRvV0JDXyhmb290ZXJzLCBoXyk7CiAgICAgICAgcmV0dXJuIGhfKCJXQkMiLCB7CiAgICAgICAgICAvKiBrZXk6IGB3YmMta2V5LWZvb3RlcnMtJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfWAsICovcHJvcHM6IHsKICAgICAgICAgICAgaXRlbTogZm9vdGVycwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyBmb290ZXJzKGVsKXsKICAgICAgLy8gCXJldHVybiBlbD8uc3dpdGNoPT09dHJ1ZT9lbD8uaE9wdGlvbnM/LmZvb3RlcnN8fGVsPy5vcHRpb25zPy5mb290ZXJzOmVsPy5vcHRpb25zPy5mb290ZXJzfHxlbD8uaE9wdGlvbnM/LmZvb3RlcnMKICAgICAgLy8gfSwKICAgICAgaHRtbDogZnVuY3Rpb24gaHRtbChlbCkgewogICAgICAgIHZhciBfZWwkaE9wdGlvbnM1LCBfZWwkb3B0aW9uczUsIF9lbCRvcHRpb25zNiwgX2VsJGhPcHRpb25zNjsKICAgICAgICBpZiAoIXRoaXMuaXNQbGFpbk9iamVjdChlbCkpIHsKICAgICAgICAgIHJldHVybiBlbDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuc3dpdGNoKSA9PT0gdHJ1ZSA/IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkaE9wdGlvbnM1ID0gZWwuaE9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRoT3B0aW9uczUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRoT3B0aW9uczUuaHRtbCkgfHwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM1Lmh0bWwpIDogKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM2Lmh0bWwpIHx8IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkaE9wdGlvbnM2ID0gZWwuaE9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRoT3B0aW9uczYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRoT3B0aW9uczYuaHRtbCk7CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkS2V5OiBmdW5jdGlvbiBjb21wdXRlZEtleSgpIHsKICAgICAgICB2YXIgX3RoaXMkaXRlbV81LCBfdGhpcyRpdGVtXzY7CiAgICAgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIiI7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChrZXksICItIikuY29uY2F0KHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5rZXlfLCAiLSIpLmNvbmNhdCh0aGlzLmJhc2VLZXkgfHwgIiIsICItIikuY29uY2F0KCgoX3RoaXMkaXRlbV81ID0gdGhpcy5pdGVtXykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV81ID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW1fNSA9IF90aGlzJGl0ZW1fNS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzUgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV81ID0gX3RoaXMkaXRlbV81LnZhbCkgPT09IG51bGwgfHwgX3RoaXMkaXRlbV81ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtXzUubGVuZ3RoKSB8fCAiIiwgIi0iKS5jb25jYXQoKChfdGhpcyRpdGVtXzYgPSB0aGlzLml0ZW1fKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzYgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV82ID0gX3RoaXMkaXRlbV82Lm9wdGlvbnMpID09PSBudWxsIHx8IF90aGlzJGl0ZW1fNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV82LmZsb2F0KSB8fCAiIik7CgogICAgICAgIC8vIHJldHVybiBgJHt0aGlzPy5pdGVtXz8ub3B0aW9ucz8ua2V5fWAKICAgICAgfSwKICAgICAgLy8gaXRlbUxpc3RlbmVycyhvcHRpb25zKXsKICAgICAgLy8gCXJldHVybiB7fQogICAgICAvLyAJcmV0dXJuIG9wdGlvbnM/Lm9ufHx7fQogICAgICAvLyB9LAogICAgICAvLyBpdGVtTGlzdGVuZXJzOmZ1bmN0aW9uKGVsKXsKICAgICAgLy8gCWxldCBsaXN0ZW5lcnNPYmo9ey4uLnRoaXMuJGxpc3RlbmVyc30KICAgICAgLy8gCWlmICh0aGlzLmlzUGxhaW5PYmplY3QoZWwpKXsKICAgICAgLy8gCQlsaXN0ZW5lcnNPYmo9ewogICAgICAvLyAJCQkuLi50aGlzLiRsaXN0ZW5lcnMsCiAgICAgIC8vIAkJLi4uIChlbD8uc3dpdGNoPT09dHJ1ZT9lbD8uaE9wdGlvbnM/Lm9ufHxlbD8ub3B0aW9ucz8ub246ZWw/Lm9wdGlvbnM/Lm9ufHxlbD8uaE9wdGlvbnM/Lm9ufHx7fSksCiAgICAgIC8vIAkJLy8gLi4udGhpcy4kcGFyZW50LiRsaXN0ZW5lcnMsIC8vIEFjY2VzcyB0aGUgcGFyZW50IGNvbXBvbmVudCdzICRsaXN0ZW5lcnMKICAgICAgLy8gCQkvLyAuLi4oZWw/Lm9wdGlvbnM/Lm9ufHx7fSksIC8vIE1lcmdlIHdpdGggdGhlIGxpc3RlbmVycyBkZWZpbmVkIGluIHRoaXMub2JqLm9wdGlvbnMub24KICAgICAgLy8gCQkvLyAuLi50aGlzLiRsaXN0ZW5lcnMsIC8vIFBhc3MgYWxsIGxpc3RlbmVycyB0byB0aGUgVk1lbnUgY29tcG9uZW50CiAgICAgIC8vIAl9CiAgICAgIC8vIAlpZiAoLyogZWw/LmhDb21wfHxlbD8uaE9wdGlvbnN8fCAqL3R5cGVvZiBlbD8uc3dpdGNoPT0nYm9vbGVhbicpIHsKICAgICAgLy8gCQkvLyBjdXN0b21MaXN0ZW5lcnMubW91c2VvdmVyID0gKGV2ZW50KSA9PiB7CiAgICAgIC8vIAkJbGlzdGVuZXJzT2JqW2VsPy5zd2l0Y2hFdmVudHx8J21vdXNlZW50ZXInXSA9IChldmVudCkgPT4gewogICAgICAvLyAJCS8vIGxpc3RlbmVyc09iai5tb3Vzb3ZlciA9IChldmVudCkgPT4gewogICAgICAvLyAJCQkvLyBjb25zb2xlLmxvZygzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMsZXZlbnQpCiAgICAgIC8vIAkJCS8vIGVsLnN3aXRjaCA9IHRydWUKICAgICAgLy8gCQkJZWwuc3dpdGNoID0gIWVsLnN3aXRjaAogICAgICAvLyAJCQkvLyBldmVuLnN0b3BQcm9wYWdhdGlvbigpCiAgICAgIC8vIAkJCS8vIG9wdGlvbnM9ZWwub3B0aW9ucwogICAgICAvLyAJCQkvLyBjb21wPWNvbXAKICAgICAgLy8gCQkJLy8gaGVhZGVyPWVsLmhlYWRlcgogICAgICAvLyAJCQkvLyBmb290ZXI9ZWwuZm9vdGVyCiAgICAgIC8vIAkJCS8vIGFsZXJ0KCdnZ2dnZ2dnZ2cnKQogICAgICAvLyAJCX0KICAgICAgLy8gCQkvLyBsaXN0ZW5lcnNPYmoubW91c2VsZWF2ZSA9IChldmVudCkgPT4gewogICAgICAvLyAJCS8vIAllbC5zd2l0Y2ggPSAhdHJ1ZQogICAgICAvLyAJCS8vIAkvLyBldmVuLnN0b3BQcm9wYWdhdGlvbigpCiAgICAgIC8vIAkJLy8gCS8vIG9wdGlvbnM9ZWwuaE9wdGlvbnMKICAgICAgLy8gCQkvLyAJLy8gY29tcD1lbC5oQ29tcAogICAgICAvLyAJCS8vIAkvLyBoZWFkZXI9ZWwuaEhlYWRlcgogICAgICAvLyAJCS8vIAkvLyBmb290ZXI9ZWwuaEZvb3RlcgogICAgICAvLyAJCS8vIH0KICAgICAgLy8gCX0KICAgICAgLy8gCWVsc2V7CiAgICAgIC8vIAkJZWwub3B0aW9ucz1lbFtlbD8uc3dpdGNofHwnb3B0aW9ucyddCiAgICAgIC8vIAl9CiAgICAgIC8vIAl9CiAgICAgIC8vIAkvLyB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wYWdhdGlvbiA9IFtdOwogICAgICAvLyAJCS8vIGxpc3RlbmVyc09iai5tb3VzZWRvd249IChldmVudCk9PnsKICAgICAgLy8gCQkvLyAJCS8vIGFsZXJ0KDU1NTUpCiAgICAgIC8vIAkJLy8gCQkvLyB0aGlzLmtleV8rPTEKICAgICAgLy8gCQkvLyAJCWxldCBuYW1lVG9EaXNwID0gdHlwZW9mIGVsPy5vcHRpb25zPy5nbG9iYWwgPT0gJ3N0cmluZycgPyBvcHRpb25zPy5nbG9iYWwgOiAnJwogICAgICAvLyAJCS8vIAkJaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMSkgewogICAgICAvLyAJCS8vIAkJCWxldCBwcm9wYWdhdGlvbiA9IHRoaXMuJHN0b3JlLnN0YXRlLnByb3BhZ2F0aW9uIHx8IFtdOwogICAgICAvLyAJCS8vIAkJCWlmIChldmVudC5hbHRLZXkpIHsKICAgICAgLy8gCQkvLyAJCQkJZ2xvYmFsW2BlbGBdID0gdGhpcy5pdGVtQWNjZXNzZWJpbGl0eTsKICAgICAgLy8gCQkvLyAJCQkJYWxlcnQoJ2RkZGRkZGRkZGRkZGRkZGRkZCcrdGhpcz8uc2VsZWN0K3RoaXM/LnNlbGVjdCkKICAgICAgLy8gCQkvLyAJCQkJLy8gQ2hlY2sgaWYgQ3RybCBrZXkgaXMgcHJlc3NlZCBhdCB0aGUgdGltZSBvZiB0aGUgY2xpY2sKICAgICAgLy8gCQkvLyAJCQkJLy8gaWYgKGV2ZW50LmN0cmxLZXkpIHsgfQogICAgICAvLyAJCS8vIAkJCQl0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wYWdhdGlvbiA9IFtdCiAgICAgIC8vIAkJLy8gCQkJCS8vIHRoaXMuYWxlcnQoZWwpCiAgICAgIC8vIAkJLy8gCQkJCS8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IHRoZSBjbGljayBldmVudCBmcm9tIGJ1YmJsaW5nIHVwCiAgICAgIC8vIAkJLy8gCQkJCXRoaXMuc2VsZWN0ID0hdGhpcz8uc2VsZWN0CiAgICAgIC8vIAkJLy8gCQkJCXRoaXMuc2VsZWN0ID0hdGhpcz8uc2VsZWN0CiAgICAgIC8vIAkJLy8gCQkJCS8vIGNvbnNvbGUubG9nKCdlZWVlZWVlZWVlZScsZWwsZXZlbnQsbmFtZVRvRGlzcC5sZW5ndGgsdGhpcy5zZWxlY3QpCiAgICAgIC8vIAkJLy8gCQkJCWdsb2JhbFtgZWxgXSA9IHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHk7CiAgICAgIC8vIAkJLy8gCQkJfQogICAgICAvLyAJCS8vIAkJCWVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgIC8vIAkJLy8gCQkJCXRoaXMuJHN0b3JlLnN0YXRlLnByb3BhZ2F0aW9uLmZvckVhY2goKGUsIGkpID0+IHsKICAgICAgLy8gCQkvLyAJCQkJCWRlbGV0ZSBnbG9iYWxbYHBhcmVudCR7aX1gXQogICAgICAvLyAJCS8vIAkJCQkJLy8gYWxlcnQoJ3BwcHBwcHBwcHBwcCcgKyBwcm9wYWdhdGlvbikKICAgICAgLy8gCQkvLyAJCQkJfSk7Ly8gZ2xvYmFsWydlbGUnXSA9IHByb3BhZ2F0aW9uW3Byb3BhZ2F0aW9uLmxlbmd0aCAtIDFdOwogICAgICAvLyAJCS8vIAkJCQl0aGlzLnNlbGVjdCA9IGZhbHNlCiAgICAgIC8vIAkJLy8gCQkJCXRoaXMuc2VsZWN0ID1mYWxzZQogICAgICAvLyAJCS8vIAkJCQlkZWxldGUgZ2xvYmFsWydlbGUnXTsKICAgICAgLy8gCQkvLyAJCQkJZGVsZXRlIGdsb2JhbFsnZWxlcyddOwogICAgICAvLyAJCS8vIAkJCX0KICAgICAgLy8gCQkvLyAJCQkJLy8gaWYgKGV2ZW50LnNoaWZ0S2V5KQogICAgICAvLyAJCS8vIAkJCQkvLyB7CiAgICAgIC8vIAkJLy8gCQkJCWVsc2UKICAgICAgLy8gCQkvLyAJCQkJewogICAgICAvLyAJCS8vIAkJCQkJY29uc29sZS5sb2coYFdCQyAgJHtwcm9wYWdhdGlvbi5sZW5ndGggPj0gMSA/IGBwYXJlbnRgIDogJ2VsJ30ke3Byb3BhZ2F0aW9uLmxlbmd0aCA+PSAxID8gcHJvcGFnYXRpb24ubGVuZ3RoOicnfSAke25hbWVUb0Rpc3B9ID09PiBlbCA6Pj5gLCBlbCk7CiAgICAgIC8vIAkJLy8gCQkJCQl0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wYWdhdGlvbiA9IFsuLi5wcm9wYWdhdGlvbiwgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eV0KICAgICAgLy8gCQkvLyAJCQkJCXByb3BhZ2F0aW9uLnB1c2godGhpcy5pdGVtQWNjZXNzZWJpbGl0eSkKICAgICAgLy8gCQkvLyAJCQkJCXByb3BhZ2F0aW9uLmZvckVhY2goKGUsIGkpID0+IHsKICAgICAgLy8gCQkvLyAJCQkJCQlpZiAoaSA9PSAwKSB7CiAgICAgIC8vIAkJLy8gCQkJCQkJCWdsb2JhbFtgZWxgXSA9IGU7CiAgICAgIC8vIAkJLy8gCQkJCQkJCS8vIGVsLm9wdGlvbnMuc3R5bGU9ey4uLihlbD8ub3B0aW9ucz8uc3R5bGV8fHt9KSxib3JkZXI6YDEwcHggc29saWQgYmxhY2tgfQogICAgICAvLyAJCS8vIAkJCQkJCQkvLyBlbC5vcHRpb25zLmNsYXNzPSdwYS0xNSBtYS0xNScKICAgICAgLy8gCQkvLyAJCQkJCQl9CiAgICAgIC8vIAkJLy8gCQkJCQkJZWxzZSB7CiAgICAgIC8vIAkJLy8gCQkJCQkJCWdsb2JhbFtgcGFyZW50JHtpfWBdID0gZTsKICAgICAgLy8gCQkvLyAJCQkJCQl9CiAgICAgIC8vIAkJLy8gCQkJCQl9KTsvLyBnbG9iYWxbJ2VsZSddID0gcHJvcGFnYXRpb25bcHJvcGFnYXRpb24ubGVuZ3RoIC0gMV07CiAgICAgIC8vIAkJLy8gCQkJCQlnbG9iYWxbJ2VsZXMnXSA9IHByb3BhZ2F0aW9uOwogICAgICAvLyAJCS8vIAkJCQl9CiAgICAgIC8vIAkJLy8gCQl9CiAgICAgIC8vIAkJLy8gfQogICAgICAvLyAJCS8vIGxpc3RlbmVyc09iai5tb3VzZXVwPSAoZXZlbnQpPT57CiAgICAgIC8vIAkJLy8gCQkvLyB0aGlzLnNlbGVjdCA9IG51bGwKICAgICAgLy8gCQkvLyAJCWlmIChldmVudC5idXR0b24gPT09IDEpIHsKICAgICAgLy8gCQkvLyAJCQl0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wYWdhdGlvbiA9IFtdOwogICAgICAvLyAJCS8vIAkJCS8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IHRoZSBjbGljayBldmVudCBmcm9tIGJ1YmJsaW5nIHVwCiAgICAgIC8vIAkJLy8gCQkJLy8gYWxlcnQoIHNlbGVjdEl0ZW1PcHRpb25zICkKICAgICAgLy8gCQkvLyAJCX0KICAgICAgLy8gCQkvLyB9CiAgICAgIC8vIAkJcmV0dXJuIGxpc3RlbmVyc09iagogICAgICAvLyB9LAogICAgICAvLyBpdGVtQXR0cnM6ZnVuY3Rpb24oZWwpewogICAgICAvLyAJbGV0IGF0dHJzPXsuLi4odGhpcz8uJGF0dHJzfHx7fSl9CiAgICAgIC8vIAlpZihlbCBpbnN0YW5jZW9mIE9iamVjdCApIHsKICAgICAgLy8gCQkJYXR0cnM9ey4uLmF0dHJzLC4uLih0aGlzPy4kYXR0cnN8fHt9KX0KICAgICAgLy8gCQl9CiAgICAgIC8vIAlyZXR1cm4gYXR0cnMKICAgICAgLy8gfSwKICAgICAgLy8gaXRlbVJ1bGVzOmZ1bmN0aW9uKG9wdGlvbnMpewogICAgICAvLyAJbGV0IHJ1bGVzPVtdCiAgICAgIC8vIAlpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zPy5ydWxlcykgLyogJiYgcnVsZXMgIT09IG51bGwgKi8pIHsKICAgICAgLy8gCQkvLyBhbGVydCgncnVsZXMnKQogICAgICAvLyAJCQkJCQkJCXJ1bGVzID0gKG9wdGlvbnM/LnJ1bGVzfHxbXSkubWFwKGtleSA9PiB7CiAgICAgIC8vIAkJCQkJCQkJCWlmICh0aGlzLnZhbGlkYXRvcnM/LltrZXldKSB7CiAgICAgIC8vIAkJCQkJCQkJCQlyZXR1cm4gdiA9PiB0aGlzLnZhbGlkYXRvcnNba2V5XSh2LCB7IGxnOiB0aGlzLmxhbmcgfSkKICAgICAgLy8gCQkJCQkJCQkJfQogICAgICAvLyAJCQkJCQkJCQllbHNlIHsKICAgICAgLy8gCQkJCQkJCQkJCXJldHVybiBrZXkKICAgICAgLy8gCQkJCQkJCQkJfQogICAgICAvLyAJCQkJCQkJCX0pCiAgICAgIC8vIAkJCQkJCQl9CiAgICAgIC8vIAkJCQkJCQllbHNlIGlmICh0eXBlb2Ygb3B0aW9ucz8ucnVsZXMgPT0gJ29iamVjdCcgKSB7CiAgICAgIC8vIAkJCQkJCQkJcnVsZXMgPSBPYmplY3QuZW50cmllcyhvcHRpb25zPy5ydWxlcykubWFwKChba2V5LCB2YWxdKSA9PiB7CiAgICAgIC8vIAkJCQkJCQkJCWlmICh0aGlzLnZhbGlkYXRvcnM/LltrZXldICYmIHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykgewogICAgICAvLyAJCQkJCQkJCQkJcmV0dXJuIHZhbAogICAgICAvLyAJCQkJCQkJCQl9CiAgICAgIC8vIAkJCQkJCQkJCWVsc2UgaWYgKHRoaXMudmFsaWRhdG9ycz8uW2tleV0gJiYgdHlwZW9mIHZhbCA9PSAnb2JqZWN0JykgewogICAgICAvLyAJCQkJCQkJCQkJcmV0dXJuIHYgPT4gdGhpcy52YWxpZGF0b3JzW2tleV0odiwgdmFsKQogICAgICAvLyAJCQkJCQkJCQl9CiAgICAgIC8vIAkJCQkJCQkJCWVsc2UgewogICAgICAvLyAJCQkJCQkJCQkJcmV0dXJuIHYgPT4gdGhpcy52YWxpZGF0b3JzW2tleV0odiwgeyBsZzogdGhpcy5sYW5nLCBtZXNzYWdlOiB2YWwgfSkKICAgICAgLy8gCQkJCQkJCQkJfQogICAgICAvLyAJCQkJCQkJCX0pCiAgICAgIC8vIAkJCQkJCQl9CiAgICAgIC8vIAkJCQkJCQlyZXR1cm4gcnVsZXMKICAgICAgLy8gfSwKICAgICAgLy8gYWxlcnQoLi4uaXRlbXNQcm9wcykgewogICAgICAvLyAJdGhpcy5hbGVydE9ianMgPSBbLi4uaXRlbXNQcm9wc107CiAgICAgIC8vIAkvLyB0aGlzLmFsZXJ0T2JqcyA9IFsuLi5pdGVtc1Byb3BzXQogICAgICAvLyB9LAogICAgICBnZXRDb29raWVzOiBmdW5jdGlvbiBnZXRDb29raWVzKCkgewogICAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAgIHZhciBjb29raWVLZXlzID0gdGhpcy4kY29va2llcy5rZXlzKCk7CiAgICAgICAgdmFyIGNvb2tzID0ge307CiAgICAgICAgLy8gRmV0Y2ggYW5kIHNldCB0aGUgdmFsdWVzIGZvciBlYWNoIGtleQogICAgICAgIGNvb2tpZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBjb29rc1trZXldID0gX3RoaXM1LiRjb29raWVzLmdldChrZXkpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBjb29rczsKICAgICAgfSwKICAgICAgaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudCkgewogICAgICAgIGlmIChldmVudC5idXR0b24gPT09IDEpIHsKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLnByb3BhZ2F0aW9uID0gW107CiAgICAgICAgICAvLyB0aGlzLnNlbGVjdAk9ZmFsc2UKICAgICAgICAgIC8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IHRoZSBjbGljayBldmVudCBmcm9tIGJ1YmJsaW5nIHVwCiAgICAgICAgICAvLyBhbGVydCggc2VsZWN0SXRlbU9wdGlvbnMgKQogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHsKICAgICAgICAvLyBhbGVydCg1NTU1KQoKICAgICAgICAvLyB0aGlzLmtleV8rPTEKCiAgICAgICAgLy8gbGV0IG5hbWVUb0Rpc3AgPSB0eXBlb2Ygb3B0aW9ucz8uZ2xvYmFsID09ICdzdHJpbmcnID8gb3B0aW9ucz8uZ2xvYmFsIDogJycKCiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMSkgewogICAgICAgICAgLy8gbGV0IHByb3BhZ2F0aW9uID0gdGhpcy4kc3RvcmUuc3RhdGUucHJvcGFnYXRpb24gfHwgW107CgogICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSkgewogICAgICAgICAgICB0aGlzLnNlbGVjdCA9ICF0aGlzLnNlbGVjdDsKICAgICAgICAgICAgLy8gdGhpcy5zZWxlY3Q9dHJ1ZQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZWVlZWVlZWVlZWUnLGVsLGV2ZW50LG5hbWVUb0Rpc3AubGVuZ3RoKQogICAgICAgICAgICAvLyBDaGVjayBpZiBDdHJsIGtleSBpcyBwcmVzc2VkIGF0IHRoZSB0aW1lIG9mIHRoZSBjbGljawogICAgICAgICAgICAvLyBpZiAoZXZlbnQuY3RybEtleSkgeyB9CgogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9wYWdhdGlvbiA9IFtdCiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IHRoZSBjbGljayBldmVudCBmcm9tIGJ1YmJsaW5nIHVwCiAgICAgICAgICAgIC8vIHRoaXMuYWxlcnQoZWwpCiAgICAgICAgICAgIC8vIGdsb2JhbFtgZWxgXSA9IHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHk7CiAgICAgICAgICAgIC8vIHNlbGVjdEl0ZW1PcHRpb25zID0geyBjbGFzczogJ3BhLTUgbWEtNScsIHN0eWxlOiB7ICJiYWNrZ3JvdW5kQ29sb3IiOiB0aGlzLnJhbmRvbUNvbG9yKCksIGJvcmRlcjogJzJweCBkYXNoZWQgYmxhY2snIH0gfQogICAgICAgICAgICAvLyBzZWxlY3RJdGVtT3B0aW9ucy5hdHRycyA9IHsgdGl0bGU6ICdXQkMgJyArIGAke3Byb3BhZ2F0aW9uLmxlbmd0aCA+PSAxID8gJ3BhcmVudCAnIDogJyd9YCArIG5hbWVUb0Rpc3AgKyAnPT09PicgKyBKU09OLnN0cmluZ2lmeShlbCkgfQogICAgICAgICAgfQogICAgICAgICAgLy8gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHsKCiAgICAgICAgICAvLyAJdGhpcy4kc3RvcmUuc3RhdGUucHJvcGFnYXRpb24uZm9yRWFjaCgoZSwgaSkgPT4gewoKICAgICAgICAgIC8vIAkJZGVsZXRlIGdsb2JhbFtgcGFyZW50JHtpfWBdCiAgICAgICAgICAvLyAJCS8vIGFsZXJ0KCdwcHBwcHBwcHBwcHAnICsgcHJvcGFnYXRpb24pCgogICAgICAgICAgLy8gCX0pOy8vIGdsb2JhbFsnZWxlJ10gPSBwcm9wYWdhdGlvbltwcm9wYWdhdGlvbi5sZW5ndGggLSAxXTsKCiAgICAgICAgICAvLyAJc2VsZWN0SXRlbU9wdGlvbnMgPSB7fQogICAgICAgICAgLy8gCWRlbGV0ZSBnbG9iYWxbJ2VsZSddOwogICAgICAgICAgLy8gCWRlbGV0ZSBnbG9iYWxbJ2VsZXMnXTsKICAgICAgICAgIC8vIH0KCiAgICAgICAgICAvLyBpZiAoZXZlbnQuc2hpZnRLZXkpCiAgICAgICAgICAvLyB7CgogICAgICAgICAgLy8gCQllbHNlIHsKCiAgICAgICAgICAvLyAJCQljb25zb2xlLmxvZyhgV0JDICAke3Byb3BhZ2F0aW9uLmxlbmd0aCA+PSAxID8gYHBhcmVudGAgOiAnZWwnfSR7cHJvcGFnYXRpb24ubGVuZ3RoID49IDEgPyBwcm9wYWdhdGlvbi5sZW5ndGg6Jyd9ICR7bmFtZVRvRGlzcH0gPT0+IGVsIDo+PmAsIGVsKTsKICAgICAgICAgIC8vIAkJCXRoaXMuJHN0b3JlLnN0YXRlLnByb3BhZ2F0aW9uID0gWy4uLnByb3BhZ2F0aW9uLCB0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5XQoKICAgICAgICAgIC8vIAkJCXByb3BhZ2F0aW9uLnB1c2godGhpcy5pdGVtQWNjZXNzZWJpbGl0eSkKICAgICAgICAgIC8vIAkJCXByb3BhZ2F0aW9uLmZvckVhY2goKGUsIGkpID0+IHsKICAgICAgICAgIC8vIAkJCQlpZiAoaSA9PSAwKSB7CiAgICAgICAgICAvLyAJCQkJCWdsb2JhbFtgZWxgXSA9IGU7CgogICAgICAgICAgLy8gCQkJCX0KICAgICAgICAgIC8vIAkJCQllbHNlIHsKICAgICAgICAgIC8vIAkJCQkJZ2xvYmFsW2BwYXJlbnQke2l9YF0gPSBlOwogICAgICAgICAgLy8gCQkJCX0KCiAgICAgICAgICAvLyAJCQl9KTsvLyBnbG9iYWxbJ2VsZSddID0gcHJvcGFnYXRpb25bcHJvcGFnYXRpb24ubGVuZ3RoIC0gMV07CiAgICAgICAgICAvLyAJCQlnbG9iYWxbJ2VsZXMnXSA9IHByb3BhZ2F0aW9uOwogICAgICAgICAgLy8gCQl9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBjb21wRnVuYywKICAgICAgLy8gcmFuZG9tS2V5eTogZnVuY3Rpb24gKHBhciwgaW50ZWdlciA9IDEwMDAwKSB7CiAgICAgIC8vIAlsZXQgdGhlS2V5ID0gcmFuZG9tS2V5KHBhciArICdfa2V5XycsIGludGVnZXIpOwogICAgICAvLyAJcmV0dXJuIHRoZUtleTsKICAgICAgLy8gfSwKICAgICAgLy8gZ2VuZXJhbFZhbCwKICAgICAgLy8gcmFuZG9tQ29sb3IsCgogICAgICBhZXNFbmM6IGZ1bmN0aW9uIChfYWVzRW5jKSB7CiAgICAgICAgZnVuY3Rpb24gYWVzRW5jKF94LCBfeDIsIF94MykgewogICAgICAgICAgcmV0dXJuIF9hZXNFbmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9CiAgICAgICAgYWVzRW5jLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF9hZXNFbmMudG9TdHJpbmcoKTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBhZXNFbmM7CiAgICAgIH0oZnVuY3Rpb24gKHBsYWludGV4dCwga2V5LCBpdikgewogICAgICAgIHJldHVybiBhZXNFbmMocGxhaW50ZXh0LCBrZXksIGl2LCBhcHAuQ3J5cHRvSlMpOwogICAgICB9KSwKICAgICAgYWVzRGVjOiBmdW5jdGlvbiAoX2Flc0RlYykgewogICAgICAgIGZ1bmN0aW9uIGFlc0RlYyhfeDQsIF94NSwgX3g2KSB7CiAgICAgICAgICByZXR1cm4gX2Flc0RlYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgICAgICBhZXNEZWMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX2Flc0RlYy50b1N0cmluZygpOwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGFlc0RlYzsKICAgICAgfShmdW5jdGlvbiAocGxhaW50ZXh0LCBrZXksIGl2KSB7CiAgICAgICAgcmV0dXJuIGFlc0RlYyhwbGFpbnRleHQsIGtleSwgaXYsIGFwcC5DcnlwdG9KUyk7CiAgICAgIH0pLAogICAgICAvLyBjbG9uZSwKICAgICAgLy8gcXVlcnlEYXRhLAogICAgICBzdGFydERyYWc6IGZ1bmN0aW9uIHN0YXJ0RHJhZyhldmVudCkgewogICAgICAgIHRoaXMuZHJhZ2dhYmxlID0gdHJ1ZTsKICAgICAgICB0aGlzLmRyYWdTdGFydFggPSBldmVudC5jbGllbnRYOwogICAgICAgIHRoaXMuZHJhZ1N0YXJ0WSA9IGV2ZW50LmNsaWVudFk7CiAgICAgIH0sCiAgICAgIGRvRHJhZzogZnVuY3Rpb24gZG9EcmFnKGV2ZW50LCBzZW5zaWJpbGl0eSkgewogICAgICAgIGlmICh0aGlzLmRyYWdnYWJsZSkgewogICAgICAgICAgdGhpcy5vZmZzZXRYID0gKGV2ZW50LmNsaWVudFggLSB0aGlzLmRyYWdTdGFydFgpICogc2Vuc2liaWxpdHk7CiAgICAgICAgICB0aGlzLm9mZnNldFkgPSAoZXZlbnQuY2xpZW50WSAtIHRoaXMuZHJhZ1N0YXJ0WSkgKiBzZW5zaWJpbGl0eTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVuZERyYWc6IGZ1bmN0aW9uIGVuZERyYWcoKSB7CiAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSBmYWxzZTsKICAgICAgfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vL2h0bWxTcmM6IC4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vIGl0ZW1WbnMoZWwsaF8sIGVsMCA9IHRoaXMuaXRlbTApIHsKICAgICAgLy8gCWxldCBWTiA9IHsKICAgICAgLy8gCQkvLyAuLi4odGhpcy5tYWluUmVuZGVyKGVsKT97bWFpblJlbmRlcjogdGhpcy5tYWluUmVuZGVyKGVsKX06e30pLAogICAgICAvLyAJCS4uLih0aGlzLmZsb2F0Q2xvc2VEcmFnKGVsLGhfKQogICAgICAvLyAJCQk/IHsKICAgICAgLy8gCQkJCQljbG9zZTogdGhpcy5mbG9hdENsb3NlRHJhZyhlbCxoXyksCiAgICAgIC8vIAkJCSAgfQogICAgICAvLyAJCQk6IHt9KSwKICAgICAgLy8gCQkuLi4odGhpcy5mbG9hdChlbCxoXykKICAgICAgLy8gCQkJPyB7CiAgICAgIC8vIAkJCQkJZmxvYXQ6IHRoaXMuZmxvYXQoZWwsaF8pLAogICAgICAvLyAJCQkgIH0KICAgICAgLy8gCQkJOiB7fSksCiAgICAgIC8vIAkJLi4uKHRoaXMuaXRlbVNyYyhlbDAsIGVsMCxoXykKICAgICAgLy8gCQkJPyB7CiAgICAgIC8vIAkJCQkJaXRlbVNyYzogdGhpcy5pdGVtU3JjKGVsMCwgZWwwLGhfKSwKICAgICAgLy8gCQkJICB9CiAgICAgIC8vIAkJCToge30pLAogICAgICAvLyAJCS4uLih0aGlzLndiY1Byb3BzKGVsLGhfKQogICAgICAvLyAJCQk/IHsKICAgICAgLy8gCQkJCQl3YmNQcm9wczogdGhpcy53YmNQcm9wcyhlbCxoXyksCiAgICAgIC8vIAkJCSAgfQogICAgICAvLyAJCQk6IHt9KSwKICAgICAgLy8gCQkuLi4odGhpcy5hbGxPcHRpb25zKGVsLGhfKQogICAgICAvLyAJCQk/IHsKICAgICAgLy8gCQkJCQlhbGxPcHRpb25zOiB0aGlzLmFsbE9wdGlvbnMoZWwsaF8pLAogICAgICAvLyAJCQkgIH0KICAgICAgLy8gCQkJOiB7fSksCiAgICAgIC8vIAkJLi4uKHRoaXMuZ0F0dHJzKGVsLGhfKQogICAgICAvLyAJCQk/IHsKICAgICAgLy8gCQkJCQlnQXR0cnM6IHRoaXMuZ0F0dHJzKGVsLGhfKSwKICAgICAgLy8gCQkJICB9CiAgICAgIC8vIAkJCToge30pLAogICAgICAvLyAJCS4uLih0aGlzLmhBdHRycyhlbCxoXykKICAgICAgLy8gCQkJPyB7CiAgICAgIC8vIAkJCQkJaEF0dHJzOiB0aGlzLmhBdHRycyhlbCxoXyksCiAgICAgIC8vIAkJCSAgfQogICAgICAvLyAJCQk6IHt9KSwKICAgICAgLy8gCQkuLi4odGhpcy52UHJvcHMoZWwsaF8pCiAgICAgIC8vIAkJCT8gewogICAgICAvLyAJCQkJCXZQcm9wczogdGhpcy52UHJvcHMoZWwsaF8pLAogICAgICAvLyAJCQkgIH0KICAgICAgLy8gCQkJOiB7fSksCiAgICAgIC8vIAkJLi4uKHRoaXMuaHRtbFNyYyhlbCxoXykKICAgICAgLy8gCQkJPyB7CiAgICAgIC8vIAkJCQkJaHRtbFNyYzogdGhpcy5odG1sU3JjKGVsLGhfKSwKICAgICAgLy8gCQkJICB9CiAgICAgIC8vIAkJCToge30pLAogICAgICAvLyAJCS4uLih0aGlzLndiY1NyYyhlbCxoXykKICAgICAgLy8gCQkJPyB7CiAgICAgIC8vIAkJCQkJd2JjU3JjOiB0aGlzLndiY1NyYyhlbCxoXyksCiAgICAgIC8vIAkJCSAgfQogICAgICAvLyAJCQk6IHt9KSwKICAgICAgLy8gCQkuLi4odGhpcy53YmNTeW4oZWwsaF8pCiAgICAgIC8vIAkJCT8gewogICAgICAvLyAJCQkJCXdiY1N5bjogdGhpcy53YmNTeW4oZWwsaF8pLAogICAgICAvLyAJCQkgIH0KICAgICAgLy8gCQkJOiB7fSksCiAgICAgIC8vIAl9OwogICAgICAvLyAJcmV0dXJuIFZOOwogICAgICAvLyB9LAogICAgICAvLy8vLy8vLy8vLy8vLy8vaHRtbFNyYzogLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgaHRtbFNyYzogZnVuY3Rpb24gaHRtbFNyYyhlbF8sIGhfKSB7CiAgICAgICAgdmFyIF9lbCRvcHRpb25zNywgX2VsJG9wdGlvbnM4LCBfZWwkb3B0aW9uczksIF9odG1sU3JjRGVmYXVsdDMsIF9lbCRvcHRpb25zMTAsIF9odG1sU3JjRGVmYXVsdDQsIF9lbCRvcHRpb25zMTEsIF9odG1sU3JjRGVmYXVsdDUsIF9lbCRvcHRpb25zMTIsIF9odG1sU3JjRGVmYXVsdDYsIF9lbCRvcHRpb25zMTMsIF9odG1sU3JjRGVmYXVsdDc7CiAgICAgICAgdmFyIGVsID0gdGhpcy5nZW5lcmFsVmFsKGVsXywgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eQogICAgICAgIC8vIHRoaXMubGFuZwogICAgICAgICk7CiAgICAgICAgaWYgKCEoZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiBlbC5jb21wKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHZhciBodG1sU3JjRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICghKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNyA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zNyAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zNy5odG1sU3JjKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIGlmICgoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM4ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczguaHRtbFNyYykgPT09IHRydWUpIHsKICAgICAgICAgIGh0bWxTcmNEZWZhdWx0ID0gewogICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgY29tcDogIlZSb3ciLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIHBhLTUgbWEtNSIsCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuckNvbG9yCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgIGNvbXA6ICJoMiIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJwYS0yIHRleHQtY2VudGVyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy8gY29udGVudDogYCR7ZWwuY29tcH0tIFRhZyAoSFRNTCBDb2RlIHNvdXJjZSlgLAogICAgICAgICAgICAgIGNvbnRlbnQ6ICJIVE1MIENvZGUgc291cmNlIgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgaHRtbFNyY0l0ZW1BdHRycyA9IE9iamVjdC5rZXlzKChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwub3B0aW9ucykgfHwge30pOwogICAgICAgIC8vIGlmKGVsPy5vcHRpb25zPy5tb2RlICE9ICdkZXYnKXsKICAgICAgICAvLyAgIGh0bWxTcmNJdGVtQXR0cnMgPWh0bWxTcmNJdGVtQXR0cnMuZmlsdGVyKGU9Plsnd3JhcCcsICdrZXknLCAnY2xhc3MnLAogICAgICAgIC8vICAgICAnaGlkZScsICdsb2FkJywgJ2h0bWwnLCAncHJvcHMnLCAncmVmJywgJ2hlYWRlcicsICdmb290ZXInLCAnc3R5bGUnLCAndmFsJwogICAgICAgIC8vIF0uaW5jbHVkZXMoZSkpCiAgICAgICAgLy8gfQoKICAgICAgICBodG1sU3JjSXRlbUF0dHJzID0gaHRtbFNyY0l0ZW1BdHRycy5zb3J0KCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgX2VsJG9wdGlvbnMkaHRtbFNyYywgX2h0bWxTcmNEZWZhdWx0LCBfZWwkb3B0aW9ucyRodG1sU3JjMiwgX2h0bWxTcmNEZWZhdWx0MjsKICAgICAgICAgIGlmIChlbC5vcHRpb25zW2VdKSByZXR1cm4gaF8oKChfZWwkb3B0aW9ucyRodG1sU3JjID0gZWwub3B0aW9ucy5odG1sU3JjKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9ucyRodG1sU3JjID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zJGh0bWxTcmMgPSBfZWwkb3B0aW9ucyRodG1sU3JjLml0ZW1zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9ucyRodG1sU3JjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9ucyRodG1sU3JjLmNvbXApIHx8ICgoX2h0bWxTcmNEZWZhdWx0ID0gaHRtbFNyY0RlZmF1bHQpID09PSBudWxsIHx8IF9odG1sU3JjRGVmYXVsdCA9PT0gdm9pZCAwIHx8IChfaHRtbFNyY0RlZmF1bHQgPSBfaHRtbFNyY0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF9odG1sU3JjRGVmYXVsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2h0bWxTcmNEZWZhdWx0LmNvbXApIHx8ICJzcGFuIiwgX29iamVjdFNwcmVhZCh7fSwgKChfZWwkb3B0aW9ucyRodG1sU3JjMiA9IGVsLm9wdGlvbnMuaHRtbFNyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkaHRtbFNyYzIgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMkaHRtbFNyYzIgPSBfZWwkb3B0aW9ucyRodG1sU3JjMi5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkaHRtbFNyYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zJGh0bWxTcmMyLm9wdGlvbnMpIHx8ICgoX2h0bWxTcmNEZWZhdWx0MiA9IGh0bWxTcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF9odG1sU3JjRGVmYXVsdDIgPSBfaHRtbFNyY0RlZmF1bHQyLml0ZW1zKSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaHRtbFNyY0RlZmF1bHQyLm9wdGlvbnMpIHx8IHt9KSwgW2hfKCJzcGFuIiwgewogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAiIzQyYjk4MyIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgIiA6Ii5jb25jYXQoZSwgIj0iKSksICInIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZWwub3B0aW9uc1tlXSksICInIildKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gW2hfKChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczkgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczkgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM5ID0gX2VsJG9wdGlvbnM5Lmh0bWxTcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zOSA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczkgPSBfZWwkb3B0aW9uczkudGl0bGUpID09PSBudWxsIHx8IF9lbCRvcHRpb25zOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM5LmNvbXApIHx8ICgoX2h0bWxTcmNEZWZhdWx0MyA9IGh0bWxTcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF9odG1sU3JjRGVmYXVsdDMgPSBfaHRtbFNyY0RlZmF1bHQzLnRpdGxlKSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaHRtbFNyY0RlZmF1bHQzLmNvbXApIHx8ICJoNCIsIF9vYmplY3RTcHJlYWQoe30sIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczEwID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczEwID0gX2VsJG9wdGlvbnMxMC5odG1sU3JjKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEwID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTAgPSBfZWwkb3B0aW9uczEwLnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczEwLm9wdGlvbnMpIHx8ICgoX2h0bWxTcmNEZWZhdWx0NCA9IGh0bWxTcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF9odG1sU3JjRGVmYXVsdDQgPSBfaHRtbFNyY0RlZmF1bHQ0LnRpdGxlKSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaHRtbFNyY0RlZmF1bHQ0Lm9wdGlvbnMpIHx8IHt9KSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTEgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczExID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTEgPSBfZWwkb3B0aW9uczExLmh0bWxTcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTEgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMSA9IF9lbCRvcHRpb25zMTEudGl0bGUpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTEuY29udGVudCkgfHwgKChfaHRtbFNyY0RlZmF1bHQ1ID0gaHRtbFNyY0RlZmF1bHQpID09PSBudWxsIHx8IF9odG1sU3JjRGVmYXVsdDUgPT09IHZvaWQgMCB8fCAoX2h0bWxTcmNEZWZhdWx0NSA9IF9odG1sU3JjRGVmYXVsdDUudGl0bGUpID09PSBudWxsIHx8IF9odG1sU3JjRGVmYXVsdDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9odG1sU3JjRGVmYXVsdDUuY29udGVudCkgfHwgIkhUTUwgQ29kZSBzb3VyY2UiKSwgaF8oKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTIgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEyID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTIgPSBfZWwkb3B0aW9uczEyLmh0bWxTcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTIgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMiA9IF9lbCRvcHRpb25zMTIud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMxMi5jb21wKSB8fCAoKF9odG1sU3JjRGVmYXVsdDYgPSBodG1sU3JjRGVmYXVsdCkgPT09IG51bGwgfHwgX2h0bWxTcmNEZWZhdWx0NiA9PT0gdm9pZCAwIHx8IChfaHRtbFNyY0RlZmF1bHQ2ID0gX2h0bWxTcmNEZWZhdWx0Ni53cmFwKSA9PT0gbnVsbCB8fCBfaHRtbFNyY0RlZmF1bHQ2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaHRtbFNyY0RlZmF1bHQ2LmNvbXApIHx8ICJWQ2FyZCIsIF9vYmplY3RTcHJlYWQoe30sIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczEzID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczEzID0gX2VsJG9wdGlvbnMxMy5odG1sU3JjKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEzID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTMgPSBfZWwkb3B0aW9uczEzLndyYXApID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTMub3B0aW9ucykgfHwgKChfaHRtbFNyY0RlZmF1bHQ3ID0gaHRtbFNyY0RlZmF1bHQpID09PSBudWxsIHx8IF9odG1sU3JjRGVmYXVsdDcgPT09IHZvaWQgMCB8fCAoX2h0bWxTcmNEZWZhdWx0NyA9IF9odG1sU3JjRGVmYXVsdDcud3JhcCkgPT09IG51bGwgfHwgX2h0bWxTcmNEZWZhdWx0NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2h0bWxTcmNEZWZhdWx0Ny5vcHRpb25zKSB8fCB7fSksIFtoXygiY29kZSIsIHt9LCBbaF8oInNwYW4iLCB7CiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBjb2xvcjogIiNmYzFlNzAiCiAgICAgICAgICB9CiAgICAgICAgfSwgWyI8IiwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5jb21wKSB8fCAiIi5yZXBsYWNlKCJ+IiwgIiIpXSksCiAgICAgICAgLy8gaHRtbFNyY0l0ZW1PcHRpb24sCiAgICAgICAgaHRtbFNyY0l0ZW1BdHRycywgaF8oInNwYW4iLCB7CiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBjb2xvcjogIiNmYzFlNzAiCiAgICAgICAgICB9CiAgICAgICAgfSwgIj4iKSwgaF8oInNwYW4iLCB7CiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBjb2xvcjogIiNmYzFlNzAiCiAgICAgICAgICB9CiAgICAgICAgfSwgWyI8LyIsIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuY29tcCkgfHwgIiIucmVwbGFjZSgifiIsICIiKSwgIj4iXSldKV0pXTsKICAgICAgfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vL2hBdHRyczogLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgaEF0dHJzOiBmdW5jdGlvbiBoQXR0cnMoZWwsIGhfKSB7CiAgICAgICAgdmFyIF9odG1sX3Jlc3NvdXJjZXMkaHRtbCwKICAgICAgICAgIF9lbCRvcHRpb25zMTQsCiAgICAgICAgICBfZWwkb3B0aW9uczE1LAogICAgICAgICAgX3RoaXM2ID0gdGhpcywKICAgICAgICAgIF9lbCRvcHRpb25zMjksCiAgICAgICAgICBfaEF0dHJzRGVmYXVsdDQsCiAgICAgICAgICBfZWwkb3B0aW9uczMwLAogICAgICAgICAgX2hBdHRyc0RlZmF1bHQ1LAogICAgICAgICAgX2VsJG9wdGlvbnMzMSwKICAgICAgICAgIF9oQXR0cnNEZWZhdWx0NiwKICAgICAgICAgIF9lbCRvcHRpb25zMzIsCiAgICAgICAgICBfaEF0dHJzRGVmYXVsdDcsCiAgICAgICAgICBfZWwkb3B0aW9uczMzLAogICAgICAgICAgX2hBdHRyc0RlZmF1bHQ4OwogICAgICAgIHZhciBoQXR0cnNEZWZhdWx0ID0ge307CiAgICAgICAgaWYgKCEoKF9odG1sX3Jlc3NvdXJjZXMkaHRtbCA9IGh0bWxfcmVzc291cmNlcy5odG1sX3RhZ3MpICE9PSBudWxsICYmIF9odG1sX3Jlc3NvdXJjZXMkaHRtbCAhPT0gdm9pZCAwICYmIF9odG1sX3Jlc3NvdXJjZXMkaHRtbFtlbC5jb21wXSkpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAoIShlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczE0ID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnMxNCAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zMTQuaEF0dHJzKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAvLyBlbCA9IHRoaXMuaXRlbV87CiAgICAgICAgfSBlbHNlIGlmICgoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxNSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTUuaEF0dHJzKSA9PT0gdHJ1ZSkgewogICAgICAgICAgaEF0dHJzRGVmYXVsdCA9IHsKICAgICAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgICBjb21wOiAiVkNvbCIsCiAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgLyogY29sczonYXV0bycsICovCiAgICAgICAgICAgICAgICAgICAgc206ICIxMiIsCiAgICAgICAgICAgICAgICAgICAgbWQ6ICI2IiwKICAgICAgICAgICAgICAgICAgICBsZzogIjQiLAogICAgICAgICAgICAgICAgICAgIHhsOiAiMyIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIgYmx1ZSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdyYXA6IHsKICAgICAgICAgICAgICBjb21wOiAiVlJvdyIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIgcGEtMiBtYS0yIiwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5yQ29sb3IKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgY29tcDogImgyIiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogInBhLTIgdGV4dC1jZW50ZXIiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjb250ZW50OiAiXCIiLmNvbmNhdChlbC5jb21wLCAiXCIgLSBBdHRyaWJ1dGVzIikKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgdmFyIGhBdHRycyA9IGh0bWxfcmVzc291cmNlcy5odG1sX3RhZ3NbZWwuY29tcF0uYXR0cnM7CiAgICAgICAgdmFyIGhEZXNjID0gaHRtbF9yZXNzb3VyY2VzLmh0bWxfdGFnc1tlbC5jb21wXS5kZXNjOwogICAgICAgIHZhciBoVHlwZSA9IGh0bWxfcmVzc291cmNlcy5odG1sX3RhZ3NbZWwuY29tcF0udHlwZTsKICAgICAgICB2YXIgaEJyb3dzZXIgPSBKU09OLnN0cmluZ2lmeShodG1sX3Jlc3NvdXJjZXMuaHRtbF90YWdzW2VsLmNvbXBdLmJyb3dzZXIpOwogICAgICAgIGNvbnNvbGUubG9nKCJoQXR0cnMgOj4+ICIsIGhBdHRycyk7CiAgICAgICAgLy8gT2JqZWN0LmtleXMoaEF0dHJzKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgLy8gICB0aGlzLml0ZW1fLm9wdGlvbnMuYXR0cnNba2V5XT8/PSAnJzsKICAgICAgICAvLyB9KQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdoQXR0cnMgOj4+ICcsICk7CiAgICAgICAgLy8gZWwub3B0aW9ucy5hdHRycz0KICAgICAgICAvLyBlbCA9IHRoaXMuaXRlbV87CiAgICAgICAgdmFyIHJlbmRlcmVkSXRlbXMgPSBPYmplY3Qua2V5cyhoQXR0cnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICB2YXIgX2VsJG9wdGlvbnMxNiwgX2VsJG9wdGlvbnMxNzsKICAgICAgICAgIHZhciBhdHRyc09iaiA9IHsKICAgICAgICAgICAgbGFiZWw6IGtleSwKICAgICAgICAgICAgdmFsdWU6IFsiY2xhc3MiXS5pbmNsdWRlcyhrZXkpID8gZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxNiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTZba2V5XSA6IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczE3ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxNyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczE3ID0gX2VsJG9wdGlvbnMxNy5hdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMxN1trZXldKSB8fCAiIiwKICAgICAgICAgICAgdGl0bGU6IGhBdHRyc1trZXldLmRlc2MKICAgICAgICAgIH07CiAgICAgICAgICB0cnkgewogICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnMxOCwgX2VsJG9wdGlvbnMxOTsKICAgICAgICAgICAgdmFyIHRoZVZhbHVlID0gX3RoaXM2LmdlbmVyYWxWYWwoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxOCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTguYXR0cnNba2V5XSwgX3RoaXM2Lml0ZW1BY2Nlc3NlYmlsaXR5LCBfdGhpczYubGFuZyk7CiAgICAgICAgICAgIGF0dHJzT2JqWyJ2YWx1ZSJdID0gdGhlVmFsdWU7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBhdHRyc09ialsidmFsdWUiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgICAgYXR0cnNPYmpbImhpbnQiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZVZhbHVlID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICBhdHRyc09ialsidmFsdWUiXSA9IHRoZVZhbHVlKF90aGlzNi5pdGVtQWNjZXNzZWJpbGl0eSk7CiAgICAgICAgICAgICAgYXR0cnNPYmpbImhpbnQiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF90eXBlb2YoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxOSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTkgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxOSA9IF9lbCRvcHRpb25zMTkuYXR0cnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTlba2V5XSkgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnMyMDsKICAgICAgICAgICAgICBhdHRyc09ialsidmFsdWUiXSA9IF90eXBlb2YodGhlVmFsdWUpID09ICJvYmplY3QiID8gIiIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoZVZhbHVlKSkgOiB0aGVWYWx1ZTsKICAgICAgICAgICAgICBhdHRyc09ialsiaGludCJdID0gInNyYz0iLmNvbmNhdChKU09OLnN0cmluZ2lmeShlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczIwID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyMCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczIwID0gX2VsJG9wdGlvbnMyMC5hdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMyMFtrZXldKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9lbCRvcHRpb25zMjEsIF9lbCRvcHRpb25zMjIsIF9lbCRvcHRpb25zMjM7CiAgICAgICAgICAgICAgYXR0cnNPYmpbImhpbnQiXSA9IF90eXBlb2YoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyMSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjEgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyMSA9IF9lbCRvcHRpb25zMjEucHJvcHMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMjFba2V5XSkgPT0gIm9iamVjdCIgPyAic3JjPSIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjIgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczIyID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjIgPSBfZWwkb3B0aW9uczIyLnByb3BzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczIyW2tleV0pKSA6IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczIzID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyMyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczIzID0gX2VsJG9wdGlvbnMyMy5wcm9wcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMyM1trZXldKSB8fAogICAgICAgICAgICAgIC8vICdVc2UganMgdGVtcGxhdGUgbW9kZSBmb3IgZGF0YSB0eXBlcyc7CiAgICAgICAgICAgICAgaEF0dHJzW2tleV0uZGVzYzsKICAgICAgICAgICAgfQogICAgICAgICAgICBhdHRyc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgYXR0cnNPYmpbImVycm9yTWVzc2FnZXMiXSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgIGF0dHJzT2JqWyJwZXJzaXN0ZW50LWhpbnQiXSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoa2V5ICE9ICJoaWRkZW4iKSB7CiAgICAgICAgICAgIHZhciBfZWwkb3B0aW9uczI0LCBfZWwkb3B0aW9uczI1LCBfaEF0dHJzRGVmYXVsdCwgX2VsJG9wdGlvbnMyNywgX2hBdHRyc0RlZmF1bHQyLCBfZWwkb3B0aW9uczI4LCBfaEF0dHJzRGVmYXVsdDM7CiAgICAgICAgICAgIHZhciBhUmVuZGVyZWRJdGVtID0gaF8odHlwZW9mIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI0ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyNCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI0ID0gX2VsJG9wdGlvbnMyNC5hdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMyNFtrZXldKSA9PSAiYm9vbGVhbiIgPyAiVkNoZWNrYm94IiA6ICJWVGV4dEZpZWxkIiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgLy8gW2tleV06IGVsPy5vcHRpb25zPy5hdHRycz8uW2tleV0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI1ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyNSA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI1ID0gX2VsJG9wdGlvbnMyNS5oQXR0cnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjUgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyNSA9IF9lbCRvcHRpb25zMjUuaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMjUub3B0aW9ucykgfHwgKChfaEF0dHJzRGVmYXVsdCA9IGhBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0ID0gX2hBdHRyc0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaEF0dHJzRGVmYXVsdC5vcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICAgICAgYXR0cnM6IGF0dHJzT2JqIC8qIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGtleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFsnY2xhc3MnXS5pbmNsdWRlcyhrZXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZWw/Lm9wdGlvbnM/LltrZXldCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZWw/Lm9wdGlvbnM/LmF0dHJzPy5ba2V5XSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGhBdHRycz8uW2tleV0/LmRlc2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6IGhBdHRycz8uW2tleV0/LmRlc2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwZXJzaXN0ZW50LWhpbnQnOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICovLAoKICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgLy8gaW5wdXQ6IChpbnB1dFZhbCkgPT4gewogICAgICAgICAgICAgICAgLy8gCWVsLm9wdGlvbnMuYXR0cnMgPSB7CiAgICAgICAgICAgICAgICAvLyAJCS4uLmVsLm9wdGlvbnMuYXR0cnMsCiAgICAgICAgICAgICAgICAvLyAJCVtrZXldOiBpbnB1dFZhbCwKICAgICAgICAgICAgICAgIC8vIAl9OwogICAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ICs9ICdfJzsKICAgICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShpbnB1dFZhbCkgewogICAgICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnMyNjsKICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoaW5wdXRWYWwpCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdlbHJycnJycnJycnIgOj4+ICcsIGVsKTsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5hdHRyc1trZXldID0gX3RoaXM2LmdlbmVyYWxWYWwoX3RoaXM2LnN0clRvT2JqKGlucHV0VmFsKSwgX3RoaXM2Lml0ZW1BY2Nlc3NlYmlsaXR5CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5hdHRycyA9IHsKICAgICAgICAgICAgICAgICAgLy8gICAuLi5lbC5vcHRpb25zLmF0dHJzLAogICAgICAgICAgICAgICAgICAvLyAgIFtrZXldOiB0aGlzLmdlbmVyYWxWYWwoCiAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnN0clRvT2JqKGlucHV0VmFsKSwKICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkKICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAgICAgLy8gICApLAogICAgICAgICAgICAgICAgICAvLyAgIC8vIFtrZXldOiBpbnB1dFZhbAogICAgICAgICAgICAgICAgICAvLyB9OwogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zLmtleSA9IF90aGlzNi51cGRhdGVLZXkoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyNiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMjYua2V5KTsKCiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gdXBkYXRlOiAoaW5wdXRWYWwpID0+IHsKICAgICAgICAgICAgICAgIC8vIAllbC5vcHRpb25zLmF0dHJzID0gewogICAgICAgICAgICAgICAgLy8gCQkuLi5lbC5vcHRpb25zLmF0dHJzLAogICAgICAgICAgICAgICAgLy8gCQlba2V5XTogaW5wdXRWYWwsCiAgICAgICAgICAgICAgICAvLyAJfTsKICAgICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSArPSAnXyc7CiAgICAgICAgICAgICAgICAvLyAJLy8gZWwub3B0aW9ucy5rZXkgPSBlbC5vcHRpb25zLmtleS5yZXBsYWNlKCdfXycsICdfJyk7CiAgICAgICAgICAgICAgICAvLyB9LAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgICByZXR1cm4gaF8oKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjcgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczI3ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjcgPSBfZWwkb3B0aW9uczI3LmhBdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyNyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI3ID0gX2VsJG9wdGlvbnMyNy5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMyNy53cmFwLmNvbXApIHx8ICgoX2hBdHRyc0RlZmF1bHQyID0gaEF0dHJzRGVmYXVsdCkgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0MiA9IF9oQXR0cnNEZWZhdWx0Mi5pdGVtcykgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0MiA9IF9oQXR0cnNEZWZhdWx0Mi53cmFwKSA9PT0gbnVsbCB8fCBfaEF0dHJzRGVmYXVsdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oQXR0cnNEZWZhdWx0Mi5jb21wKSB8fCAiZGl2IiwgX29iamVjdFNwcmVhZCh7fSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjggPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczI4ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjggPSBfZWwkb3B0aW9uczI4LmhBdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyOCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI4ID0gX2VsJG9wdGlvbnMyOC5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMyOCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczI4ID0gX2VsJG9wdGlvbnMyOC53cmFwKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczI4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczI4Lm9wdGlvbnMpIHx8ICgoX2hBdHRyc0RlZmF1bHQzID0gaEF0dHJzRGVmYXVsdCkgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0MyA9IF9oQXR0cnNEZWZhdWx0My5pdGVtcykgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0MyA9IF9oQXR0cnNEZWZhdWx0My53cmFwKSA9PT0gbnVsbCB8fCBfaEF0dHJzRGVmYXVsdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oQXR0cnNEZWZhdWx0My5vcHRpb25zKSksIFthUmVuZGVyZWRJdGVtXSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtoXygoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyOSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMjkgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMyOSA9IF9lbCRvcHRpb25zMjkuaEF0dHJzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczI5ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMjkgPSBfZWwkb3B0aW9uczI5LnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczI5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczI5LmNvbXApIHx8ICgoX2hBdHRyc0RlZmF1bHQ0ID0gaEF0dHJzRGVmYXVsdCkgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF9oQXR0cnNEZWZhdWx0NCA9IF9oQXR0cnNEZWZhdWx0NC50aXRsZSkgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaEF0dHJzRGVmYXVsdDQuY29tcCkgfHwgImg0IiwgX29iamVjdFNwcmVhZCh7fSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzAgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczMwID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzAgPSBfZWwkb3B0aW9uczMwLmhBdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczMwID0gX2VsJG9wdGlvbnMzMC50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMzMC5vcHRpb25zKSB8fCAoKF9oQXR0cnNEZWZhdWx0NSA9IGhBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0NSA9PT0gdm9pZCAwIHx8IChfaEF0dHJzRGVmYXVsdDUgPSBfaEF0dHJzRGVmYXVsdDUudGl0bGUpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hBdHRyc0RlZmF1bHQ1Lm9wdGlvbnMpIHx8IHt9KSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzEgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczMxID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzEgPSBfZWwkb3B0aW9uczMxLmhBdHRycykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMSA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczMxID0gX2VsJG9wdGlvbnMzMS50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMzMS5jb250ZW50KSB8fCAoKF9oQXR0cnNEZWZhdWx0NiA9IGhBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0NiA9PT0gdm9pZCAwIHx8IChfaEF0dHJzRGVmYXVsdDYgPSBfaEF0dHJzRGVmYXVsdDYudGl0bGUpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hBdHRyc0RlZmF1bHQ2LmNvbnRlbnQpIHx8ICJIVE1MIEF0dHJpYnV0ZXMiKSwgaF8oImRpdiIsIHt9LCBbaF8oImIiLCB7CiAgICAgICAgICBjbGFzczogInBhLTEiCiAgICAgICAgfSwgIkRlc2NyaXB0aW9uOiIpLCBoRGVzY10pLCBoXygiZGl2Iiwge30sIFtoXygiYiIsIHsKICAgICAgICAgIGNsYXNzOiAicGEtMSIKICAgICAgICB9LCAiVHlwZToiKSwgaFR5cGVdKSwgaF8oImRpdiIsIHt9LCBbaF8oImIiLCB7CiAgICAgICAgICBjbGFzczogInBhLTEiCiAgICAgICAgfSwgIkJyb3dzZXI6IiksIGhCcm93c2VyXSksIGhfKChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczMyID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMiA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczMyID0gX2VsJG9wdGlvbnMzMi5oQXR0cnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzIgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzMiA9IF9lbCRvcHRpb25zMzIud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMzMi5jb21wKSB8fCAoKF9oQXR0cnNEZWZhdWx0NyA9IGhBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0NyA9PT0gdm9pZCAwIHx8IChfaEF0dHJzRGVmYXVsdDcgPSBfaEF0dHJzRGVmYXVsdDcud3JhcCkgPT09IG51bGwgfHwgX2hBdHRyc0RlZmF1bHQ3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaEF0dHJzRGVmYXVsdDcuY29tcCkgfHwgIlZSb3ciLCBfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzMyA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzMgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzMyA9IF9lbCRvcHRpb25zMzMuaEF0dHJzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczMzID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzMgPSBfZWwkb3B0aW9uczMzLndyYXApID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMzMub3B0aW9ucykgfHwgKChfaEF0dHJzRGVmYXVsdDggPSBoQXR0cnNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaEF0dHJzRGVmYXVsdDggPT09IHZvaWQgMCB8fCAoX2hBdHRyc0RlZmF1bHQ4ID0gX2hBdHRyc0RlZmF1bHQ4LndyYXApID09PSBudWxsIHx8IF9oQXR0cnNEZWZhdWx0OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hBdHRyc0RlZmF1bHQ4Lm9wdGlvbnMpIHx8IHt9KSwgW3JlbmRlcmVkSXRlbXNdKV07CiAgICAgIH0sCiAgICAgIC8vLy8vLy8vLy8vLy8vLy93YmNTcmM6IC4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIHdiY1NyYzogZnVuY3Rpb24gd2JjU3JjKGVsLCBoXykgewogICAgICAgIHZhciBfZWwkb3B0aW9uczM0LCBfZWwkb3B0aW9uczM1LCBfZWwkb3B0aW9uczM2LCBfd2JjU3JjRGVmYXVsdDMsIF9lbCRvcHRpb25zMzcsIF93YmNTcmNEZWZhdWx0NCwgX2VsJG9wdGlvbnMzOCwgX3diY1NyY0RlZmF1bHQ1LCBfZWwkb3B0aW9uczM5LCBfd2JjU3JjRGVmYXVsdDYsIF9lbCRvcHRpb25zNDAsIF93YmNTcmNEZWZhdWx0NzsKICAgICAgICB2YXIgd2JjU3JjRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICghKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgZWwuY29tcCkpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAoIShlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczM0ID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnMzNCAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zMzQud2JjU3JjKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIGlmICgoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzNSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMzUud2JjU3JjKSA9PT0gdHJ1ZSkgewogICAgICAgICAgd2JjU3JjRGVmYXVsdCA9IHsKICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgIGNvbXA6ICJWUm93IiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciBwYS01IG1hLTUiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICBjb21wOiAiaDIiLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAicGEtMiB0ZXh0LWNlbnRlciIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvbnRlbnQ6ICJXQkMgQ29kZSBzb3VyY2UiCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHZhciB3YmNJdGVtVG9FeGNsdWRlcyA9IFsibWFpblJlbmRlciIsICJjbG9zZSIsICJmbG9hdCIsICJhbGxPcHRpb25zIiwgIndiY1Byb3BzIiwgImhBdHRycyIsICJ2QXR0cnMiLCAiaXRlbVNyYyIsICJodG1sU3JjIiwgIndiY1NyYyIsICJ2UHJvcHMiXTsKICAgICAgICB2YXIgd2JjU3JjSXRlbUF0dHJzID0gT2JqZWN0LmtleXMoZWwub3B0aW9ucykuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIXdiY0l0ZW1Ub0V4Y2x1ZGVzLmluY2x1ZGVzKGUpOwogICAgICAgIH0pLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBfZWwkb3B0aW9ucyR3YmNTcmMsIF93YmNTcmNEZWZhdWx0LCBfZWwkb3B0aW9ucyR3YmNTcmMyLCBfd2JjU3JjRGVmYXVsdDI7CiAgICAgICAgICBpZiAoZWwub3B0aW9uc1tlXSkgcmV0dXJuIGhfKCgoX2VsJG9wdGlvbnMkd2JjU3JjID0gZWwub3B0aW9ucy53YmNTcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJHdiY1NyYyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyR3YmNTcmMgPSBfZWwkb3B0aW9ucyR3YmNTcmMuaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJHdiY1NyYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkd2JjU3JjLmNvbXApIHx8ICgoX3diY1NyY0RlZmF1bHQgPSB3YmNTcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfd2JjU3JjRGVmYXVsdCA9PT0gdm9pZCAwIHx8IChfd2JjU3JjRGVmYXVsdCA9IF93YmNTcmNEZWZhdWx0Lml0ZW1zKSA9PT0gbnVsbCB8fCBfd2JjU3JjRGVmYXVsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1NyY0RlZmF1bHQuY29tcCkgfHwgInNwYW4iLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbCRvcHRpb25zJHdiY1NyYzIgPSBlbC5vcHRpb25zLndiY1NyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkd2JjU3JjMiA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyR3YmNTcmMyID0gX2VsJG9wdGlvbnMkd2JjU3JjMi5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkd2JjU3JjMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkd2JjU3JjMi5vcHRpb25zKSB8fCAoKF93YmNTcmNEZWZhdWx0MiA9IHdiY1NyY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0MiA9PT0gdm9pZCAwIHx8IChfd2JjU3JjRGVmYXVsdDIgPSBfd2JjU3JjRGVmYXVsdDIuaXRlbXMpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1NyY0RlZmF1bHQyLm9wdGlvbnMpIHx8IHt9KSwgW2hfKCJzcGFuIiwgewogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAiIzQyYjk4MyIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgIiA6Ii5jb25jYXQoZSwgIj0iKSksICInIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZWwub3B0aW9uc1tlXSksICInICIpXSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtoXygoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzNiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzYgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzNiA9IF9lbCRvcHRpb25zMzYud2JjU3JjKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczM2ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzYgPSBfZWwkb3B0aW9uczM2LnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczM2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczM2LmNvbXApIHx8ICgoX3diY1NyY0RlZmF1bHQzID0gd2JjU3JjRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY1NyY0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF93YmNTcmNEZWZhdWx0MyA9IF93YmNTcmNEZWZhdWx0My50aXRsZSkgPT09IG51bGwgfHwgX3diY1NyY0RlZmF1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjU3JjRGVmYXVsdDMuY29tcCkgfHwgImRpdiIsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiCiAgICAgICAgfSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzcgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczM3ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzcgPSBfZWwkb3B0aW9uczM3LndiY1NyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzNyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczM3ID0gX2VsJG9wdGlvbnMzNy50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMzNy5vcHRpb25zKSB8fCAoKF93YmNTcmNEZWZhdWx0NCA9IHdiY1NyY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NCA9PT0gdm9pZCAwIHx8IChfd2JjU3JjRGVmYXVsdDQgPSBfd2JjU3JjRGVmYXVsdDQudGl0bGUpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1NyY0RlZmF1bHQ0Lm9wdGlvbnMpIHx8IHt9KSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzggPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczM4ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzggPSBfZWwkb3B0aW9uczM4LndiY1NyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzOCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczM4ID0gX2VsJG9wdGlvbnMzOC50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMzOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMzOC5jb250ZW50KSB8fCAoKF93YmNTcmNEZWZhdWx0NSA9IHdiY1NyY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NSA9PT0gdm9pZCAwIHx8IChfd2JjU3JjRGVmYXVsdDUgPSBfd2JjU3JjRGVmYXVsdDUudGl0bGUpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1NyY0RlZmF1bHQ1LmNvbnRlbnQpIHx8ICJHbG9iYWwgQXR0cmlidXRlcyIpLCBoXygoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzOSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzkgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMzOSA9IF9lbCRvcHRpb25zMzkud2JjU3JjKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczM5ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMzkgPSBfZWwkb3B0aW9uczM5LndyYXApID09PSBudWxsIHx8IF9lbCRvcHRpb25zMzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMzkuY29tcCkgfHwgKChfd2JjU3JjRGVmYXVsdDYgPSB3YmNTcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfd2JjU3JjRGVmYXVsdDYgPT09IHZvaWQgMCB8fCAoX3diY1NyY0RlZmF1bHQ2ID0gX3diY1NyY0RlZmF1bHQ2LndyYXApID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1NyY0RlZmF1bHQ2LmNvbXApIHx8ICJWQ2FyZCIsIF9vYmplY3RTcHJlYWQoe30sIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczQwID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0MCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczQwID0gX2VsJG9wdGlvbnM0MC53YmNTcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0MCA9IF9lbCRvcHRpb25zNDAud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM0MC5vcHRpb25zKSB8fCAoKF93YmNTcmNEZWZhdWx0NyA9IHdiY1NyY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNTcmNEZWZhdWx0NyA9PT0gdm9pZCAwIHx8IChfd2JjU3JjRGVmYXVsdDcgPSBfd2JjU3JjRGVmYXVsdDcud3JhcCkgPT09IG51bGwgfHwgX3diY1NyY0RlZmF1bHQ3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjU3JjRGVmYXVsdDcub3B0aW9ucykgfHwge30pLCBbaF8oImNvZGUiLCB7CiAgICAgICAgICBjbGFzczogIm1hLTUiCiAgICAgICAgfSwgW2hfKCJzcGFuIiwgewogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjZmMxZTcwIgogICAgICAgICAgfQogICAgICAgIH0sIFsiPCIsIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwuY29tcCkgfHwgIiIucmVwbGFjZSgifiIsICIiKV0pLAogICAgICAgIC8vIHdiY1NyY0l0ZW1PcHRpb24sCiAgICAgICAgd2JjU3JjSXRlbUF0dHJzLCBoXygic3BhbiIsIHsKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAiI2ZjMWU3MCIKICAgICAgICAgIH0KICAgICAgICB9LCAiPiIpLCBoXygic3BhbiIsIHsKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAiI2ZjMWU3MCIKICAgICAgICAgIH0KICAgICAgICB9LCBbIjwvIiwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5jb21wKSB8fCAiIi5yZXBsYWNlKCJ+IiwgIiIpLCAiPiJdKV0pXSldOwogICAgICB9LAogICAgICAvLy8vLy8vLy8vLy8vLy8vaXRlbVNyYzogLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgaXRlbVNyYzogZnVuY3Rpb24gaXRlbVNyYyhlbCwgZWwwLCBoXykgewogICAgICAgIHZhciBfZWwkb3B0aW9uczQxLAogICAgICAgICAgX2VsJG9wdGlvbnM0MiwKICAgICAgICAgIF9lbCRvcHRpb25zNDMsCiAgICAgICAgICBfaXRlbVNyY0RlZmF1bHQsCiAgICAgICAgICBfZWwkb3B0aW9uczQ0LAogICAgICAgICAgX2l0ZW1TcmNEZWZhdWx0MiwKICAgICAgICAgIF9lbCRvcHRpb25zNDUsCiAgICAgICAgICBfaXRlbVNyY0RlZmF1bHQzLAogICAgICAgICAgX2VsJG9wdGlvbnM0NiwKICAgICAgICAgIF9lbCRvcHRpb25zNDcsCiAgICAgICAgICBfaXRlbVNyY0RlZmF1bHQ0LAogICAgICAgICAgX3RoaXM3ID0gdGhpczsKICAgICAgICB2YXIgaXRlbVNyY0RlZmF1bHQgPSB7fTsKICAgICAgICBpZiAoIShlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczQxID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM0MSAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zNDEuaXRlbVNyYykpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gZWxzZSBpZiAoKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNDIgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczQyLml0ZW1TcmMpID09PSB0cnVlKSB7CiAgICAgICAgICBpdGVtU3JjRGVmYXVsdCA9IHsKICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgIGNvbXA6ICJWQ29sIiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciBwYS01IG1hLTUiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICBjb21wOiAiaDIiLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAicGEtMiB0ZXh0LWNlbnRlciIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvbnRlbnQ6ICJXQkMgSXRlbSIKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtoXygoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0MyA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDMgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0MyA9IF9lbCRvcHRpb25zNDMuaXRlbVNyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0MyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczQzID0gX2VsJG9wdGlvbnM0My50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM0My5jb21wKSB8fCAoKF9pdGVtU3JjRGVmYXVsdCA9IGl0ZW1TcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaXRlbVNyY0RlZmF1bHQgPT09IHZvaWQgMCB8fCAoX2l0ZW1TcmNEZWZhdWx0ID0gX2l0ZW1TcmNEZWZhdWx0LnRpdGxlKSA9PT0gbnVsbCB8fCBfaXRlbVNyY0RlZmF1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtU3JjRGVmYXVsdC5jb21wKSB8fCAiZGl2IiwgX29iamVjdFNwcmVhZCh7fSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNDQgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczQ0ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNDQgPSBfZWwkb3B0aW9uczQ0Lml0ZW1TcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDQgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NCA9IF9lbCRvcHRpb25zNDQudGl0bGUpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNDQub3B0aW9ucykgfHwgKChfaXRlbVNyY0RlZmF1bHQyID0gaXRlbVNyY0RlZmF1bHQpID09PSBudWxsIHx8IF9pdGVtU3JjRGVmYXVsdDIgPT09IHZvaWQgMCB8fCAoX2l0ZW1TcmNEZWZhdWx0MiA9IF9pdGVtU3JjRGVmYXVsdDIudGl0bGUpID09PSBudWxsIHx8IF9pdGVtU3JjRGVmYXVsdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtU3JjRGVmYXVsdDIub3B0aW9ucykgfHwge30pLCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDUgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NSA9IF9lbCRvcHRpb25zNDUuaXRlbVNyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0NSA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczQ1ID0gX2VsJG9wdGlvbnM0NS50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM0NS5jb250ZW50KSB8fCAoKF9pdGVtU3JjRGVmYXVsdDMgPSBpdGVtU3JjRGVmYXVsdCkgPT09IG51bGwgfHwgX2l0ZW1TcmNEZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfaXRlbVNyY0RlZmF1bHQzID0gX2l0ZW1TcmNEZWZhdWx0My50aXRsZSkgPT09IG51bGwgfHwgX2l0ZW1TcmNEZWZhdWx0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW1TcmNEZWZhdWx0My5jb250ZW50KSB8fCAiV0JDIEl0ZW0iKSwgaF8oKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNDYgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczQ2ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNDYgPSBfZWwkb3B0aW9uczQ2Lml0ZW1TcmMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDYgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NiA9IF9lbCRvcHRpb25zNDYud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM0Ni5jb21wKSB8fCBpdGVtU3JjRGVmYXVsdC53cmFwLmNvbXAgfHwgIlZSb3ciLCBfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NyA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNDcgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM0NyA9IF9lbCRvcHRpb25zNDcuaXRlbVNyYykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM0NyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczQ3ID0gX2VsJG9wdGlvbnM0Ny53cmFwKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczQ3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczQ3Lm9wdGlvbnMpIHx8ICgoX2l0ZW1TcmNEZWZhdWx0NCA9IGl0ZW1TcmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfaXRlbVNyY0RlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF9pdGVtU3JjRGVmYXVsdDQgPSBfaXRlbVNyY0RlZmF1bHQ0LndyYXApID09PSBudWxsIHx8IF9pdGVtU3JjRGVmYXVsdDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtU3JjRGVmYXVsdDQub3B0aW9ucykgfHwge30pLCBbaF8oImNvZGUiLCBbaF8oIlZUZXh0YXJlYSIsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShlbCkKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZSh2YWwpIHsKICAgICAgICAgICAgICAvLyBhbGVydCh2KQogICAgICAgICAgICAgIF90aGlzNy5tYWluSXRlbVRleHRBcmVhLnJ1bGVzID0gW107CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBuZXdFbGUgPSBfdGhpczcudG9XQkNfKEpTT04ucGFyc2UodmFsKSwgaF8pOwoKICAgICAgICAgICAgICAgIC8vIG5ld0VsZS5vcHRpb25zLml0ZW1TcmM9dHJ1ZQoKICAgICAgICAgICAgICAgIC8vIG5ld0VsZS5vcHRpb25zLm1vZGU9ZWwub3B0aW9ucy5tb2RlCiAgICAgICAgICAgICAgICAvLyBuZXdFbGUub3B0aW9ucy53YmNQcm9wcz1lbC5vcHRpb25zLndiY1Byb3BzCiAgICAgICAgICAgICAgICAvLyBsZXQgbmV3RWxlPXRoaXMuc3RyVG9PYmooZSkKICAgICAgICAgICAgICAgIC8vIG5ld0VsZS5vcHRpb25zLndiY1Byb3BzPWVsLm9wdGlvbnMud2JjUHJvcHMKICAgICAgICAgICAgICAgIC8vIGlmKHR5cGVvZiBuZXdFbGU9PSdvYmplY3QnKXsKICAgICAgICAgICAgICAgIC8vIAluZXdFbGUub3V0cHV0PWVsLm91dHB1dAogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgaWYgKF90eXBlb2YoZWwpID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0VsZSkpIHsKICAgICAgICAgICAgICAgICAgICBuZXdFbGUuZm9yRWFjaChmdW5jdGlvbiAoZWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfZWwkb3B0aW9uczQ4OwogICAgICAgICAgICAgICAgICAgICAgaWYgKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgZWwub3V0cHV0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVlLm91dHB1dCA9IGVsLm91dHB1dDsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczQ4ID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM0OCAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zNDgubW9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlZS5vcHRpb25zLm1vZGUgPSBlbC5vcHRpb25zLm1vZGU7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hcnIgPSBbImNsb3NlIiwgImZsb2F0IiwgIml0ZW1TcmMiLCAid2JjUHJvcHMiLCAiYWxsT3B0aW9ucyIsICJnQXR0cnMiLCAiaEF0dHJzIiwgInZQcm9wcyIsICJodG1sU3JjIiwgIndiY1NyYyIsICJ3YmNTeW4iXTsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnM0OTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hcnJbX2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiAoX2VsJG9wdGlvbnM0OSA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zNDkgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczQ5W2tleV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlZS5vcHRpb25zW2tleV0gPSBlbC5vcHRpb25zW2tleV07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdFbGUgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnM1MDsKICAgICAgICAgICAgICAgICAgICAvLyBuZXdFbGUub3V0cHV0ID0gJ2FsbCcKICAgICAgICAgICAgICAgICAgICBpZiAoZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiBlbC5vdXRwdXQpIHsKICAgICAgICAgICAgICAgICAgICAgIG5ld0VsZS5vdXRwdXQgPSBlbC5vdXRwdXQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczUwID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM1MCAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zNTAubW9kZSkgewogICAgICAgICAgICAgICAgICAgICAgbmV3RWxlLm9wdGlvbnMubW9kZSA9IGVsLm9wdGlvbnMubW9kZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgX2FycjIgPSBbImNsb3NlIiwgImZsb2F0IiwgIml0ZW1TcmMiLCAid2JjUHJvcHMiLCAiYWxsT3B0aW9ucyIsICJnQXR0cnMiLCAiaEF0dHJzIiwgInZQcm9wcyIsICJodG1sU3JjIiwgIndiY1NyYyIsICJ3YmNTeW4iXTsgX2kyIDwgX2FycjIubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9lbCRvcHRpb25zNTE7CiAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FycjJbX2kyXTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczUxID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM1MSAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zNTFba2V5XSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdFbGUub3B0aW9uc1trZXldID0gZWwub3B0aW9uc1trZXldOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvLyBpZihlbD8ub3B0aW9ucz8ubW9kZSl7bmV3RWxlLm9wdGlvbnMubW9kZSA9IGVsLm9wdGlvbnMubW9kZX0KCiAgICAgICAgICAgICAgICAgIC8vIGZvciAobGV0IGtleSBvZiBbJ2Nsb3NlJywgJ2Zsb2F0JywKICAgICAgICAgICAgICAgICAgLy8gCSdpdGVtU3JjJywgJ3diY1Byb3BzJywKICAgICAgICAgICAgICAgICAgLy8gCSdhbGxPcHRpb25zJywgJ2dBdHRycycsCiAgICAgICAgICAgICAgICAgIC8vIAknaEF0dHJzJywgJ3ZQcm9wcycsCiAgICAgICAgICAgICAgICAgIC8vIAknaHRtbFNyYycsICd3YmNTcmMnLAogICAgICAgICAgICAgICAgICAvLyAJJ3diY1N5biddKSB7CiAgICAgICAgICAgICAgICAgIC8vIAlpZiAoZWw/Lm9wdGlvbnM/LltrZXldKSB7IG5ld0VsZS5vcHRpb25zW2tleV0gPSBlbC5vcHRpb25zW2tleV0gfQogICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpczcuaXRlbV8gPSBuZXdFbGU7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCciJyArIHZhbCArICciIGNhbiBub3QgYmUgcGFyc2VkOiAnICsgZXJyb3IpOwogICAgICAgICAgICAgICAgX3RoaXM3Lm1haW5JdGVtVGV4dEFyZWEucnVsZXMgPSBbIlwiIi5jb25jYXQodmFsLCAiXCIgY2FuIG5vdCBiZSBwYXJzZWQ6ICIpLmNvbmNhdChlcnJvcildOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pXSksIHRoaXMubWFpbkl0ZW1UZXh0QXJlYS5ydWxlcy5sZW5ndGggPT0gMCA/IGhfKCJkaXYiLCB7CiAgICAgICAgICBwcm9wczoge30KICAgICAgICB9LCBbaF8oImg0Iiwge30sIFsiQ29udmVydGVkIFdCQyBpdGVtOiJdKSwgIkpTT04uc3RyaW5naWZ5KGVsKSJdKSA6IG51bGwsCiAgICAgICAgLy8gaF8oJ1ZDYXJkJyx7cHJvcHM6e319LFtKU09OLnN0cmluZ2lmeShlbCldKSwKICAgICAgICBoXygic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAicmVkLS10ZXh0IgogICAgICAgIH0sIFt0aGlzLm1haW5JdGVtVGV4dEFyZWEucnVsZXNdKV0pXTsKICAgICAgfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vL2FsbE9wdGlvbnM6ICBsaWtlOi4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIHZQcm9wczogZnVuY3Rpb24gdlByb3BzKGVsLCBoXykgewogICAgICAgIHZhciBfZWwsCiAgICAgICAgICBfZWwyLAogICAgICAgICAgX3Z1ZXRpZnlNb2R1bGUkZWwkY29tLAogICAgICAgICAgX3RoaXM4ID0gdGhpcywKICAgICAgICAgIF9lbDksCiAgICAgICAgICBfdlByb3BzRGVmYXVsdDQsCiAgICAgICAgICBfZWwkb3B0aW9ucyR2UHJvcHMyLAogICAgICAgICAgX3ZQcm9wc0RlZmF1bHQ1LAogICAgICAgICAgX2VsJG9wdGlvbnMkdlByb3BzMywKICAgICAgICAgIF92UHJvcHNEZWZhdWx0NiwKICAgICAgICAgIF9lbDEwLAogICAgICAgICAgX3ZQcm9wc0RlZmF1bHQ3LAogICAgICAgICAgX2VsJG9wdGlvbnMkdlByb3BzNCwKICAgICAgICAgIF92UHJvcHNEZWZhdWx0ODsKICAgICAgICB2YXIgdlByb3BzRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICghKHZ1ZXRpZnlNb2R1bGUgIT09IG51bGwgJiYgdnVldGlmeU1vZHVsZSAhPT0gdm9pZCAwICYmIHZ1ZXRpZnlNb2R1bGVbZWwuY29tcF0pKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgaWYgKCEoKF9lbCA9IGVsKSAhPT0gbnVsbCAmJiBfZWwgIT09IHZvaWQgMCAmJiAoX2VsID0gX2VsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCAhPT0gdm9pZCAwICYmIF9lbC52UHJvcHMpKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9IGVsc2UgaWYgKCgoX2VsMiA9IGVsKSA9PT0gbnVsbCB8fCBfZWwyID09PSB2b2lkIDAgfHwgKF9lbDIgPSBfZWwyLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDIudlByb3BzKSA9PT0gdHJ1ZSkgewogICAgICAgICAgdlByb3BzRGVmYXVsdCA9IHsKICAgICAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgICBjb21wOiAiVkNvbCIsCiAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgLyogY29sczonYXV0bycsICovCiAgICAgICAgICAgICAgICAgICAgc206ICIxMiIsCiAgICAgICAgICAgICAgICAgICAgbWQ6ICI2IiwKICAgICAgICAgICAgICAgICAgICBsZzogIjQiLAogICAgICAgICAgICAgICAgICAgIHhsOiAiMyIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIgYmx1ZSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdyYXA6IHsKICAgICAgICAgICAgICBjb21wOiAiVlJvdyIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIgcGEtNSBtYS01IiwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5yQ29sb3IKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgICAgY29tcDogImgyIiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogInBhLTIgdGV4dC1jZW50ZXIiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjb250ZW50OiAiXCIiLmNvbmNhdChlbC5jb21wLCAiXCIgLSBQcm9wcyIpCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICAvLyBlbC5vcHRpb25zLnZQcm9wcyA9IHZQcm9wc0RlZmF1bHQKICAgICAgICB9CiAgICAgICAgdmFyIHZ1ZXRpZnlQcm9wcyA9ICh2dWV0aWZ5TW9kdWxlID09PSBudWxsIHx8IHZ1ZXRpZnlNb2R1bGUgPT09IHZvaWQgMCB8fCAoX3Z1ZXRpZnlNb2R1bGUkZWwkY29tID0gdnVldGlmeU1vZHVsZVtlbC5jb21wXSkgPT09IG51bGwgfHwgX3Z1ZXRpZnlNb2R1bGUkZWwkY29tID09PSB2b2lkIDAgfHwgKF92dWV0aWZ5TW9kdWxlJGVsJGNvbSA9IF92dWV0aWZ5TW9kdWxlJGVsJGNvbS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdnVldGlmeU1vZHVsZSRlbCRjb20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92dWV0aWZ5TW9kdWxlJGVsJGNvbS5wcm9wcykgfHwge307CiAgICAgICAgZWwgPSB0aGlzLml0ZW1fOwogICAgICAgIHZhciByZW5kZXJlZEl0ZW1zID0gT2JqZWN0LmtleXModnVldGlmeVByb3BzKS5zb3J0KCkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIGlmIChrZXkgIT0gImhpZGRlbiIpIHsKICAgICAgICAgICAgdmFyIF9lbDYsIF9lbCRvcHRpb25zJHZQcm9wcywgX3ZQcm9wc0RlZmF1bHQsIF9lbDcsIF92UHJvcHNEZWZhdWx0MiwgX2VsOCwgX3ZQcm9wc0RlZmF1bHQzOwogICAgICAgICAgICB2YXIgcHJvcHNPYmogPSB7CiAgICAgICAgICAgICAgbGFiZWw6IGtleQogICAgICAgICAgICB9OwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHZhciBfZWwzLCBfZWw0LCBfZWw1OwogICAgICAgICAgICAgIHZhciB0aGVWYWx1ZSA9IF90aGlzOC5nZW5lcmFsVmFsKChfZWwzID0gZWwpID09PSBudWxsIHx8IF9lbDMgPT09IHZvaWQgMCB8fCAoX2VsMyA9IF9lbDMub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMyA9PT0gdm9pZCAwIHx8IChfZWwzID0gX2VsMy5wcm9wcykgPT09IG51bGwgfHwgX2VsMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsM1trZXldLAogICAgICAgICAgICAgIC8vIGV2YWwoZWw/Lm9wdGlvbnM/LnByb3BzPy5bIGtleSBdKSwKICAgICAgICAgICAgICBfdGhpczguaXRlbUFjY2Vzc2ViaWxpdHksIF90aGlzOC5sYW5nKTsKICAgICAgICAgICAgICBwcm9wc09ialsidmFsdWUiXSA9IHRoZVZhbHVlOwogICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHByb3BzT2JqWyJ2YWx1ZSJdID0gIiIuY29uY2F0KHRoZVZhbHVlKTsKICAgICAgICAgICAgICAgIC8vIHByb3BzT2JqWydoaW50J109YCR7dGhlVmFsdWV9YAogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZVZhbHVlID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgIHByb3BzT2JqWyJ2YWx1ZSJdID0gdGhlVmFsdWUoX3RoaXM4Lml0ZW1BY2Nlc3NlYmlsaXR5KTsKICAgICAgICAgICAgICAgIC8vIHByb3BzT2JqWydoaW50J109YCR7dGhlVmFsdWV9YAogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZih0aGVWYWx1ZSkgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICAgIHByb3BzT2JqWyJ2YWx1ZSJdID0gIiIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoZVZhbHVlKSk7CiAgICAgICAgICAgICAgICAvLyBwcm9wc09ialsnaGludCddPWAke3RoZVZhbHVlfWAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcHJvcHNPYmpbImhpbnQiXSA9IChfZWw0ID0gZWwpICE9PSBudWxsICYmIF9lbDQgIT09IHZvaWQgMCAmJiAoX2VsNCA9IF9lbDQub3B0aW9ucykgIT09IG51bGwgJiYgX2VsNCAhPT0gdm9pZCAwICYmIChfZWw0ID0gX2VsNC5wcm9wcykgIT09IG51bGwgJiYgX2VsNCAhPT0gdm9pZCAwICYmIF9lbDRba2V5XSA/ICJzcmM9Ii5jb25jYXQoSlNPTi5zdHJpbmdpZnkoKF9lbDUgPSBlbCkgPT09IG51bGwgfHwgX2VsNSA9PT0gdm9pZCAwIHx8IChfZWw1ID0gX2VsNS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw1ID09PSB2b2lkIDAgfHwgKF9lbDUgPSBfZWw1LnByb3BzKSA9PT0gbnVsbCB8fCBfZWw1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw1W2tleV0pKSA6ICIiOwogICAgICAgICAgICAgIC8vIGVsc2Uge3Byb3BzT2JqWydoaW50J109dHlwZW9mIGVsPy5vcHRpb25zPy5wcm9wcz8uWyBrZXkgXT09J29iamVjdCc/YHNyYz0ke0pTT04uc3RyaW5naWZ5KGVsPy5vcHRpb25zPy5wcm9wcz8uWyBrZXkgXSl9YDplbD8ub3B0aW9ucz8ucHJvcHM/Llsga2V5IF18fCdVc2UganMgdGVtcGxhdGUgbW9kZSBmb3IgZGF0YSB0eXBlcyd9CiAgICAgICAgICAgICAgcHJvcHNPYmpbInBlcnNpc3RlbnQtaGludCJdID0gdHJ1ZTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICBwcm9wc09ialsiZXJyb3JNZXNzYWdlcyJdID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgICBwcm9wc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBhUmVuZGVyZWRJdGVtID0gaF8odHlwZW9mICgoX2VsNiA9IGVsKSA9PT0gbnVsbCB8fCBfZWw2ID09PSB2b2lkIDAgfHwgKF9lbDYgPSBfZWw2Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDZba2V5XSkgPT0gImJvb2xlYW4iID8gIlZDaGVja2JveCIgOiAiVlRleHRGaWVsZCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgKChfZWwkb3B0aW9ucyR2UHJvcHMgPSBlbC5vcHRpb25zLnZQcm9wcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkdlByb3BzID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zJHZQcm9wcyA9IF9lbCRvcHRpb25zJHZQcm9wcy5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkdlByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9ucyR2UHJvcHMub3B0aW9ucykgfHwgKChfdlByb3BzRGVmYXVsdCA9IHZQcm9wc0RlZmF1bHQpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF92UHJvcHNEZWZhdWx0ID0gX3ZQcm9wc0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdlByb3BzRGVmYXVsdC5vcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICAgICAgcHJvcHM6IHByb3BzT2JqLAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAvLyBpbnB1dDogKGlucHV0VmFsKSA9PiB7CiAgICAgICAgICAgICAgICAvLyAJZWwub3B0aW9ucy5wcm9wcyA9IHsKICAgICAgICAgICAgICAgIC8vIAkJLi4uZWwub3B0aW9ucy5wcm9wcywKICAgICAgICAgICAgICAgIC8vIAkJW2tleV06IGlucHV0VmFsLAogICAgICAgICAgICAgICAgLy8gCX07CiAgICAgICAgICAgICAgICAvLyAJLy8gZWwub3B0aW9ucy5rZXkgKz0gJ18nOwogICAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGlucHV0VmFsXykgewogICAgICAgICAgICAgICAgICAvLyBhbGVydChpbnB1dFZhbF8pCiAgICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbCA9IGlucHV0VmFsXzsgLy8gfHwgZmFsc2U7CgogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zLnByb3BzW2tleV0gPSBpbnB1dFZhbDsKICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSAidmFsdWUiKSB7CiAgICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5wcm9wc1sidmFsIl0gPSBpbnB1dFZhbDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlbC5vcHRpb25zLnByb3BzW2tleV0gPSBfdGhpczguZ2VuZXJhbFZhbChfdGhpczguc3RyVG9PYmooaW5wdXRWYWwpLCBfdGhpczguaXRlbUFjY2Vzc2ViaWxpdHkKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxnCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zLmtleSArPSAxOwogICAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSArPSAnXyc7CiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gdXBkYXRlOiAoaW5wdXRWYWwpID0+IHsKICAgICAgICAgICAgICAgIC8vIAllbC5vcHRpb25zLnByb3BzID0gewogICAgICAgICAgICAgICAgLy8gCQkuLi5lbC5vcHRpb25zLnByb3BzLAogICAgICAgICAgICAgICAgLy8gCQlba2V5XTogaW5wdXRWYWwsCgogICAgICAgICAgICAgICAgLy8gCX07CiAgICAgICAgICAgICAgICAvLyAJLy8gZWwub3B0aW9ucy5rZXkgKz0gJ18nOwogICAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgcmV0dXJuIGhfKCgoX2VsNyA9IGVsKSA9PT0gbnVsbCB8fCBfZWw3ID09PSB2b2lkIDAgfHwgKF9lbDcgPSBfZWw3Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDcgPT09IHZvaWQgMCB8fCAoX2VsNyA9IF9lbDcudlByb3BzKSA9PT0gbnVsbCB8fCBfZWw3ID09PSB2b2lkIDAgfHwgKF9lbDcgPSBfZWw3Lml0ZW1zKSA9PT0gbnVsbCB8fCBfZWw3ID09PSB2b2lkIDAgfHwgKF9lbDcgPSBfZWw3LndyYXApID09PSBudWxsIHx8IF9lbDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDcuY29tcCkgfHwgKChfdlByb3BzRGVmYXVsdDIgPSB2UHJvcHNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfdlByb3BzRGVmYXVsdDIgPT09IHZvaWQgMCB8fCAoX3ZQcm9wc0RlZmF1bHQyID0gX3ZQcm9wc0RlZmF1bHQyLml0ZW1zKSA9PT0gbnVsbCB8fCBfdlByb3BzRGVmYXVsdDIgPT09IHZvaWQgMCB8fCAoX3ZQcm9wc0RlZmF1bHQyID0gX3ZQcm9wc0RlZmF1bHQyLndyYXApID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZQcm9wc0RlZmF1bHQyLmNvbXApIHx8ICJkaXYiLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbDggPSBlbCkgPT09IG51bGwgfHwgX2VsOCA9PT0gdm9pZCAwIHx8IChfZWw4ID0gX2VsOC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4ID09PSB2b2lkIDAgfHwgKF9lbDggPSBfZWw4LnZQcm9wcykgPT09IG51bGwgfHwgX2VsOCA9PT0gdm9pZCAwIHx8IChfZWw4ID0gX2VsOC5pdGVtcykgPT09IG51bGwgfHwgX2VsOCA9PT0gdm9pZCAwIHx8IChfZWw4ID0gX2VsOC53cmFwKSA9PT0gbnVsbCB8fCBfZWw4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw4Lm9wdGlvbnMpIHx8ICgoX3ZQcm9wc0RlZmF1bHQzID0gdlByb3BzRGVmYXVsdCkgPT09IG51bGwgfHwgX3ZQcm9wc0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF92UHJvcHNEZWZhdWx0MyA9IF92UHJvcHNEZWZhdWx0My5pdGVtcykgPT09IG51bGwgfHwgX3ZQcm9wc0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF92UHJvcHNEZWZhdWx0MyA9IF92UHJvcHNEZWZhdWx0My53cmFwKSA9PT0gbnVsbCB8fCBfdlByb3BzRGVmYXVsdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92UHJvcHNEZWZhdWx0My5vcHRpb25zKSB8fCB7fSksIFthUmVuZGVyZWRJdGVtXSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtoXygoKF9lbDkgPSBlbCkgPT09IG51bGwgfHwgX2VsOSA9PT0gdm9pZCAwIHx8IChfZWw5ID0gX2VsOS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw5ID09PSB2b2lkIDAgfHwgKF9lbDkgPSBfZWw5LnZQcm9wcykgPT09IG51bGwgfHwgX2VsOSA9PT0gdm9pZCAwIHx8IChfZWw5ID0gX2VsOS50aXRsZSkgPT09IG51bGwgfHwgX2VsOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsOS5jb21wKSB8fCAoKF92UHJvcHNEZWZhdWx0NCA9IHZQcm9wc0RlZmF1bHQpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0NCA9PT0gdm9pZCAwIHx8IChfdlByb3BzRGVmYXVsdDQgPSBfdlByb3BzRGVmYXVsdDQudGl0bGUpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZQcm9wc0RlZmF1bHQ0LmNvbXApIHx8ICJoNCIsIF9vYmplY3RTcHJlYWQoe30sICgoX2VsJG9wdGlvbnMkdlByb3BzMiA9IGVsLm9wdGlvbnMudlByb3BzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9ucyR2UHJvcHMyID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zJHZQcm9wczIgPSBfZWwkb3B0aW9ucyR2UHJvcHMyLnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9ucyR2UHJvcHMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9ucyR2UHJvcHMyLm9wdGlvbnMpIHx8ICgoX3ZQcm9wc0RlZmF1bHQ1ID0gdlByb3BzRGVmYXVsdCkgPT09IG51bGwgfHwgX3ZQcm9wc0RlZmF1bHQ1ID09PSB2b2lkIDAgfHwgKF92UHJvcHNEZWZhdWx0NSA9IF92UHJvcHNEZWZhdWx0NS50aXRsZSkgPT09IG51bGwgfHwgX3ZQcm9wc0RlZmF1bHQ1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdlByb3BzRGVmYXVsdDUub3B0aW9ucykgfHwge30pLCAoKF9lbCRvcHRpb25zJHZQcm9wczMgPSBlbC5vcHRpb25zLnZQcm9wcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkdlByb3BzMyA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyR2UHJvcHMzID0gX2VsJG9wdGlvbnMkdlByb3BzMy50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkdlByb3BzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkdlByb3BzMy5jb250ZW50KSB8fCAoKF92UHJvcHNEZWZhdWx0NiA9IHZQcm9wc0RlZmF1bHQpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0NiA9PT0gdm9pZCAwIHx8IChfdlByb3BzRGVmYXVsdDYgPSBfdlByb3BzRGVmYXVsdDYudGl0bGUpID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZQcm9wc0RlZmF1bHQ2LmNvbnRlbnQpIHx8ICJDb21wb25lbnQgQXR0cmlidXRlcyIpLCBoXygoKF9lbDEwID0gZWwpID09PSBudWxsIHx8IF9lbDEwID09PSB2b2lkIDAgfHwgKF9lbDEwID0gX2VsMTAub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTAgPT09IHZvaWQgMCB8fCAoX2VsMTAgPSBfZWwxMC52UHJvcHMpID09PSBudWxsIHx8IF9lbDEwID09PSB2b2lkIDAgfHwgKF9lbDEwID0gX2VsMTAud3JhcCkgPT09IG51bGwgfHwgX2VsMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDEwLmNvbXApIHx8ICgoX3ZQcm9wc0RlZmF1bHQ3ID0gdlByb3BzRGVmYXVsdCkgPT09IG51bGwgfHwgX3ZQcm9wc0RlZmF1bHQ3ID09PSB2b2lkIDAgfHwgKF92UHJvcHNEZWZhdWx0NyA9IF92UHJvcHNEZWZhdWx0Ny53cmFwKSA9PT0gbnVsbCB8fCBfdlByb3BzRGVmYXVsdDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92UHJvcHNEZWZhdWx0Ny5jb21wKSB8fCAiVlJvdyIsIF9vYmplY3RTcHJlYWQoe30sICgoX2VsJG9wdGlvbnMkdlByb3BzNCA9IGVsLm9wdGlvbnMudlByb3BzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9ucyR2UHJvcHM0ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zJHZQcm9wczQgPSBfZWwkb3B0aW9ucyR2UHJvcHM0LndyYXApID09PSBudWxsIHx8IF9lbCRvcHRpb25zJHZQcm9wczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zJHZQcm9wczQub3B0aW9ucykgfHwgKChfdlByb3BzRGVmYXVsdDggPSB2UHJvcHNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfdlByb3BzRGVmYXVsdDggPT09IHZvaWQgMCB8fCAoX3ZQcm9wc0RlZmF1bHQ4ID0gX3ZQcm9wc0RlZmF1bHQ4LndyYXApID09PSBudWxsIHx8IF92UHJvcHNEZWZhdWx0OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZQcm9wc0RlZmF1bHQ4Lm9wdGlvbnMpIHx8IHt9KSwgW3JlbmRlcmVkSXRlbXNdKV07CiAgICAgIH0sCiAgICAgIC8vLy8vLy8vLy8vLy8vLy9hbGxPcHRpb25zOiAgbGlrZTouLi4uLi8vLy8vLy8vLy8vLy8vLy8vLwogICAgICBhbGxPcHRpb25zOiBmdW5jdGlvbiBhbGxPcHRpb25zKGVsLCBoXykgewogICAgICAgIHZhciBfZWwxMSwKICAgICAgICAgIF9lbDEyLAogICAgICAgICAgX3RoaXM5ID0gdGhpcywKICAgICAgICAgIF9lbDE4LAogICAgICAgICAgX2FsbE9wdGlvbnNEZWZhdWx0MiwKICAgICAgICAgIF9lbDE5LAogICAgICAgICAgX2FsbE9wdGlvbnNEZWZhdWx0MywKICAgICAgICAgIF9lbDIwLAogICAgICAgICAgX2FsbE9wdGlvbnNEZWZhdWx0NCwKICAgICAgICAgIF9lbCRvcHRpb25zJGFsbE9wdGlvbjIsCiAgICAgICAgICBfYWxsT3B0aW9uc0RlZmF1bHQkd3IsCiAgICAgICAgICBfZWwyMSwKICAgICAgICAgIF9hbGxPcHRpb25zRGVmYXVsdDU7CiAgICAgICAgdmFyIGFsbE9wdGlvbnNEZWZhdWx0ID0ge307CiAgICAgICAgaWYgKCEoKF9lbDExID0gZWwpICE9PSBudWxsICYmIF9lbDExICE9PSB2b2lkIDAgJiYgKF9lbDExID0gX2VsMTEub3B0aW9ucykgIT09IG51bGwgJiYgX2VsMTEgIT09IHZvaWQgMCAmJiBfZWwxMS5hbGxPcHRpb25zKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIGlmICgoKF9lbDEyID0gZWwpID09PSBudWxsIHx8IF9lbDEyID09PSB2b2lkIDAgfHwgKF9lbDEyID0gX2VsMTIub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDEyLmFsbE9wdGlvbnMpID09PSB0cnVlKSB7CiAgICAgICAgICBhbGxPcHRpb25zRGVmYXVsdCA9IHsKICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgIGNvbXA6ICJWUm93IiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciBwYS01IG1hLTUiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgICBjb21wOiAiVkNvbCIsCiAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgY29sczogImF1dG8iCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIGJsdWUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgIGNvbXA6ICJoMiIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJwYS0yIGgxIHRleHQtY2VudGVyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY29udGVudDogIkFMTCBPcHRpb25zIgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIga2V5c1RvRXhsdWRlID0gWyJtYWluIiwgImFsbCIsICJpdGVtU3JjIiwgIndiY1Byb3BzIiwgImFsbE9wdGlvbnMiLCAiZ0F0dHJzIiwgImhBdHRycyIsICJ2UHJvcHMiLCAiaHRtbFNyYyIsICJ3YmNTcmMiLCAid2JjU3luIl07CiAgICAgICAgZWwgPSB0aGlzLml0ZW1fOwogICAgICAgIHZhciByZW5kZXJlZEl0ZW1zID0gT2JqZWN0LmtleXMoZWwub3B0aW9ucykuc29ydCgpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICFrZXlzVG9FeGx1ZGUuaW5jbHVkZXMoZSk7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHZhciBfZWwkb3B0aW9uczUyLCBfZWwkb3B0aW9ucyRhbGxPcHRpb24sIF9hbGxPcHRpb25zRGVmYXVsdCRpdCwgX2VsMTYsIF9lbDE3LCBfYWxsT3B0aW9uc0RlZmF1bHQ7CiAgICAgICAgICB2YXIgYWxsT3B0aW9uc09iaiA9IHsKICAgICAgICAgICAgbGFiZWw6IGtleSwKICAgICAgICAgICAgdmFsdWU6IGVsLm9wdGlvbnNba2V5XQogICAgICAgICAgfTsKICAgICAgICAgIC8vIHtlbjoicmVkIixmcjoiYmx1ZSJ9CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIF9lbDEzLCBfZWwxNCwgX2VsMTU7CiAgICAgICAgICAgIHZhciB0aGVWYWx1ZSA9IF90aGlzOS5nZW5lcmFsVmFsKChfZWwxMyA9IGVsKSA9PT0gbnVsbCB8fCBfZWwxMyA9PT0gdm9pZCAwIHx8IChfZWwxMyA9IF9lbDEzLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwxM1trZXldLCBfdGhpczkuaXRlbUFjY2Vzc2ViaWxpdHksIF90aGlzOS5sYW5nKTsKICAgICAgICAgICAgYWxsT3B0aW9uc09ialsidmFsdWUiXSA9IHRoZVZhbHVlOwogICAgICAgICAgICBpZiAodHlwZW9mIHRoZVZhbHVlID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgYWxsT3B0aW9uc09ialsidmFsdWUiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgICAgLy8gYWxsT3B0aW9uc09ialsnaGludCddPWAke3RoZVZhbHVlfWAKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgIGFsbE9wdGlvbnNPYmpbInZhbHVlIl0gPSB0aGVWYWx1ZShfdGhpczkuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgICAgICAgIC8vIGFsbE9wdGlvbnNPYmpbJ2hpbnQnXT1gJHt0aGVWYWx1ZX1gCiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZih0aGVWYWx1ZSkgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICBhbGxPcHRpb25zT2JqWyJ2YWx1ZSJdID0gIiIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoZVZhbHVlKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYWxsT3B0aW9uc09ialsiaGludCJdID0gKF9lbDE0ID0gZWwpICE9PSBudWxsICYmIF9lbDE0ICE9PSB2b2lkIDAgJiYgKF9lbDE0ID0gX2VsMTQub3B0aW9ucykgIT09IG51bGwgJiYgX2VsMTQgIT09IHZvaWQgMCAmJiBfZWwxNFtrZXldID8gInNyYz0iLmNvbmNhdChKU09OLnN0cmluZ2lmeSgoX2VsMTUgPSBlbCkgPT09IG51bGwgfHwgX2VsMTUgPT09IHZvaWQgMCB8fCAoX2VsMTUgPSBfZWwxNS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwxNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMTVba2V5XSkpIDogIiI7CiAgICAgICAgICAgIC8vIGVsc2Uge2FsbE9wdGlvbnNPYmpbJ2hpbnQnXT10eXBlb2YgZWw/Lm9wdGlvbnM/Llsga2V5IF09PSdvYmplY3QnP2BzcmM9JHtKU09OLnN0cmluZ2lmeShlbD8ub3B0aW9ucz8uWyBrZXkgXSl9YDplbD8ub3B0aW9ucz8uWyBrZXkgXXx8J1VzZSBqcyB0ZW1wbGF0ZSBtb2RlIGZvciBkYXRhIHR5cGVzJ30KICAgICAgICAgICAgYWxsT3B0aW9uc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgYWxsT3B0aW9uc09ialsiZXJyb3JNZXNzYWdlcyJdID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgYWxsT3B0aW9uc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGFSZW5kZXJlZEl0ZW0gPSBoXyh0eXBlb2YgZWwub3B0aW9uc1trZXldID09PSAiYm9vbGVhbiIgfHwgISgoX2VsJG9wdGlvbnM1MiA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zNTIgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczUyW2tleV0pID8gIlZDaGVja2JveCIgOgogICAgICAgICAgLyogIHR5cGVvZiBlbC5vcHRpb25zW2tleV0gPT09ICdvYmplY3QnCiAgICAgICAgICA/ICdWQ2FyZCcKICAgICAgICAgIDogICovCiAgICAgICAgICAiVlRleHRGaWVsZCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIgogICAgICAgICAgfSwgKChfZWwkb3B0aW9ucyRhbGxPcHRpb24gPSBlbC5vcHRpb25zLmFsbE9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJGFsbE9wdGlvbiA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyRhbGxPcHRpb24gPSBfZWwkb3B0aW9ucyRhbGxPcHRpb24uaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJGFsbE9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkYWxsT3B0aW9uLm9wdGlvbnMpIHx8ICgoX2FsbE9wdGlvbnNEZWZhdWx0JGl0ID0gYWxsT3B0aW9uc0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF9hbGxPcHRpb25zRGVmYXVsdCRpdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FsbE9wdGlvbnNEZWZhdWx0JGl0Lm9wdGlvbnMpIHx8IHt9KSwge30sIHsKICAgICAgICAgICAgcHJvcHM6IGFsbE9wdGlvbnNPYmogLyogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDoga2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZWwub3B0aW9uc1trZXldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucz8uW2tleV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPy50aXRsZSAvKiBoaW50OiBlbC5vcHRpb25zW2tleV0udGl0bGUsICdwZXJzaXN0ZW50LWhpbnQnOiB0cnVlICB9Ki8sCiAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgLy8gaW5wdXQ6IChpbnB1dFZhbCkgPT4gewogICAgICAgICAgICAgIC8vIAllbC5vcHRpb25zW2tleV0gPSBpbnB1dFZhbDsKICAgICAgICAgICAgICAvLyAJaWYgKGtleSA9PSAndmFsdWUnKSB7CiAgICAgICAgICAgICAgLy8gCQllbC5vcHRpb25zWyd2YWwnXSA9IGlucHV0VmFsOwogICAgICAgICAgICAgIC8vIAl9IGVsc2UgewogICAgICAgICAgICAgIC8vIAkJZWwub3B0aW9uc1trZXldID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgLy8gCX0KICAgICAgICAgICAgICAvLyAJLy8gZWwub3B0aW9ucy5rZXkgKz0gJ18nOwogICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICAvLyB9LAogICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGlucHV0VmFsXykgewogICAgICAgICAgICAgICAgdmFyIGlucHV0VmFsID0gaW5wdXRWYWxfIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgZWwub3B0aW9uc1trZXldID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgICBpZiAoa2V5ID09ICJ2YWx1ZSIpIHsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9uc1sidmFsIl0gPSBpbnB1dFZhbDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnNba2V5XSA9IF90aGlzOS5nZW5lcmFsVmFsKF90aGlzOS5zdHJUb09iaihpbnB1dFZhbCksIF90aGlzOS5pdGVtQWNjZXNzZWJpbGl0eQogICAgICAgICAgICAgICAgICAvLyB0aGlzLmxnCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSArPSAxCiAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSArPSAnXyc7CiAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gdXBkYXRlOiAoaW5wdXRWYWwpID0+IHsKICAgICAgICAgICAgICAvLyAJZWwub3B0aW9uc1trZXldID0KICAgICAgICAgICAgICAvLyAJCWVsLm9wdGlvbnNba2V5XS50eXBlID09ICdvYmplY3QnCiAgICAgICAgICAgICAgLy8gCQkJPyB0aGlzLnRvYWxsT3B0aW9ucyhpbnB1dFZhbCkKICAgICAgICAgICAgICAvLyAJCQk6IGlucHV0VmFsOwogICAgICAgICAgICAgIC8vIAlpZiAoa2V5ID09ICd2YWx1ZScpIHsKICAgICAgICAgICAgICAvLyAJCWVsLm9wdGlvbnNbJ3ZhbCddID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgLy8gCX0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gCQllbC5vcHRpb25zW2tleV0gPSBpbnB1dFZhbDsKICAgICAgICAgICAgICAvLyAJfQogICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSArPSAnXyc7CiAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCBbaF8oImIiLCB7fSwga2V5ICsgIjogIiksIEpTT04uc3RyaW5naWZ5KGVsLm9wdGlvbnNba2V5XSldKTsKICAgICAgICAgIC8vIHJldHVybiBhUmVuZGVyZWRJdGVtCiAgICAgICAgICByZXR1cm4gaF8oKChfZWwxNiA9IGVsKSA9PT0gbnVsbCB8fCBfZWwxNiA9PT0gdm9pZCAwIHx8IChfZWwxNiA9IF9lbDE2Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDE2ID09PSB2b2lkIDAgfHwgKF9lbDE2ID0gX2VsMTYuYWxsT3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTYgPT09IHZvaWQgMCB8fCAoX2VsMTYgPSBfZWwxNi5pdGVtcykgPT09IG51bGwgfHwgX2VsMTYgPT09IHZvaWQgMCB8fCAoX2VsMTYgPSBfZWwxNi53cmFwKSA9PT0gbnVsbCB8fCBfZWwxNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMTYuY29tcCkgfHwgYWxsT3B0aW9uc0RlZmF1bHQuaXRlbXMud3JhcC5jb21wIHx8ICJWUm93IiwgX29iamVjdFNwcmVhZCh7fSwgKChfZWwxNyA9IGVsKSA9PT0gbnVsbCB8fCBfZWwxNyA9PT0gdm9pZCAwIHx8IChfZWwxNyA9IF9lbDE3Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDE3ID09PSB2b2lkIDAgfHwgKF9lbDE3ID0gX2VsMTcuYWxsT3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTcgPT09IHZvaWQgMCB8fCAoX2VsMTcgPSBfZWwxNy5pdGVtcykgPT09IG51bGwgfHwgX2VsMTcgPT09IHZvaWQgMCB8fCAoX2VsMTcgPSBfZWwxNy53cmFwKSA9PT0gbnVsbCB8fCBfZWwxNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMTcub3B0aW9ucykgfHwgKChfYWxsT3B0aW9uc0RlZmF1bHQgPSBhbGxPcHRpb25zRGVmYXVsdCkgPT09IG51bGwgfHwgX2FsbE9wdGlvbnNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF9hbGxPcHRpb25zRGVmYXVsdCA9IF9hbGxPcHRpb25zRGVmYXVsdC5pdGVtcykgPT09IG51bGwgfHwgX2FsbE9wdGlvbnNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF9hbGxPcHRpb25zRGVmYXVsdCA9IF9hbGxPcHRpb25zRGVmYXVsdC53cmFwKSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hbGxPcHRpb25zRGVmYXVsdC5vcHRpb25zKSksIFthUmVuZGVyZWRJdGVtXSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtoXygoKF9lbDE4ID0gZWwpID09PSBudWxsIHx8IF9lbDE4ID09PSB2b2lkIDAgfHwgKF9lbDE4ID0gX2VsMTgub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTggPT09IHZvaWQgMCB8fCAoX2VsMTggPSBfZWwxOC5hbGxPcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwxOCA9PT0gdm9pZCAwIHx8IChfZWwxOCA9IF9lbDE4LnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwxOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMTguY29tcCkgfHwgKChfYWxsT3B0aW9uc0RlZmF1bHQyID0gYWxsT3B0aW9uc0RlZmF1bHQpID09PSBudWxsIHx8IF9hbGxPcHRpb25zRGVmYXVsdDIgPT09IHZvaWQgMCB8fCAoX2FsbE9wdGlvbnNEZWZhdWx0MiA9IF9hbGxPcHRpb25zRGVmYXVsdDIudGl0bGUpID09PSBudWxsIHx8IF9hbGxPcHRpb25zRGVmYXVsdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hbGxPcHRpb25zRGVmYXVsdDIuY29tcCkgfHwgImg0IiwgX29iamVjdFNwcmVhZCh7fSwgKChfZWwxOSA9IGVsKSA9PT0gbnVsbCB8fCBfZWwxOSA9PT0gdm9pZCAwIHx8IChfZWwxOSA9IF9lbDE5Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDE5ID09PSB2b2lkIDAgfHwgKF9lbDE5ID0gX2VsMTkuYWxsT3B0aW9ucykgPT09IG51bGwgfHwgX2VsMTkgPT09IHZvaWQgMCB8fCAoX2VsMTkgPSBfZWwxOS50aXRsZSkgPT09IG51bGwgfHwgX2VsMTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDE5Lm9wdGlvbnMpIHx8ICgoX2FsbE9wdGlvbnNEZWZhdWx0MyA9IGFsbE9wdGlvbnNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQzID09PSB2b2lkIDAgfHwgKF9hbGxPcHRpb25zRGVmYXVsdDMgPSBfYWxsT3B0aW9uc0RlZmF1bHQzLnRpdGxlKSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWxsT3B0aW9uc0RlZmF1bHQzLm9wdGlvbnMpIHx8IHt9KSwgKChfZWwyMCA9IGVsKSA9PT0gbnVsbCB8fCBfZWwyMCA9PT0gdm9pZCAwIHx8IChfZWwyMCA9IF9lbDIwLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDIwID09PSB2b2lkIDAgfHwgKF9lbDIwID0gX2VsMjAuYWxsT3B0aW9ucykgPT09IG51bGwgfHwgX2VsMjAgPT09IHZvaWQgMCB8fCAoX2VsMjAgPSBfZWwyMC50aXRsZSkgPT09IG51bGwgfHwgX2VsMjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDIwLmNvbnRlbnQpIHx8ICgoX2FsbE9wdGlvbnNEZWZhdWx0NCA9IGFsbE9wdGlvbnNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF9hbGxPcHRpb25zRGVmYXVsdDQgPSBfYWxsT3B0aW9uc0RlZmF1bHQ0LnRpdGxlKSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWxsT3B0aW9uc0RlZmF1bHQ0LmNvbnRlbnQpIHx8ICJBbGwgb3B0aW9ucyIpLCBoXygoKF9lbCRvcHRpb25zJGFsbE9wdGlvbjIgPSBlbC5vcHRpb25zLmFsbE9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJGFsbE9wdGlvbjIgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMkYWxsT3B0aW9uMiA9IF9lbCRvcHRpb25zJGFsbE9wdGlvbjIud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkYWxsT3B0aW9uMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkYWxsT3B0aW9uMi5jb21wKSB8fCAoKF9hbGxPcHRpb25zRGVmYXVsdCR3ciA9IGFsbE9wdGlvbnNEZWZhdWx0LndyYXApID09PSBudWxsIHx8IF9hbGxPcHRpb25zRGVmYXVsdCR3ciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FsbE9wdGlvbnNEZWZhdWx0JHdyLmNvbXApIHx8ICJkaXYiLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbDIxID0gZWwpID09PSBudWxsIHx8IF9lbDIxID09PSB2b2lkIDAgfHwgKF9lbDIxID0gX2VsMjEub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMjEgPT09IHZvaWQgMCB8fCAoX2VsMjEgPSBfZWwyMS5hbGxPcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwyMSA9PT0gdm9pZCAwIHx8IChfZWwyMSA9IF9lbDIxLndyYXApID09PSBudWxsIHx8IF9lbDIxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwyMS5vcHRpb25zKSB8fCAoKF9hbGxPcHRpb25zRGVmYXVsdDUgPSBhbGxPcHRpb25zRGVmYXVsdCkgPT09IG51bGwgfHwgX2FsbE9wdGlvbnNEZWZhdWx0NSA9PT0gdm9pZCAwIHx8IChfYWxsT3B0aW9uc0RlZmF1bHQ1ID0gX2FsbE9wdGlvbnNEZWZhdWx0NS53cmFwKSA9PT0gbnVsbCB8fCBfYWxsT3B0aW9uc0RlZmF1bHQ1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWxsT3B0aW9uc0RlZmF1bHQ1Lm9wdGlvbnMpIHx8IHt9KSwgW3JlbmRlcmVkSXRlbXNdKV07CiAgICAgIH0sCiAgICAgIC8vLy8vLy8vLy8vLy8vLy9nQXR0cnM6IGxpa2UgaWQsIC4uLi8vLy8vLy8vLy8vLy8vLy8vLwogICAgICBnQXR0cnM6IGZ1bmN0aW9uIGdBdHRycyhlbCwgaF8pIHsKICAgICAgICB2YXIgX2VsMjIsCiAgICAgICAgICBfZWwyMywKICAgICAgICAgIF90aGlzMTAgPSB0aGlzLAogICAgICAgICAgX2VsNDAsCiAgICAgICAgICBfZ0F0dHJzRGVmYXVsdDQsCiAgICAgICAgICBfZWw0MSwKICAgICAgICAgIF9nQXR0cnNEZWZhdWx0NSwKICAgICAgICAgIF9lbDQyLAogICAgICAgICAgX2VsNDMsCiAgICAgICAgICBfZ0F0dHJzRGVmYXVsdDYsCiAgICAgICAgICBfZWw0NCwKICAgICAgICAgIF9nQXR0cnNEZWZhdWx0NzsKICAgICAgICBpZiAoISgoX2VsMjIgPSBlbCkgIT09IG51bGwgJiYgX2VsMjIgIT09IHZvaWQgMCAmJiAoX2VsMjIgPSBfZWwyMi5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwyMiAhPT0gdm9pZCAwICYmIF9lbDIyLmdBdHRycykpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICB2YXIgZ0F0dHJzRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICgoKF9lbDIzID0gZWwpID09PSBudWxsIHx8IF9lbDIzID09PSB2b2lkIDAgfHwgKF9lbDIzID0gX2VsMjMub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDIzLmdBdHRycykgPT09IHRydWUpIHsKICAgICAgICAgIGdBdHRyc0RlZmF1bHQgPSB7CiAgICAgICAgICAgIGl0ZW1zOiB7CiAgICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgICAgY29tcDogIlZDb2wiLAogICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIC8qIGNvbHM6J2F1dG8nLCAqLwogICAgICAgICAgICAgICAgICAgIHNtOiAiMTIiLAogICAgICAgICAgICAgICAgICAgIG1kOiAiNiIsCiAgICAgICAgICAgICAgICAgICAgbGc6ICI0IiwKICAgICAgICAgICAgICAgICAgICB4bDogIjMiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIGJsdWUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgY29tcDogIlZSb3ciLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIHBhLTUgbWEtNSIsCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuckNvbG9yCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgIGNvbXA6ICJoMiIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJwYS0yIGgyIHRleHQtY2VudGVyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY29udGVudDogIkdsb2JhbCBBdHRyaWJ1dGVzIgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zLmdBdHRycyA9IGdBdHRyc0RlZmF1bHQKICAgICAgICB9CiAgICAgICAgdmFyIGdBdHRyaWJ1dGVzID0gaHRtbF9yZXNzb3VyY2VzLmdsb2JhbF9hdHRyczsKICAgICAgICB2YXIga3lzID0gWyJhY2Nlc3NrZXkiLCAiY2xhc3MiLCAiY29udGVudGVkaXRhYmxlIiwgImRhdGEiLCAiZGlyIiwgImRyYWdnYWJsZSIsICJpZCIsICJsYW5nIiwgInNwZWxsY2hlY2siLCAic3R5bGUiLCAidGFiaW5kZXgiLCAidGl0bGUiLCAidHJhbnNsYXRlIl07CiAgICAgICAgZWwgPSB0aGlzLml0ZW1fOwogICAgICAgIHZhciByZW5kZXJlZEl0ZW1zID0ga3lzLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICB2YXIgX2VsMjQsIF9lbDI1OwogICAgICAgICAgdmFyIGF0dHJzT2JqID0gewogICAgICAgICAgICBsYWJlbDoga2V5LAogICAgICAgICAgICB2YWx1ZTogWyJjbGFzcyJdLmluY2x1ZGVzKGtleSkgPyAoX2VsMjQgPSBlbCkgPT09IG51bGwgfHwgX2VsMjQgPT09IHZvaWQgMCB8fCAoX2VsMjQgPSBfZWwyNC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwyNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMjRba2V5XSA6ICgoX2VsMjUgPSBlbCkgPT09IG51bGwgfHwgX2VsMjUgPT09IHZvaWQgMCB8fCAoX2VsMjUgPSBfZWwyNS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwyNSA9PT0gdm9pZCAwIHx8IChfZWwyNSA9IF9lbDI1LmF0dHJzKSA9PT0gbnVsbCB8fCBfZWwyNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMjVba2V5XSkgfHwgIiIsCiAgICAgICAgICAgIHRpdGxlOiBnQXR0cmlidXRlc1trZXldLmRlc2MKICAgICAgICAgIH07CiAgICAgICAgICB0cnkgewogICAgICAgICAgICB2YXIgX2VsMjYsIF9lbDI3OwogICAgICAgICAgICB2YXIgdGhlVmFsdWUgPSBfdGhpczEwLmdlbmVyYWxWYWwoKF9lbDI2ID0gZWwpID09PSBudWxsIHx8IF9lbDI2ID09PSB2b2lkIDAgfHwgKF9lbDI2ID0gX2VsMjYub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMjYgPT09IHZvaWQgMCB8fCAoX2VsMjYgPSBfZWwyNi5hdHRycykgPT09IG51bGwgfHwgX2VsMjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDI2W2tleV0sIF90aGlzMTAuaXRlbUFjY2Vzc2ViaWxpdHksIF90aGlzMTAubGFuZyk7CiAgICAgICAgICAgIGF0dHJzT2JqWyJ2YWx1ZSJdID0gdGhlVmFsdWU7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBhdHRyc09ialsidmFsdWUiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgICAgYXR0cnNPYmpbImhpbnQiXSA9ICIiLmNvbmNhdCh0aGVWYWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZVZhbHVlID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICBhdHRyc09ialsidmFsdWUiXSA9IHRoZVZhbHVlKF90aGlzMTAuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgICAgICAgIC8vIGF0dHJzT2JqWydoaW50J10gPSBgJHt0aGVWYWx1ZX1gOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdHlwZW9mKChfZWwyNyA9IGVsKSA9PT0gbnVsbCB8fCBfZWwyNyA9PT0gdm9pZCAwIHx8IChfZWwyNyA9IF9lbDI3Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwyN1trZXldKSA9PSAib2JqZWN0IikgewogICAgICAgICAgICAgIGF0dHJzT2JqWyJ2YWx1ZSJdID0gX3R5cGVvZih0aGVWYWx1ZSkgPT0gIm9iamVjdCIgPyAiIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhlVmFsdWUpKSA6IHRoZVZhbHVlOwogICAgICAgICAgICAgIC8vIGF0dHJzT2JqWydoaW50J10gPSBgc3JjPSR7SlNPTi5zdHJpbmdpZnkoZWw/Lm9wdGlvbnM/LltrZXldKX1gOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGF0dHJzT2JqWydoaW50J10gPQogICAgICAgICAgICAgIC8vICAgdHlwZW9mIGVsPy5vcHRpb25zPy5wcm9wcz8uW2tleV0gPT0gJ29iamVjdCcKICAgICAgICAgICAgICAvLyAgICAgPyBgc3JjPSR7SlNPTi5zdHJpbmdpZnkoZWw/Lm9wdGlvbnM/LmF0dHJzPy5ba2V5XSl9YAogICAgICAgICAgICAgIC8vICAgICA6IGVsPy5vcHRpb25zPy5hdHRycz8uW2tleV0gfHwgJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYXR0cnNPYmpbInBlcnNpc3RlbnQtaGludCJdID0gdHJ1ZTsKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGF0dHJzT2JqWyJlcnJvck1lc3NhZ2VzIl0gPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICBhdHRyc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgYXR0cnNPYmpbImhpbnQiXSA9IGdBdHRyaWJ1dGVzW2tleV0uZGVzYzsKICAgICAgICAgIGlmIChrZXkgIT0gImhpZGRlbiIpIHsKICAgICAgICAgICAgdmFyIF9lbDI4LCBfZWwyOSwgX2VsMzAsIF9lbDMxLCBfZWwzMiwgX2VsMzMsIF9nQXR0cnNEZWZhdWx0LCBfZWwzOCwgX2dBdHRyc0RlZmF1bHQyLCBfZWwzOSwgX2dBdHRyc0RlZmF1bHQzOwogICAgICAgICAgICB2YXIgYVJlbmRlcmVkSXRlbSA9IGhfKCJWVGV4dEZpZWxkIiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdmFsdWU6IF90eXBlb2YoKF9lbDI4ID0gZWwpID09PSBudWxsIHx8IF9lbDI4ID09PSB2b2lkIDAgfHwgKF9lbDI4ID0gX2VsMjgub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDI4W2tleV0pID09ICJvYmplY3QiID8gSlNPTi5zdHJpbmdpZnkoKChfZWwyOSA9IGVsKSA9PT0gbnVsbCB8fCBfZWwyOSA9PT0gdm9pZCAwIHx8IChfZWwyOSA9IF9lbDI5Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDI5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwyOVtrZXldKSB8fCAoKF9lbDMwID0gZWwpID09PSBudWxsIHx8IF9lbDMwID09PSB2b2lkIDAgfHwgKF9lbDMwID0gX2VsMzAub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMzAgPT09IHZvaWQgMCB8fCAoX2VsMzAgPSBfZWwzMC5hdHRycykgPT09IG51bGwgfHwgX2VsMzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDMwW2tleV0pKSA6ICgoX2VsMzEgPSBlbCkgPT09IG51bGwgfHwgX2VsMzEgPT09IHZvaWQgMCB8fCAoX2VsMzEgPSBfZWwzMS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwzMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMzFba2V5XSkgfHwgKChfZWwzMiA9IGVsKSA9PT0gbnVsbCB8fCBfZWwzMiA9PT0gdm9pZCAwIHx8IChfZWwzMiA9IF9lbDMyLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDMyID09PSB2b2lkIDAgfHwgKF9lbDMyID0gX2VsMzIuYXR0cnMpID09PSBudWxsIHx8IF9lbDMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwzMltrZXldKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgKChfZWwzMyA9IGVsKSA9PT0gbnVsbCB8fCBfZWwzMyA9PT0gdm9pZCAwIHx8IChfZWwzMyA9IF9lbDMzLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDMzID09PSB2b2lkIDAgfHwgKF9lbDMzID0gX2VsMzMuZ0F0dHJzKSA9PT0gbnVsbCB8fCBfZWwzMyA9PT0gdm9pZCAwIHx8IChfZWwzMyA9IF9lbDMzLml0ZW1zKSA9PT0gbnVsbCB8fCBfZWwzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsMzMub3B0aW9ucykgfHwgKChfZ0F0dHJzRGVmYXVsdCA9IGdBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF9nQXR0cnNEZWZhdWx0ID0gX2dBdHRyc0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ0F0dHJzRGVmYXVsdC5vcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICAgICAgYXR0cnM6IGF0dHJzT2JqLAogICAgICAgICAgICAgIC8qICB7CiAgICAgICAgICAgICAgbGFiZWw6IGtleSwKICAgICAgICAgICAgICB2YWx1ZTogWydjbGFzcyddLmluY2x1ZGVzKGtleSkKICAgICAgICAgICAgICA/IGVsPy5vcHRpb25zPy5ba2V5XQogICAgICAgICAgICAgIDogZWw/Lm9wdGlvbnM/LmF0dHJzPy5ba2V5XSB8fCAnJywKICAgICAgICAgICAgICB0aXRsZTogZ0F0dHJpYnV0ZXNba2V5XS5kZXNjLAogICAgICAgICAgICAgIGhpbnQ6IGdBdHRyaWJ1dGVzW2tleV0uZGVzYywKICAgICAgICAgICAgICAncGVyc2lzdGVudC1oaW50JzogdHJ1ZSwKICAgICAgICAgICAgICB9ICovCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIC8vIGlucHV0OiAoaW5wdXRWYWwpID0+IHsKICAgICAgICAgICAgICAgIC8vIAlpZiAoa2V5ID09ICd2YWwnKSB7CiAgICAgICAgICAgICAgICAvLyAJCWVsLm9wdGlvbnNbJ3ZhbCddID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgICAvLyAJCWlmIChlbD8ub3B0aW9ucz8ucHJvcHM/LnZhbHVlKSB7IGVsLm9wdGlvbnMucHJvcHMudmFsdWUgPSBpbnB1dFZhbCB9CiAgICAgICAgICAgICAgICAvLyAJfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIAkJZWwub3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIC8vIAkJCS4uLmVsLm9wdGlvbnMsCiAgICAgICAgICAgICAgICAvLyAJCQlba2V5XTogaW5wdXRWYWwsCiAgICAgICAgICAgICAgICAvLyAJCX07CiAgICAgICAgICAgICAgICAvLyAJfQogICAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ICs9ICdfJzsKICAgICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShpbnB1dFZhbCkgewogICAgICAgICAgICAgICAgICB2YXIgX2VsMzQsIF9lbDM1LCBfZWwzNzsKICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoa2V5KQogICAgICAgICAgICAgICAgICBpZiAoISgoX2VsMzQgPSBlbCkgIT09IG51bGwgJiYgX2VsMzQgIT09IHZvaWQgMCAmJiAoX2VsMzQgPSBfZWwzNC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwzNCAhPT0gdm9pZCAwICYmIF9lbDM0LmF0dHJzKSkgewogICAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnMuYXR0cnMgPSB7fTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmF0dHJzID0ge307CiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gImNsYXNzIiB8fCBrZXkgPT0gInN0eWxlIikgewogICAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnNba2V5XSA9IF90aGlzMTAuZ2VuZXJhbFZhbChfdGhpczEwLnN0clRvT2JqKGlucHV0VmFsKSwgX3RoaXMxMC5pdGVtQWNjZXNzZWJpbGl0eQogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKChfZWwzNSA9IGVsKSA9PT0gbnVsbCB8fCBfZWwzNSA9PT0gdm9pZCAwIHx8IChfZWwzNSA9IF9lbDM1Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwzNVtrZXldKSAhPSAiYm9vbGVhbiIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2VsMzY7CiAgICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5rZXkgPSBfdGhpczEwLnVwZGF0ZUtleSgoKF9lbDM2ID0gZWwpID09PSBudWxsIHx8IF9lbDM2ID09PSB2b2lkIDAgfHwgKF9lbDM2ID0gX2VsMzYub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMzYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDM2LmtleSkgfHwgX3RoaXMxMC5yYW5kb21LZXkoIndiYyIpKTsKICAgICAgICAgICAgICAgICAgICAvLyBlbD8ub3B0aW9ucz8uW2tleV09bnVsbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnMuYXR0cnNba2V5XSA9IF90aGlzMTAuZ2VuZXJhbFZhbChfdGhpczEwLnN0clRvT2JqKGlucHV0VmFsKSwgX3RoaXMxMC5pdGVtQWNjZXNzZWJpbGl0eQogICAgICAgICAgICAgICAgICAvLyB0aGlzLmxnCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIGlmICghKChfZWwzNyA9IGVsKSAhPT0gbnVsbCAmJiBfZWwzNyAhPT0gdm9pZCAwICYmIChfZWwzNyA9IF9lbDM3Lm9wdGlvbnMpICE9PSBudWxsICYmIF9lbDM3ICE9PSB2b2lkIDAgJiYgX2VsMzcua2V5KSkgewogICAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnMua2V5ID0gX3RoaXMxMC5yYW5kb21LZXkoIndiYyIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMua2V5ID0gdGhpcy51cGRhdGVLZXkoZWw/Lm9wdGlvbnM/LmtleSkKCiAgICAgICAgICAgICAgICAgIC8vIAlpZiAoZWw/Lm9wdGlvbnM/LnByb3BzPy52YWx1ZSkgeyBlbC5vcHRpb25zLnByb3BzLnZhbHVlID0gaW5wdXRWYWwgfQogICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyAJZWwub3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgLy8gCQkuLi5lbC5vcHRpb25zLAogICAgICAgICAgICAgICAgICAvLyAJCVtrZXldOiB0aGlzLmdlbmVyYWxWYWwoCiAgICAgICAgICAgICAgICAgIC8vIAkJCXRoaXMuc3RyVG9PYmooaW5wdXRWYWwpLAogICAgICAgICAgICAgICAgICAvLyAJCQl0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LAogICAgICAgICAgICAgICAgICAvLyAJCQkvLyB0aGlzLmxnCiAgICAgICAgICAgICAgICAgIC8vIAkJCSkgLAogICAgICAgICAgICAgICAgICAvLyAJfTsKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSArPSAnXyc7CiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gdXBkYXRlOiAoaW5wdXRWYWwpID0+IHsKICAgICAgICAgICAgICAgIC8vIAlpZiAoa2V5ID09ICd2YWwnKSB7CiAgICAgICAgICAgICAgICAvLyAJCWVsLm9wdGlvbnNbJ3ZhbCddID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgICAvLyAJCWlmIChlbD8ub3B0aW9ucz8ucHJvcHM/LnZhbHVlKSB7IGVsLm9wdGlvbnMucHJvcHMudmFsdWUgPSBpbnB1dFZhbCB9CiAgICAgICAgICAgICAgICAvLyAJfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIAkJZWwub3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIC8vIAkJCS4uLmVsLm9wdGlvbnMsCiAgICAgICAgICAgICAgICAvLyAJCQlba2V5XTogaW5wdXRWYWwsCiAgICAgICAgICAgICAgICAvLyAJCX07CiAgICAgICAgICAgICAgICAvLyAJfQogICAgICAgICAgICAgICAgLy8gCS8vIGVsLm9wdGlvbnMua2V5ICs9ICdfJzsKICAgICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIHJldHVybiBoXygoKF9lbDM4ID0gZWwpID09PSBudWxsIHx8IF9lbDM4ID09PSB2b2lkIDAgfHwgKF9lbDM4ID0gX2VsMzgub3B0aW9ucykgPT09IG51bGwgfHwgX2VsMzggPT09IHZvaWQgMCB8fCAoX2VsMzggPSBfZWwzOC5nQXR0cnMpID09PSBudWxsIHx8IF9lbDM4ID09PSB2b2lkIDAgfHwgKF9lbDM4ID0gX2VsMzguaXRlbXMpID09PSBudWxsIHx8IF9lbDM4ID09PSB2b2lkIDAgfHwgKF9lbDM4ID0gX2VsMzgud3JhcCkgPT09IG51bGwgfHwgX2VsMzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDM4LmNvbXApIHx8ICgoX2dBdHRyc0RlZmF1bHQyID0gZ0F0dHJzRGVmYXVsdCkgPT09IG51bGwgfHwgX2dBdHRyc0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF9nQXR0cnNEZWZhdWx0MiA9IF9nQXR0cnNEZWZhdWx0Mi5pdGVtcykgPT09IG51bGwgfHwgX2dBdHRyc0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF9nQXR0cnNEZWZhdWx0MiA9IF9nQXR0cnNEZWZhdWx0Mi53cmFwKSA9PT0gbnVsbCB8fCBfZ0F0dHJzRGVmYXVsdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nQXR0cnNEZWZhdWx0Mi5jb21wKSwgX29iamVjdFNwcmVhZCh7fSwgKChfZWwzOSA9IGVsKSA9PT0gbnVsbCB8fCBfZWwzOSA9PT0gdm9pZCAwIHx8IChfZWwzOSA9IF9lbDM5Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDM5ID09PSB2b2lkIDAgfHwgKF9lbDM5ID0gX2VsMzkuZ0F0dHJzKSA9PT0gbnVsbCB8fCBfZWwzOSA9PT0gdm9pZCAwIHx8IChfZWwzOSA9IF9lbDM5Lml0ZW1zKSA9PT0gbnVsbCB8fCBfZWwzOSA9PT0gdm9pZCAwIHx8IChfZWwzOSA9IF9lbDM5LndyYXApID09PSBudWxsIHx8IF9lbDM5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwzOS5vcHRpb25zKSB8fCAoKF9nQXR0cnNEZWZhdWx0MyA9IGdBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfZ0F0dHJzRGVmYXVsdDMgPSBfZ0F0dHJzRGVmYXVsdDMuaXRlbXMpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfZ0F0dHJzRGVmYXVsdDMgPSBfZ0F0dHJzRGVmYXVsdDMud3JhcCkgPT09IG51bGwgfHwgX2dBdHRyc0RlZmF1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ0F0dHJzRGVmYXVsdDMub3B0aW9ucykgfHwge30pLCBbYVJlbmRlcmVkSXRlbV0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBbaF8oKChfZWw0MCA9IGVsKSA9PT0gbnVsbCB8fCBfZWw0MCA9PT0gdm9pZCAwIHx8IChfZWw0MCA9IF9lbDQwLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDQwID09PSB2b2lkIDAgfHwgKF9lbDQwID0gX2VsNDAuZ0F0dHJzKSA9PT0gbnVsbCB8fCBfZWw0MCA9PT0gdm9pZCAwIHx8IChfZWw0MCA9IF9lbDQwLnRpdGxlKSA9PT0gbnVsbCB8fCBfZWw0MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNDAuY29tcCkgfHwgKChfZ0F0dHJzRGVmYXVsdDQgPSBnQXR0cnNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfZ0F0dHJzRGVmYXVsdDQgPT09IHZvaWQgMCB8fCAoX2dBdHRyc0RlZmF1bHQ0ID0gX2dBdHRyc0RlZmF1bHQ0LnRpdGxlKSA9PT0gbnVsbCB8fCBfZ0F0dHJzRGVmYXVsdDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nQXR0cnNEZWZhdWx0NC5jb21wKSB8fCAiaDQiLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbDQxID0gZWwpID09PSBudWxsIHx8IF9lbDQxID09PSB2b2lkIDAgfHwgKF9lbDQxID0gX2VsNDEub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNDEgPT09IHZvaWQgMCB8fCAoX2VsNDEgPSBfZWw0MS5nQXR0cnMpID09PSBudWxsIHx8IF9lbDQxID09PSB2b2lkIDAgfHwgKF9lbDQxID0gX2VsNDEudGl0bGUpID09PSBudWxsIHx8IF9lbDQxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw0MS5vcHRpb25zKSB8fCAoKF9nQXR0cnNEZWZhdWx0NSA9IGdBdHRyc0RlZmF1bHQpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0NSA9PT0gdm9pZCAwIHx8IChfZ0F0dHJzRGVmYXVsdDUgPSBfZ0F0dHJzRGVmYXVsdDUudGl0bGUpID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dBdHRyc0RlZmF1bHQ1Lm9wdGlvbnMpIHx8IHt9KSwgKChfZWw0MiA9IGVsKSA9PT0gbnVsbCB8fCBfZWw0MiA9PT0gdm9pZCAwIHx8IChfZWw0MiA9IF9lbDQyLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDQyID09PSB2b2lkIDAgfHwgKF9lbDQyID0gX2VsNDIuZ0F0dHJzKSA9PT0gbnVsbCB8fCBfZWw0MiA9PT0gdm9pZCAwIHx8IChfZWw0MiA9IF9lbDQyLnRpdGxlKSA9PT0gbnVsbCB8fCBfZWw0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNDIuY29udGVudCkgfHwgIkdsb2JhbCBBdHRyaWJ1dGVzIiksIGhfKCgoX2VsNDMgPSBlbCkgPT09IG51bGwgfHwgX2VsNDMgPT09IHZvaWQgMCB8fCAoX2VsNDMgPSBfZWw0My5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw0MyA9PT0gdm9pZCAwIHx8IChfZWw0MyA9IF9lbDQzLmdBdHRycykgPT09IG51bGwgfHwgX2VsNDMgPT09IHZvaWQgMCB8fCAoX2VsNDMgPSBfZWw0My53cmFwKSA9PT0gbnVsbCB8fCBfZWw0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNDMuY29tcCkgfHwgKChfZ0F0dHJzRGVmYXVsdDYgPSBnQXR0cnNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfZ0F0dHJzRGVmYXVsdDYgPT09IHZvaWQgMCB8fCAoX2dBdHRyc0RlZmF1bHQ2ID0gX2dBdHRyc0RlZmF1bHQ2LndyYXApID09PSBudWxsIHx8IF9nQXR0cnNEZWZhdWx0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dBdHRyc0RlZmF1bHQ2LmNvbXApIHx8ICJkaXYiLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbDQ0ID0gZWwpID09PSBudWxsIHx8IF9lbDQ0ID09PSB2b2lkIDAgfHwgKF9lbDQ0ID0gX2VsNDQub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNDQgPT09IHZvaWQgMCB8fCAoX2VsNDQgPSBfZWw0NC5nQXR0cnMpID09PSBudWxsIHx8IF9lbDQ0ID09PSB2b2lkIDAgfHwgKF9lbDQ0ID0gX2VsNDQud3JhcCkgPT09IG51bGwgfHwgX2VsNDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDQ0Lm9wdGlvbnMpIHx8ICgoX2dBdHRyc0RlZmF1bHQ3ID0gZ0F0dHJzRGVmYXVsdCkgPT09IG51bGwgfHwgX2dBdHRyc0RlZmF1bHQ3ID09PSB2b2lkIDAgfHwgKF9nQXR0cnNEZWZhdWx0NyA9IF9nQXR0cnNEZWZhdWx0Ny53cmFwKSA9PT0gbnVsbCB8fCBfZ0F0dHJzRGVmYXVsdDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nQXR0cnNEZWZhdWx0Ny5vcHRpb25zKSB8fCB7fSksIFtyZW5kZXJlZEl0ZW1zXSldOwogICAgICB9LAogICAgICAvLy8vLy8vLy8vLy8vLy8vd2JjUHJvcHM6IHdiYyBwcm9wcyBsaWtlOnt2YWwsZmxvYXQsbG9hZCwgaGlkZSwgY2xhc3MsLi4ufS8vLy8vLy8vLy8vLy8vLy8vLwogICAgICB3YmNQcm9wczogZnVuY3Rpb24gd2JjUHJvcHMoZWwsIGhfKSB7CiAgICAgICAgdmFyIF9lbCRvcHRpb25zNTMsCiAgICAgICAgICBfZWwkb3B0aW9uczU0LAogICAgICAgICAgX3RoaXMxMSA9IHRoaXMsCiAgICAgICAgICBfZWwkb3B0aW9uczY2LAogICAgICAgICAgX3diY0RlZmF1bHQ0LAogICAgICAgICAgX2VsJG9wdGlvbnM2NywKICAgICAgICAgIF93YmNEZWZhdWx0NSwKICAgICAgICAgIF9lbCRvcHRpb25zNjgsCiAgICAgICAgICBfd2JjRGVmYXVsdDYsCiAgICAgICAgICBfZWwkb3B0aW9uczY5LAogICAgICAgICAgX3diY0RlZmF1bHQ3LAogICAgICAgICAgX2VsJG9wdGlvbnM3MCwKICAgICAgICAgIF93YmNEZWZhdWx0ODsKICAgICAgICB2YXIgd2JjRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICghKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNTMgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczUzICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM1My53YmNQcm9wcykpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBpZiAoKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNTQgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczU0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczU0LndiY1Byb3BzKSA9PT0gdHJ1ZSkgewogICAgICAgICAgd2JjRGVmYXVsdCA9IHsKICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgIGNvbXA6ICJWUm93IiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciBwYS0yIG1hLTIiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgICAgICBjb21wOiAiVkNvbCIsCiAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgY29sczogImF1dG8iCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIGJsdWUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgIGNvbXA6ICJoMiIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgY2xhc3M6ICJwYS0yIHRleHQtY2VudGVyIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY29udGVudDogIldCQyBQUk9QUyIKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy53YmNQcm9wcyA9IHdiY0RlZmF1bHQKICAgICAgICB9CiAgICAgICAgdmFyIHdiY1Byb3BzT2JqID0gewogICAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICAgIHRpdGxlOiAiU3BlY2lmaWVzIHRoZSBlbGVtZW50IGNsYXNzIiwKICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICBjb21wOiAiVlRleHRGaWVsZCIKICAgICAgICAgIH0sCiAgICAgICAgICBmb290ZXI6IHsKICAgICAgICAgICAgdGl0bGU6ICJTcGVjaWZpZXMgdGhlIGVsZW1lbnQgY2xhc3MiLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWVGV4dEZpZWxkIgogICAgICAgICAgfSwKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgIHRpdGxlOiAiU3BlY2lmaWVzIHRoZSBlbGVtZW50IGNsYXNzIiwKICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICBjb21wOiAiVlRleHRGaWVsZCIKICAgICAgICAgIH0sCiAgICAgICAgICB3cmFwOiB7CiAgICAgICAgICAgIHRpdGxlOiAiV3JhcCB0aGUgZWxlbWVudCIsCiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgY29tcDogIlZUZXh0RmllbGQiCiAgICAgICAgICB9LAogICAgICAgICAgaHRtbDogewogICAgICAgICAgICB0aXRsZTogIkRlZmF1bHQgc2xvdCBjb250ZW50IiwKICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICBjb21wOiAiVlRleHRGaWVsZCIKICAgICAgICAgIH0sCiAgICAgICAgICB2YWw6IHsKICAgICAgICAgICAgdGl0bGU6ICJDb250YWlucyB0aGUgbWFpbiBvYmplY3QgVmFsdWUiLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWVGV4dEZpZWxkIgogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgdGl0bGU6ICJTcGVjaWZpZXMgRWxlbWVudCBIZWFkZXJzIChUbyBiZSBwYXJzZWQpIiwKICAgICAgICAgICAgdHlwZTogIm9iamVjdCIsCiAgICAgICAgICAgIGNvbXA6ICJWVGV4dEZpZWxkIgogICAgICAgICAgfSwKICAgICAgICAgIGZvb3RlcnM6IHsKICAgICAgICAgICAgdGl0bGU6ICJTcGVjaWZpZXMgRWxlbWVudCBmb290ZXJzIChUbyBiZSBwYXJzZWQpIiwKICAgICAgICAgICAgdHlwZTogIm9iamVjdCIsCiAgICAgICAgICAgIGNvbXA6ICJWVGV4dEZpZWxkIgogICAgICAgICAgfSwKICAgICAgICAgIGtleTogewogICAgICAgICAgICB0aXRsZTogIlNwZWNpZmllcyB0aGUga2V5IG9mIHRoZSBlbGVtZW50IiwKICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICBjb21wOiAiVlRleHRGaWVsZCIKICAgICAgICAgIH0sCiAgICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgICAgdGl0bGU6ICJTcGVjaWZpZXMgdGhlIGdsYWJhbCBuYW1lICBvZiB0aGUgY29ycmVzcG9uZGluZyB3YmMgaXRlbSBlbGVtZW50IiwKICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICBjb21wOiAiVlRleHRGaWVsZCIKICAgICAgICAgIH0sCiAgICAgICAgICByZWY6IHsKICAgICAgICAgICAgdGl0bGU6ICJTcGVjaWZpZXMgY29tcG9uZW50IHJlZiIsCiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgY29tcDogIlZUZXh0RmllbGQiCiAgICAgICAgICB9LAogICAgICAgICAgaGlkZTogewogICAgICAgICAgICB0aXRsZTogIkhpZGUgYW5kIHNob3cgdGhlIGVsZW1lbnQiLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWQ2hlY2tib3giCiAgICAgICAgICB9LAogICAgICAgICAgbG9hZDogewogICAgICAgICAgICB0aXRsZTogIlNwZWNpZmllcyB0aGUgZWxlbWVtdCBsb2FkZXIiLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWQ2hlY2tib3giCiAgICAgICAgICB9LAogICAgICAgICAgbW9kZTogewogICAgICAgICAgICB0aXRsZTogIlNwZWNpZmllIHRoZSBkaXNwbGF5aW5nIG1vZGUgb2YgdGhlIGVsZW1lbnQiLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWVGV4dEZpZWxkIgogICAgICAgICAgfSwKICAgICAgICAgIGZsb2F0OiB7CiAgICAgICAgICAgIHRpdGxlOiAiZGlzcGxheSB0aGUgY29tcG9uZW50IGluIG1vZGUgZmxvYXRpbmciLAogICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgIGNvbXA6ICJWQ2hlY2tib3giCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMuY2xhc3M9dGhpcy53YmNQcm9wc1Byb3BzT2JqWzBdLnByb3BzLnZhbAogICAgICAgIC8vIGVsID0gdGhpcy5pdGVtXzsKICAgICAgICAvLyBsZXQgcmVuZGVyZWRJdGVtcyA9IE9iamVjdC5rZXlzKHdiY1Byb3BzT2JqKQogICAgICAgIHZhciByZW5kZXJlZEl0ZW1zID0gWyJoZWFkZXIiLCAiZm9vdGVyIiwgImNsYXNzIiwgIndyYXAiLCAiaHRtbCIsICJ2YWwiLCAiaGVhZGVycyIsICJmb290ZXJzIiwgImtleSIsICJnbG9iYWwiLCAicmVmIiwgImhpZGUiLCAibG9hZCIsICJtb2RlIiwgImZsb2F0Il0KICAgICAgICAvLyAuc29ydCgpCiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICFbIm1vZGUiXS5pbmNsdWRlcyhlKTsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgdmFyIF9lbCRvcHRpb25zNjAsIF93YmNEZWZhdWx0LCBfZWwkb3B0aW9uczY0LCBfd2JjRGVmYXVsdDIsIF9lbCRvcHRpb25zNjUsIF93YmNEZWZhdWx0MzsKICAgICAgICAgIHZhciBhV2JjUHJvcHNPYmogPSB7CiAgICAgICAgICAgIGxhYmVsOiBrZXksCiAgICAgICAgICAgIHZhbHVlOiBlbC5vcHRpb25zW2tleV0sCiAgICAgICAgICAgIHRpdGxlOiB3YmNQcm9wc09ialtrZXldLnRpdGxlCiAgICAgICAgICB9OwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIF9lbCRvcHRpb25zNTUsIF9lbCRvcHRpb25zNTcsIF9lbCRvcHRpb25zNTg7CiAgICAgICAgICAgIHZhciB0aGVWYWx1ZSA9IF90aGlzMTEuZ2VuZXJhbFZhbChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczU1ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM1NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM1NVtrZXldLCBfdGhpczExLml0ZW1BY2Nlc3NlYmlsaXR5LCBfdGhpczExLmxhbmcpOwogICAgICAgICAgICBpZiAoa2V5ID09ICJoZWFkZXIiIHx8IGtleSA9PSAiZm9vdGVyIikgewogICAgICAgICAgICAgIGVsLm9wdGlvbnNba2V5XSA9IF90aGlzMTEuZ2VuZXJhbFZhbChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxba2V5XSwgX3RoaXMxMS5pdGVtQWNjZXNzZWJpbGl0eSwgX3RoaXMxMS5sYW5nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhV2JjUHJvcHNPYmpbInZhbHVlIl0gPSB0aGVWYWx1ZTsKICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGVWYWx1ZSA9PSAiYm9vbGVhbiIpIHsKICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnM1NjsKICAgICAgICAgICAgICAvLyBhbGVydCh0aGVWYWx1ZSt0eXBlb2YgdGhlVmFsdWUpCiAgICAgICAgICAgICAgLy8gYVdiY1Byb3BzT2JqWyd2YWx1ZSddID0gYCR7dGhlVmFsdWV9YDsKICAgICAgICAgICAgICBhV2JjUHJvcHNPYmpbInZhbHVlIl0gPSBlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczU2ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM1NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM1NltrZXldOwogICAgICAgICAgICAgIC8vIGFXYmNQcm9wc09ialsnaGludCddPWAke3RoZVZhbHVlfWAKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBhV2JjUHJvcHNPYmpbInZhbHVlIl0gPSAiIi5jb25jYXQodGhlVmFsdWUpOwogICAgICAgICAgICAgIC8vIGFXYmNQcm9wc09ialsndmFsdWUnXSA9IHRoZVZhbHVlOwogICAgICAgICAgICAgIC8vIGFXYmNQcm9wc09ialsnaGludCddPWAke3RoZVZhbHVlfWAKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlVmFsdWUgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgIGFXYmNQcm9wc09ialsidmFsdWUiXSA9IHRoZVZhbHVlKF90aGlzMTEuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgICAgICAgIC8vIGFXYmNQcm9wc09ialsnaGludCddPWAke3RoZVZhbHVlfWAKICAgICAgICAgICAgfSBlbHNlIGlmIChfdHlwZW9mKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNTcgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczU3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczU3W2tleV0pID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgYVdiY1Byb3BzT2JqWyJ2YWx1ZSJdID0gIiIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoZVZhbHVlKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNTggPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczU4ICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM1OFtrZXldKSB7CiAgICAgICAgICAgICAgdmFyIF9lbCRvcHRpb25zNTk7CiAgICAgICAgICAgICAgYVdiY1Byb3BzT2JqWyJoaW50Il0gPSAic3JjPSIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNTkgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczU5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczU5W2tleV0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gZWxzZSB7YVdiY1Byb3BzT2JqWydoaW50J109dHlwZW9mIGVsPy5vcHRpb25zPy5wcm9wcz8uWyBrZXkgXT09J29iamVjdCc/YHNyYz0ke0pTT04uc3RyaW5naWZ5KGVsPy5vcHRpb25zPy5wcm9wcz8uWyBrZXkgXSl9YDplbD8ub3B0aW9ucz8ucHJvcHM/Llsga2V5IF18fCdVc2UganMgdGVtcGxhdGUgbW9kZSBmb3IgZGF0YSB0eXBlcyd9CiAgICAgICAgICAgIGFXYmNQcm9wc09ialsicGVyc2lzdGVudC1oaW50Il0gPSB0cnVlOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgYVdiY1Byb3BzT2JqWyJlcnJvck1lc3NhZ2VzIl0gPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICBhV2JjUHJvcHNPYmpbInBlcnNpc3RlbnQtaGludCJdID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBhbGVydChrZXkpCiAgICAgICAgICB2YXIgYVJlbmRlcmVkSXRlbSA9IGhfKHdiY1Byb3BzT2JqW2tleV0uY29tcCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2MCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2MCA9IF9lbCRvcHRpb25zNjAud2JjUHJvcHMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2MCA9IF9lbCRvcHRpb25zNjAuaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNjAub3B0aW9ucykgfHwgKChfd2JjRGVmYXVsdCA9IHdiY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNEZWZhdWx0ID09PSB2b2lkIDAgfHwgKF93YmNEZWZhdWx0ID0gX3diY0RlZmF1bHQuaXRlbXMpID09PSBudWxsIHx8IF93YmNEZWZhdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjRGVmYXVsdC5vcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICAgIHZhbDogZWwub3B0aW9uc1trZXldLAogICAgICAgICAgICBwcm9wczogYVdiY1Byb3BzT2JqIC8qIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDoga2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbC5vcHRpb25zW2tleV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHdiY1Byb3BzT2JqW2tleV0udGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludDogd2JjUHJvcHNPYmpba2V5XS50aXRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGVyc2lzdGVudC1oaW50JzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICovLAogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIC8vIHVwZGF0ZTogKGlucHV0VmFsXykgPT4gewogICAgICAgICAgICAgIC8vICAgbGV0IGlucHV0VmFsID0gaW5wdXRWYWxfIHx8IGZhbHNlOwoKICAgICAgICAgICAgICAvLyAgIGVsLm9wdGlvbnNba2V5XSA9IGlucHV0VmFsOwogICAgICAgICAgICAgIC8vICAgaWYgKGtleSA9PSAndmFsdWUnKSB7CiAgICAgICAgICAgICAgLy8gICAgIGVsLm9wdGlvbnNbJ3ZhbCddID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgLy8gICB9IGVsc2UgewogICAgICAgICAgICAgIC8vICAgICBlbC5vcHRpb25zW2tleV0gPSB0aGlzLmdlbmVyYWxWYWwoCiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zdHJUb09iaihpbnB1dFZhbCksCiAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eQogICAgICAgICAgICAgIC8vICAgICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAvLyAgICAgKTsKICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyAgIC8vIGVsLm9wdGlvbnMua2V5ICs9IDEKICAgICAgICAgICAgICAvLyAgIC8vIGVsLm9wdGlvbnMua2V5ICs9ICdfJzsKICAgICAgICAgICAgICAvLyAgIC8vIGVsLm9wdGlvbnMua2V5ID0gZWwub3B0aW9ucy5rZXkucmVwbGFjZSgnX18nLCAnXycpOwogICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoaW5wdXRWYWxfKSB7CiAgICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnM2MSwgX2VsJG9wdGlvbnM2MzsKICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbCA9IGlucHV0VmFsXyB8fCB0cnVlOwogICAgICAgICAgICAgICAgZWwub3B0aW9uc1trZXldID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgICBpZiAoa2V5ID09ICJoZWFkZXIiIHx8IGtleSA9PSAiZm9vdGVyIikgewogICAgICAgICAgICAgICAgICBlbFtrZXldID0gaW5wdXRWYWxfOwogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zW2tleV0gPSBfdGhpczExLmdlbmVyYWxWYWwoX3RoaXMxMS5zdHJUb09iaihpbnB1dFZhbF8pLCBfdGhpczExLml0ZW1BY2Nlc3NlYmlsaXR5CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMua2V5ICs9IDEKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICJ2YWx1ZSIpIHsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9uc1sidmFsIl0gPSBpbnB1dFZhbF87CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zW2tleV0gPSBfdGhpczExLmdlbmVyYWxWYWwoX3RoaXMxMS5zdHJUb09iaihpbnB1dFZhbF8pLCBfdGhpczExLml0ZW1BY2Nlc3NlYmlsaXR5CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGcKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjEgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczYxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczYxW2tleV0pICE9ICJib29sZWFuIikgewogICAgICAgICAgICAgICAgICB2YXIgX2VsJG9wdGlvbnM2MjsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5rZXkgPSBfdGhpczExLnVwZGF0ZUtleSgoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2MiA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNjIua2V5KSB8fCBfdGhpczExLnJhbmRvbUtleSgid2JjIikpOwogICAgICAgICAgICAgICAgICAvLyBlbD8ub3B0aW9ucz8uW2tleV09bnVsbAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCEoZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiAoX2VsJG9wdGlvbnM2MyA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zNjMgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczYzLmtleSkpIHsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5rZXkgPSBfdGhpczExLnJhbmRvbUtleSgid2JjIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5rZXkgKz0gMQogICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5rZXkgKz0gJ18nOwogICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5rZXkgPSBlbC5vcHRpb25zLmtleS5yZXBsYWNlKCdfXycsICdfJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIHVwZGF0ZTogKGlucHV0VmFsKSA9PiB7CiAgICAgICAgICAgICAgLy8gCWlmIChrZXkgPT0gJ3ZhbCcpIHsKICAgICAgICAgICAgICAvLyAJCWVsLm9wdGlvbnNbJ3ZhbCddID0gaW5wdXRWYWw7CiAgICAgICAgICAgICAgLy8gCQlpZiAoZWw/Lm9wdGlvbnM/LnByb3BzPy52YWx1ZSkgeyBlbC5vcHRpb25zLnByb3BzLnZhbHVlID0gaW5wdXRWYWwgfQogICAgICAgICAgICAgIC8vIAl9IGVsc2UgewogICAgICAgICAgICAgIC8vIAkJZWwub3B0aW9ucyA9IHsKICAgICAgICAgICAgICAvLyAJCQkuLi5lbC5vcHRpb25zLAogICAgICAgICAgICAgIC8vIAkJCVtrZXldOiBpbnB1dFZhbCwKICAgICAgICAgICAgICAvLyAJCX07CiAgICAgICAgICAgICAgLy8gCX0KICAgICAgICAgICAgICAvLyAJLy8gZWwub3B0aW9ucy5rZXkgKz0gJ18nOwogICAgICAgICAgICAgIC8vIAkvLyBlbC5vcHRpb25zLmtleSA9IGVsLm9wdGlvbnMua2V5LnJlcGxhY2UoJ19fJywgJ18nKTsKICAgICAgICAgICAgICAvLyB9LAogICAgICAgICAgICB9CiAgICAgICAgICB9KSk7CiAgICAgICAgICAvLyByZXR1cm4gYVJlbmRlcmVkSXRlbQogICAgICAgICAgcmV0dXJuIGhfKChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY0ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2NCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY0ID0gX2VsJG9wdGlvbnM2NC53YmNQcm9wcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2NCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY0ID0gX2VsJG9wdGlvbnM2NC5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2NCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY0ID0gX2VsJG9wdGlvbnM2NC53cmFwKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczY0LmNvbXApIHx8ICgoX3diY0RlZmF1bHQyID0gd2JjRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF93YmNEZWZhdWx0MiA9IF93YmNEZWZhdWx0Mi5pdGVtcykgPT09IG51bGwgfHwgX3diY0RlZmF1bHQyID09PSB2b2lkIDAgfHwgKF93YmNEZWZhdWx0MiA9IF93YmNEZWZhdWx0Mi53cmFwKSA9PT0gbnVsbCB8fCBfd2JjRGVmYXVsdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93YmNEZWZhdWx0Mi5jb21wKSB8fCAiVkNhcmQiLCBfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjUgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NSA9IF9lbCRvcHRpb25zNjUud2JjUHJvcHMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjUgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NSA9IF9lbCRvcHRpb25zNjUuaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjUgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NSA9IF9lbCRvcHRpb25zNjUud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM2NS5vcHRpb25zKSB8fCAoKF93YmNEZWZhdWx0MyA9IHdiY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNEZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfd2JjRGVmYXVsdDMgPSBfd2JjRGVmYXVsdDMuaXRlbXMpID09PSBudWxsIHx8IF93YmNEZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfd2JjRGVmYXVsdDMgPSBfd2JjRGVmYXVsdDMud3JhcCkgPT09IG51bGwgfHwgX3diY0RlZmF1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjRGVmYXVsdDMub3B0aW9ucykgfHwge30pLCBbYVJlbmRlcmVkSXRlbV0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBbaF8oKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjYgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY2ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjYgPSBfZWwkb3B0aW9uczY2LndiY1Byb3BzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY2ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjYgPSBfZWwkb3B0aW9uczY2LnRpdGxlKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczY2LmNvbXApIHx8ICgoX3diY0RlZmF1bHQ0ID0gd2JjRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY0RlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF93YmNEZWZhdWx0NCA9IF93YmNEZWZhdWx0NC50aXRsZSkgPT09IG51bGwgfHwgX3diY0RlZmF1bHQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjRGVmYXVsdDQuY29tcCkgfHwgImgxIiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NyA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjcgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NyA9IF9lbCRvcHRpb25zNjcud2JjUHJvcHMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjcgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM2NyA9IF9lbCRvcHRpb25zNjcudGl0bGUpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNjcub3B0aW9ucykgfHwgKChfd2JjRGVmYXVsdDUgPSB3YmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfd2JjRGVmYXVsdDUgPT09IHZvaWQgMCB8fCAoX3diY0RlZmF1bHQ1ID0gX3diY0RlZmF1bHQ1LnRpdGxlKSA9PT0gbnVsbCB8fCBfd2JjRGVmYXVsdDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93YmNEZWZhdWx0NS5vcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICBjbGFzczogInBhLTIgaDEgdGV4dC1jZW50ZXIiCiAgICAgICAgfSksIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY4ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2OCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY4ID0gX2VsJG9wdGlvbnM2OC53YmNQcm9wcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2OCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczY4ID0gX2VsJG9wdGlvbnM2OC50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM2OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM2OC5jb250ZW50KSB8fCAoKF93YmNEZWZhdWx0NiA9IHdiY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNEZWZhdWx0NiA9PT0gdm9pZCAwIHx8IChfd2JjRGVmYXVsdDYgPSBfd2JjRGVmYXVsdDYudGl0bGUpID09PSBudWxsIHx8IF93YmNEZWZhdWx0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY0RlZmF1bHQ2LmNvbnRlbnQpIHx8ICJXQkMgUHJvcHMiKSwgaF8oKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjkgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY5ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjkgPSBfZWwkb3B0aW9uczY5LndiY1Byb3BzKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczY5ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNjkgPSBfZWwkb3B0aW9uczY5LndyYXApID09PSBudWxsIHx8IF9lbCRvcHRpb25zNjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNjkuY29tcCkgfHwgKChfd2JjRGVmYXVsdDcgPSB3YmNEZWZhdWx0KSA9PT0gbnVsbCB8fCBfd2JjRGVmYXVsdDcgPT09IHZvaWQgMCB8fCAoX3diY0RlZmF1bHQ3ID0gX3diY0RlZmF1bHQ3LndyYXApID09PSBudWxsIHx8IF93YmNEZWZhdWx0NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY0RlZmF1bHQ3LmNvbXApIHx8ICJkaXYiLCBfb2JqZWN0U3ByZWFkKHt9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM3MCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNzAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM3MCA9IF9lbCRvcHRpb25zNzAud2JjUHJvcHMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNzAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM3MCA9IF9lbCRvcHRpb25zNzAud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM3MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM3MC5vcHRpb25zKSB8fCAoKF93YmNEZWZhdWx0OCA9IHdiY0RlZmF1bHQpID09PSBudWxsIHx8IF93YmNEZWZhdWx0OCA9PT0gdm9pZCAwIHx8IChfd2JjRGVmYXVsdDggPSBfd2JjRGVmYXVsdDgud3JhcCkgPT09IG51bGwgfHwgX3diY0RlZmF1bHQ4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjRGVmYXVsdDgub3B0aW9ucykgfHwge30pLCBbcmVuZGVyZWRJdGVtc10pXTsKICAgICAgfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vL21haW5SZW5kZXI6IHdyYXBwcGVkIGJ5IGZsb2F0IGFuZCBjbG9zZWQgYnkgaWNvbi8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vbWFrZSB3aW5kb3cgZmxvYXQvLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLyBmbG9hdDogZGlzcGxheSBmbG9hdGluZyBjaGVja2JveCBvZiBtYWluIGVsLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vIGZsb2F0KGVsLCBoXykgewogICAgICAvLyAgIGNvbnNvbGUubG9nKCdlbDg4ODg4ODg4ODg4ODg4OCA6Pj4gJywgZWwpOwogICAgICAvLyAgIC8vIGxldCBmbG9hdERlZmF1bHQgPSB7fTsKICAgICAgLy8gICBpZiAoZWw/Lm9wdGlvbnM/LmZsb2F0ID09IG51bGwgfHwgZWw/Lm9wdGlvbnM/LmZsb2F0ID09IHVuZGVmaW5lZCkgewogICAgICAvLyAgICAgcmV0dXJuIG51bGw7CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIGxldCBlID0gewogICAgICAvLyAgICAgICBjb250ZW50OiB7CiAgICAgIC8vICAgICAgICAgY29tcDogJ1ZJY29uJywKICAgICAgLy8gICAgICAgICBvcHRpb25zOiB7CiAgICAgIC8vICAgICAgICAgICAvLyBjbGFzczogJ3BhLTUgbXQtMTUnLAogICAgICAvLyAgICAgICAgICAgLy8gY2xhc3M6ICdtdC0xMCBwdC01JywKICAgICAgLy8gICAgICAgICAgIGh0bWw6ICFlbD8ub3B0aW9ucz8uZmxvYXQgPyAnbWRpLWRvY2std2luZG93JyA6ICdtZGktZnVsbHNjcmVlbi1leGl0JywKICAgICAgLy8gICAgICAgICAgIGhlYWRlcnM6ICdGbG9hdCBPdXRwdXQ6ICcsCiAgICAgIC8vICAgICAgICAgICAvLyBhdHRyczogeyB0aXRsZTogJ0Zsb2F0IE91dHB1dCcgfSwKICAgICAgLy8gICAgICAgICAgIG9uOiB7CiAgICAgIC8vICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgIC8vICAgICAgICAgICAgICAgYWxlcnQoIWVsPy5vcHRpb25zPy5mbG9hdCkKICAgICAgLy8gICAgICAgICAgICAgICBlbC5vcHRpb25zLmZsb2F0ID0gIWVsLm9wdGlvbnMuZmxvYXQvL2lucHV0VmFsCiAgICAgIC8vICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5rZXkgPSB0aGlzLnVwZGF0ZUtleShlbD8ub3B0aW9ucz8ua2V5KQogICAgICAvLyAgICAgICAgICAgICB9LAogICAgICAvLyAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICAgIC8vIH0sCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgICAuLi5lbD8ub3B0aW9ucz8uZmxvYXRDb250ZW50CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICAgIDsKICAgICAgLy8gICAgIHJldHVybiBoXygnV0JDJywgeyBjbGFzczogJ3B0LTE1JywgcHJvcHM6IHsgaXRlbTogZSB9IH0pOwogICAgICAvLyAgICAgLy8gcmV0dXJuIGhfKAogICAgICAvLyAgICAgLy8gICAnVkNoZWNrYm94JywKICAgICAgLy8gICAgIC8vICAgewogICAgICAvLyAgICAgLy8gICAgIC8vIGtleTogJ2Zsb2F0LScgKyB0aGlzLnVwZGF0ZUtleShlbD8ub3B0aW9ucz8ua2V5KSwKICAgICAgLy8gICAgIC8vICAgICBwcm9wczogewogICAgICAvLyAgICAgLy8gICAgICAgdmFsdWU6IGVsPy5vcHRpb25zPy5mbG9hdHx8ZmFsc2UsCiAgICAgIC8vICAgICAvLyAgICAgICBsYWJlbDogJ0Zsb2F0IE91dHB1dCcsCiAgICAgIC8vICAgICAvLyAgICAgICAnYXBwZW5kLWljb24nOiBlbD8ub3B0aW9ucz8uZmxvYXQ/J21kaS1waWN0dXJlLWluLXBpY3R1cmUtYm90dG9tLXJpZ2h0JzpudWxsCiAgICAgIC8vICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIC8vICAgICB2YWw6ICFlbD8ub3B0aW9ucz8uZmxvYXQsCiAgICAgIC8vICAgICAvLyAgICAgb246IHsKICAgICAgLy8gICAgIC8vICAgICAgIGNoYW5nZTogKGlucHV0VmFsKSA9PiB7CiAgICAgIC8vICAgICAvLyAgICAgICAgIGFsZXJ0KGlucHV0VmFsKQogICAgICAvLyAgICAgLy8gICAgICAgICBlbD8ub3B0aW9ucz8uZmxvYXQgPSAhZWw/Lm9wdGlvbnM/LmZsb2F0CiAgICAgIC8vICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICAvLyAgIH0sCiAgICAgIC8vICAgICAvLyAgIC8vIFsnT3V2ZXJ0L0Zlcm1lciddCiAgICAgIC8vICAgICAvLyApOwogICAgICAvLyAgIH0KICAgICAgLy8gfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vL21ha2Ugd2luZG93IGZsb2F0Ly8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8gZmxvYXQ6IGRpc3BsYXkgZmxvYXRpbmcgY2hlY2tib3ggb2YgbWFpbiBlbC8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vY2xvc2UvLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgZm9jdXNPbjogZnVuY3Rpb24gZm9jdXNPbihlbCwgaF8pIHsKICAgICAgICB2YXIgX2VsJG9wdGlvbnM3MSwgX2VsJG9wdGlvbnM3MiwgX2VsJG9wdGlvbnM3MywgX2VsJG9wdGlvbnM3NDsKICAgICAgICB2YXIgdm5vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgICAgICAgaWYgKCFlbCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIC8vIHJldHVybiBoXygnVkNvbnRhaW5lcicsIHsKICAgICAgICAvLyAgIHN0eWxlOiBlbD8ub3B0aW9ucz8uZmxvYXQKICAgICAgICAvLyAgICAgPyB7CiAgICAgICAgLy8gICAgICAgcG9zaXRpb246ICdmaXhlZCcsCiAgICAgICAgLy8gICAgICAgdG9wOiAnMyUgJywKICAgICAgICAvLyAgICAgICBsZWZ0OiAnMzAlJywKICAgICAgICAvLyAgICAgICAnei1pbmRleCc6ICcxMCcsCiAgICAgICAgLy8gICAgICAgaGVpZ2h0OiAnYXV0bycsCiAgICAgICAgLy8gICAgICAgd2lkdGg6ICdhdXRvJywKICAgICAgICAvLyAgICAgICBwYWRkaW5nOiAnMC44JScsCiAgICAgICAgLy8gICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy5vZmZzZXRYfXB4LCAke3RoaXMub2Zmc2V0WX1weClgLAogICAgICAgIC8vICAgICAgIGN1cnNvcjogdGhpcy5kcmFnZ2FibGUgPyAnZ3JhYmJpbmcnIDogJ2dyYWInLAogICAgICAgIC8vICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNGQUZBRkEnLAogICAgICAgIC8vICAgICAgIC4uLihlbD8ub3B0aW9ucz8ubW9kZSA9PSAnZGV2JwogICAgICAgIC8vICAgICAgICAgPyB7IGJvcmRlcjogYDVweCBkYXNoZWQgJHt0aGlzLnJDb2xvcn1gIH0KICAgICAgICAvLyAgICAgICAgIDoge30pLAoKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICA6IHt9LAogICAgICAgIC8vIH0sIFt0aGlzLmZsb2F0Q2xvc2VEcmFnKGVsLCBoXyksIHZub2RlLCB0aGlzLmZsb2F0KGVsLGhfKV0pOwoKICAgICAgICB2YXIgZmxvYXRTdHlsZSA9IHsKICAgICAgICAgIHBvc2l0aW9uOiAiZml4ZWQiLAogICAgICAgICAgdG9wOiAiMTMlICIsCiAgICAgICAgICBsZWZ0OiAiMzAlIiwKICAgICAgICAgICJ6LWluZGV4IjogIjEwIiwKICAgICAgICAgIGhlaWdodDogImF1dG8iLAogICAgICAgICAgd2lkdGg6ICI0MCUiLAogICAgICAgICAgcGFkZGluZzogIjEuOCUiLAogICAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlKCIuY29uY2F0KHRoaXMub2Zmc2V0WCwgInB4LCAiKS5jb25jYXQodGhpcy5vZmZzZXRZLCAicHgpIiksCiAgICAgICAgICBjdXJzb3I6IHRoaXMuZHJhZ2dhYmxlID8gImdyYWJiaW5nIiA6ICJncmFiIiwKICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNGQUZBRkEiLAogICAgICAgICAgYm9yZGVyOiAiNXB4IGRhc2hlZCAiLmNvbmNhdCh0aGlzLnJDb2xvciksCiAgICAgICAgICAvLyBSZXNpemFibGUgcHJvcGVydGllcwogICAgICAgICAgcmVzaXplOiAiYm90aCIsCiAgICAgICAgICAvLyBFbmFibGUgYm90aCBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCByZXNpemluZwogICAgICAgICAgb3ZlcmZsb3c6ICJhdXRvIiAvLyBNYWtlcyB0aGUgY29udGVudCBzY3JvbGxhYmxlLCBzbyByZXNpemUgd29ya3MgcHJvcGVybHkKICAgICAgICB9OwoKICAgICAgICAvLyBmbG9hdFN0eWxlID0ge30KICAgICAgICAvLyBsZXQgZmxvYXRDbG9zZURyYWdWTj0gaF8oJ1dCQycsIHsgcHJvcHM6IHsgaXRlbTogdGhpcy5mbG9hdENsb3NlRHJhZyhlbCwgaF8pIH0gfSkKCiAgICAgICAgdmFyIGhlYWRlciA9IFsiPH5WUm93fHBhLTIgbWItNSBkLWZsZXgganVzdGlmeS1lbmQgYWxpZ24tZW5kPiIsIHRoaXMuZmxvYXQoZWwsIGhfKV07CiAgICAgICAgaWYgKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNzEgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczcxICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM3MS5mbG9hdCkgewogICAgICAgICAgaGVhZGVyLnB1c2godGhpcy5kcmFnKGVsLCBoXyksIHRoaXMuY2xvc2UoZWwsIGhfKSk7CiAgICAgICAgfQogICAgICAgIHZhciB3YmNGb2N1c09uT2JqID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgIC8vIGNvbXA6ICdWUm93JywKCiAgICAgICAgICAgIGNsYXNzOiAicGEtMTUiLAogICAgICAgICAgICBrZXk6ICJrZXktIi5jb25jYXQoKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNzIgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczcyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczcyLmZsb2F0KSB8fCAiZmxvYXQiKSwKICAgICAgICAgICAgLy8gc3R5bGU6IGVsPy5vcHRpb25zPy5mbG9hdAogICAgICAgICAgICAvLyAgID8gZmxvYXRTdHlsZQoKICAgICAgICAgICAgc3R5bGU6IGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNzMgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczczICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM3My5mbG9hdCA/IGZsb2F0U3R5bGUgOiB7CiAgICAgICAgICAgICAgYm9yZGVyOiAiNXB4IGRhc2hlZCAiLmNvbmNhdCh0aGlzLnJDb2xvcikKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGNvbnRlbnQwOiBoZWFkZXIsCiAgICAgICAgICBjb250ZW50MTogdm5vZGUKICAgICAgICB9LCAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM3NCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNzQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNzQuZm9jdXNPbk9wdGlvbnMpIHx8IHt9KTsKCiAgICAgICAgLy8gaWYoZWw/Lm9wdGlvbnM/LmZsb2F0KQogICAgICAgIC8vIHt3YmNGb2N1c09uT2JqLm9wdGlvbnMub24gPSB7CiAgICAgICAgLy8gICBtb3VzZWRvd246IHRoaXMuc3RhcnREcmFnLAogICAgICAgIC8vICAgbW91c2Vtb3ZlOiAodikgPT4gdGhpcy5kb0RyYWcodiwgMC44KSwKICAgICAgICAvLyAgIG1vdXNldXA6IHRoaXMuZW5kRHJhZywKICAgICAgICAvLyB9CiAgICAgICAgLy8gfQogICAgICAgIC8vIGVsc2UgewoKICAgICAgICAvLyAgIHdiY0ZvY3VzT25PYmoub3B0aW9ucy5vbiA9IHt9CiAgICAgICAgLy8gfQoKICAgICAgICByZXR1cm4gaF8oIldCQyIsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGl0ZW06IHdiY0ZvY3VzT25PYmoKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZmxvYXQ6IGZ1bmN0aW9uIGZsb2F0KGVsLCBoXykgewogICAgICAgIHZhciBfZWwkb3B0aW9uczc1LCBfZWwkb3B0aW9uczc2LCBfZWwkb3B0aW9uczc3OwogICAgICAgIGlmICh0eXBlb2YgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zNzUgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczc1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczc1LmZsb2F0KSAhPSAiYm9vbGVhbiIpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICAvLyBpZiAoZWw/Lm9wdGlvbnM/Lm1vZGUgPT0gJ2RldicpIHsKICAgICAgICAvLyAgIGVsLm9wdGlvbnMuY2xvc2UgPSBlbD8ub3B0aW9ucz8uY2xvc2UgfHwgdHJ1ZTsKICAgICAgICAvLyB9CgogICAgICAgIHZhciBmbG9hdEljb24gPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIGNvbnRlbnQ6IHsKICAgICAgICAgICAgY29tcDogIlZJY29uIiwKICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogIkZsb2F0IE91dHB1dCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNsYXNzOiAiIHBhLTIiLAogICAgICAgICAgICAgIC8vIGNsYXNzOiAncGEtMiBtdC0xNScsCiAgICAgICAgICAgICAgLy8gY2xhc3M6ICdtdC0xMCBwdC01JywKICAgICAgICAgICAgICBodG1sOiAhKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zNzYgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczc2ICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM3Ni5mbG9hdCkgPyAibWRpLWRvY2std2luZG93IiA6ICJtZGktZnVsbHNjcmVlbi1leGl0IiwKICAgICAgICAgICAgICAvLyBoZWFkZXJzOiAnRmxvYXQgT3V0cHV0OiAnLAogICAgICAgICAgICAgIC8vIGF0dHJzOiB7IHRpdGxlOiAnRmxvYXQgT3V0cHV0JyB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCFlbD8ub3B0aW9ucz8uZmxvYXQpCiAgICAgICAgICAgICAgICAgIGVsLm9wdGlvbnMuZmxvYXQgPSAhZWwub3B0aW9ucy5mbG9hdDsgLy9pbnB1dFZhbAogICAgICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zLmtleSA9IHRoaXMudXBkYXRlS2V5KGVsPy5vcHRpb25zPy5rZXkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczc3ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM3NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM3Ny5mbG9hdENvbnRlbnQpOwogICAgICAgIHJldHVybiBoXygiV0JDIiwgewogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgaXRlbTogZmxvYXRJY29uCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShlbCwgaF8pIHsKICAgICAgICB2YXIgX2VsJG9wdGlvbnM3OCwgX2VsJG9wdGlvbnM3OTsKICAgICAgICBpZiAodHlwZW9mIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczc4ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM3OCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM3OC5jbG9zZSkgIT0gImJvb2xlYW4iKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vCiAgICAgICAgdmFyIGNsb3NlSWNvbiA9IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgY29udGVudDogewogICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgY29tcDogIlZJY29uIiwKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgdGl0bGU6ICJDbG9zZSB3aW5kb3ciCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjbGFzczogIiBwYS0yIiwKICAgICAgICAgICAgICBodG1sOiAibWRpLWNsb3NlLWJveC1vdXRsaW5lIiwKICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgICAgICAvLyBhbGVydCgnY2xvc2VkJykKICAgICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5oZWFkZXJzPSdkZGRkZGRkZGRkZGRkZGRkZGRkJwogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zWyJoaWRlIl0gPSB0cnVlOwogICAgICAgICAgICAgICAgICBlbC5vcHRpb25zLmNsb3NlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM3OSA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zNzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zNzkuY2xvc2VDb250ZW50KTsKICAgICAgICByZXR1cm4gaF8oIldCQyIsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGl0ZW06IGNsb3NlSWNvbgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBkcmFnOiBmdW5jdGlvbiBkcmFnKGVsLCBoXykgewogICAgICAgIHZhciBfZWwkb3B0aW9uczgwLAogICAgICAgICAgX3RoaXMxMiA9IHRoaXMsCiAgICAgICAgICBfZWwkb3B0aW9uczgxLAogICAgICAgICAgX2VsJG9wdGlvbnM4MjsKICAgICAgICBpZiAodHlwZW9mIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczgwID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM4MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM4MC5kcmFnKSAhPSAiYm9vbGVhbiIpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgICAgdmFyIG9uID0gewogICAgICAgICAgbW91c2Vkb3duOiB0aGlzLnN0YXJ0RHJhZywKICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gbW91c2Vtb3ZlKHYpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIuZG9EcmFnKHYsIDAuOCk7CiAgICAgICAgICB9LAogICAgICAgICAgbW91c2xlYXZlOiB0aGlzLmVuZERyYWcKICAgICAgICB9OwogICAgICAgIHZhciBkcmFnSWNvbiA9IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgY29udGVudDogewogICAgICAgICAgICBjb21wOiAiVkljb24iLAogICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiRHJhZyB3aW5kb3ciCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjbGFzczogIiBwYS0yIiwKICAgICAgICAgICAgICAvLyBodG1sOiAnbWRpLWN1cnNvci1tb3ZlJywKICAgICAgICAgICAgICBodG1sOiAibWRpLWRyYWciLAogICAgICAgICAgICAgIG9uOiBfb2JqZWN0U3ByZWFkKHt9LCBlbCAhPT0gbnVsbCAmJiBlbCAhPT0gdm9pZCAwICYmIChfZWwkb3B0aW9uczgxID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM4MSAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zODEuZHJhZyA/IG9uIDoge30pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczgyID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM4MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM4Mi5kcmFnQ29udGVudCk7CiAgICAgICAgcmV0dXJuIGhfKCJXQkMiLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBpdGVtOiBkcmFnSWNvbgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyAgIC8vIGlmIChlbD8ub3B0aW9ucz8ubW9kZSA9PSAnZGV2JykgewogICAgICAvLyAgIC8vICAgZWwub3B0aW9ucy5nQ2xvc2UgPSBlbD8ub3B0aW9ucz8uZ0Nsb3NlIHx8IHRydWU7CiAgICAgIC8vICAgLy8gfQogICAgICAvLyAgIGlmICghZWwgfHwgIWVsPy5vcHRpb25zPy5nQ2xvc2UgKSB7CiAgICAgIC8vICAgICByZXR1cm4gbnVsbDsKICAgICAgLy8gICB9IGVsc2UgewogICAgICAvLyAgICAgZWwgPSB0aGlzLml0ZW1fOwogICAgICAvLyAgICAgbGV0IHdiY0dDbG9zZU9iaiA9IHsKICAgICAgLy8gICAgICAgb3B0aW9uczogewogICAgICAvLyAgICAgICAgIGNsYXNzOiAnIG1iLTEwIHBiLTUnLAogICAgICAvLyAgICAgICAgIC8vIHN0eWxlOiB7CiAgICAgIC8vICAgICAgICAgLy8gICBkaXNwbGF5OiAnYmxvY2snLAogICAgICAvLyAgICAgICAgIC8vICAgLy8gJ2FsaWduLXNlbGYnOiAnZmxleC10b3AnLAogICAgICAvLyAgICAgICAgIC8vICAgbWFyZ2luOiAnLTElJywKICAgICAgLy8gICAgICAgICAvLyAgIGZsb2F0OiAncmlnaHQnLAogICAgICAvLyAgICAgICAgIC8vIH0sCiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICAgIGNvbnRlbnQ6IHsKICAgICAgLy8gICAgICAgICBjb21wOiAnVkljb24nLAogICAgICAvLyAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgLy8gICAgICAgICAgIC8vIGNsYXNzOidyZWQnLAogICAgICAvLyAgICAgICAgICAgaHRtbDogJ21kaS1jbG9zZS1ib3gnLAogICAgICAvLyAgICAgICAgICAgc3R5bGU6IHsKICAgICAgLy8gICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJywKICAgICAgLy8gICAgICAgICAgICAgLy8gJ2FsaWduLXNlbGYnOiAnZmxleC10b3AnLAogICAgICAvLyAgICAgICAgICAgICBtYXJnaW46ICctMSUnLAogICAgICAvLyAgICAgICAgICAgICBmbG9hdDogJ3JpZ2h0JywKICAgICAgLy8gICAgICAgICAgIH0sCiAgICAgIC8vICAgICAgICAgICBvbjogewogICAgICAvLyAgICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAvLyAgICAgICAgICAgICAgIGFsZXJ0KCdjbG9zZWQnKQogICAgICAvLyAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMuaGVhZGVycz0nZGRkZGRkZGRkZGRkZGRkZGRkZCcKICAgICAgLy8gICAgICAgICAgICAgICAvLyBlbC5vcHRpb25zWydoaWRlJ10gPSB0cnVlOwogICAgICAvLyAgICAgICAgICAgICAgIGVsLm9wdGlvbnMuZ0Nsb3NlID0gbnVsbDsKICAgICAgLy8gICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICAgIH0sCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgICAuLi5lbD8ub3B0aW9ucz8uZ0Nsb3NlT3B0aW9ucyB8fCB7fQogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgcmV0dXJuIGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHdiY0dDbG9zZU9iaiB9IH0pOwogICAgICAvLyAgIH0KICAgICAgLy8gfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy9nQ2xvc2UvLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgZ2xvYmFsRm9jdXNPbjogZnVuY3Rpb24gZ2xvYmFsRm9jdXNPbihlbCwgaF8pIHsKICAgICAgICB2YXIgX2VsJG9wdGlvbnM4MywgX2VsJG9wdGlvbnM4NCwgX2VsJG9wdGlvbnM4NSwgX2VsJG9wdGlvbnM4NjsKICAgICAgICB2YXIgdm5vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgICAgICAgaWYgKCFlbCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHZhciBoZWFkZXIgPSBbIjx+VlJvd3xwYS0yIG1iLTUgZC1mbGV4IGp1c3RpZnktZW5kIGFsaWduLWVuZD4iLCB0aGlzLmdGbG9hdChlbCwgaF8pIC8qICwgdGhpcy5nRHJhZyhlbCwgaF8pLCB0aGlzLmdDbG9zZShlbCwgaF8pICovXTsKICAgICAgICBpZiAoZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiAoX2VsJG9wdGlvbnM4MyA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zODMgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczgzLmdGbG9hdCkgewogICAgICAgICAgaGVhZGVyLnB1c2godGhpcy5nRHJhZyhlbCwgaF8pLCB0aGlzLmdDbG9zZShlbCwgaF8pKTsKICAgICAgICB9CiAgICAgICAgdmFyIGhlYWRlclZOID0gaF8oIldCQyIsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGl0ZW06IGhlYWRlcgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBoXygiVkNvbnRhaW5lciIsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgc3R5bGU6IGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zODQgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczg0ICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM4NC5nRmxvYXQgPyBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgcG9zaXRpb246ICJmaXhlZCIsCiAgICAgICAgICAgIHRvcDogIjEwJSAiLAogICAgICAgICAgICBsZWZ0OiAiMzAlIiwKICAgICAgICAgICAgInotaW5kZXgiOiAiMTAiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MCUiLAogICAgICAgICAgICB3aWR0aDogIjUwJSIsCiAgICAgICAgICAgIHBhZGRpbmc6ICIwLjglIiwKICAgICAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlKCIuY29uY2F0KHRoaXMub2Zmc2V0WCwgInB4LCAiKS5jb25jYXQodGhpcy5vZmZzZXRZLCAicHgpIiksCiAgICAgICAgICAgIGN1cnNvcjogdGhpcy5kcmFnZ2FibGUgPyAiZ3JhYmJpbmciIDogImdyYWIiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRkFGQUZBIiwKICAgICAgICAgICAgb3ZlcmZsb3c6ICJhdXRvIgogICAgICAgICAgfSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zODUgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczg1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczg1Lm1vZGUpID09ICJkZXYiID8gewogICAgICAgICAgICBib3JkZXI6ICI1cHggZGFzaGVkICIuY29uY2F0KHRoaXMuckNvbG9yKQogICAgICAgICAgfSA6IHt9KSA6IHt9CiAgICAgICAgfSwgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zODYgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczg2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczg2LmdGbG9hdE9wdGlvbnMpIHx8IHt9KSwgW2hlYWRlclZOLCB2bm9kZV0pOwogICAgICB9LAogICAgICBnRmxvYXQ6IGZ1bmN0aW9uIGdGbG9hdChlbCwgaF8pIHsKICAgICAgICB2YXIgX2VsJG9wdGlvbnM4NywgX2VsJG9wdGlvbnM4OCwgX2VsJG9wdGlvbnM5MDsKICAgICAgICBpZiAodHlwZW9mIChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczg3ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM4NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM4Ny5nRmxvYXQpICE9ICJib29sZWFuIikgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHZhciBnRmxvYXRJY29uID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICBjb250ZW50OiB7CiAgICAgICAgICAgIGRpdmU6IHRydWUsCiAgICAgICAgICAgIGNvbXA6ICJWSWNvbiIsCiAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgdGl0bGU6ICJmbG9hdCBnbG9iYWwgd2luZG93IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICIgZm9udC13ZWlnaHQtYm9sZCBwYS0yIiwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgY29sb3I6ICJibGFjayIsCiAgICAgICAgICAgICAgICBsYXJnZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGRhcms6IHRydWUKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIC8vIGNsYXNzOiAncGEtMiBtdC0xNScsCiAgICAgICAgICAgICAgLy8gY2xhc3M6ICdtdC0xMCBwdC01JywKICAgICAgICAgICAgICBodG1sOiAoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM4OCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zODggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zODguZ0Zsb2F0KSAhPSB0cnVlID8gIm1kaS1kb2NrLXdpbmRvdyIgOiAibWRpLWZ1bGxzY3JlZW4tZXhpdCIsCiAgICAgICAgICAgICAgLy8gaGVhZGVyczogJ2dGbG9hdCBPdXRwdXQ6ICcsCiAgICAgICAgICAgICAgLy8gYXR0cnM6IHsgdGl0bGU6ICdnRmxvYXQgT3V0cHV0JyB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2sodGhhdCwgZXZ0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZWwkb3B0aW9uczg5OwogICAgICAgICAgICAgICAgICAvLyBhbGVydCghZWw/Lm9wdGlvbnM/LmdGbG9hdCkKICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5nRmxvYXQgPSAhZWwub3B0aW9ucy5nRmxvYXQ7IC8vaW5wdXRWYWwKICAgICAgICAgICAgICAgICAgdGhhdC5kYXRhLm9wdGlvbnMuaHRtbCA9IChlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczg5ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM4OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM4OS5nRmxvYXQpICE9IHRydWUgPyAibWRpLWRvY2std2luZG93IiA6ICJtZGktZnVsbHNjcmVlbi1leGl0IjsKICAgICAgICAgICAgICAgICAgLy8gZWwub3B0aW9ucy5rZXkgPSB0aGlzLnVwZGF0ZUtleShlbD8ub3B0aW9ucz8ua2V5KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyB9LAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHRyYWNrZXI6IHRoYXQgPT4gewogICAgICAgICAgICAvLyAgIHRoYXQuZGF0YS5vcHRpb25zLmh0bWwgPSBlbD8ub3B0aW9ucz8uZ0Zsb2F0ID09IHRydWUgPyAnbWRpLWRvY2std2luZG93JyA6ICdtZGktZnVsbHNjcmVlbi1leGl0JwogICAgICAgICAgICAvLyB9CiAgICAgICAgICB9CiAgICAgICAgfSwgZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM5MCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zOTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zOTAuZ0Zsb2F0Q29udGVudCk7CiAgICAgICAgcmV0dXJuIGhfKCJXQkMiLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBpdGVtOiBnRmxvYXRJY29uCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdDbG9zZTogZnVuY3Rpb24gZ0Nsb3NlKGVsLCBoXykgewogICAgICAgIHZhciBfZWwkb3B0aW9uczkxLCBfZWwkb3B0aW9uczkyLCBfZWwkb3B0aW9uczkzOwogICAgICAgIGlmICh0eXBlb2YgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zOTEgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczkxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczkxLmdDbG9zZSkgIT0gImJvb2xlYW4iKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgaWYgKCFlbCB8fCAhKGVsICE9PSBudWxsICYmIGVsICE9PSB2b2lkIDAgJiYgKF9lbCRvcHRpb25zOTIgPSBlbC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfZWwkb3B0aW9uczkyICE9PSB2b2lkIDAgJiYgX2VsJG9wdGlvbnM5Mi5nQ2xvc2UpKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vCiAgICAgICAgdmFyIGdDbG9zZUljb24gPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIGNvbnRlbnQ6IHsKICAgICAgICAgICAgY29tcDogIlZJY29uIiwKICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgIC8vIGNsYXNzOidyZWQnLAogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogImJsYWNrIiwKICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLAogICAgICAgICAgICAgICAgZGFyazogdHJ1ZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgaHRtbDogIm1kaS1jbG9zZS1ib3giLAogICAgICAgICAgICAgIGNsYXNzOiAiIHBhLTIiLAogICAgICAgICAgICAgIC8vIHN0eWxlOiB7CiAgICAgICAgICAgICAgLy8gICBkaXNwbGF5OiAnYmxvY2snLAogICAgICAgICAgICAgIC8vICAgLy8gJ2FsaWduLXNlbGYnOiAnZmxleC10b3AnLAogICAgICAgICAgICAgIC8vICAgbWFyZ2luOiAnLTElJywKICAgICAgICAgICAgICAvLyAgIGZsb2F0OiAncmlnaHQnLAogICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJ2Nsb3NlZCcpCiAgICAgICAgICAgICAgICAgIC8vIGVsLm9wdGlvbnMuaGVhZGVycz0nZGRkZGRkZGRkZGRkZGRkZGRkZCcKICAgICAgICAgICAgICAgICAgLy8gZWwub3B0aW9uc1snaGlkZSddID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgZWwub3B0aW9ucy5nQ2xvc2UgPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zOTMgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczkzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczkzLmdDbG9zZUNvbnRlbnQpOwogICAgICAgIHJldHVybiBoXygiV0JDIiwgewogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgaXRlbTogZ0Nsb3NlSWNvbgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBnRHJhZzogZnVuY3Rpb24gZ0RyYWcoZWwsIGhfKSB7CiAgICAgICAgdmFyIF9lbCRvcHRpb25zOTQsCiAgICAgICAgICBfdGhpczEzID0gdGhpcywKICAgICAgICAgIF9lbCRvcHRpb25zOTUsCiAgICAgICAgICBfZWwkb3B0aW9uczk2OwogICAgICAgIGlmICh0eXBlb2YgKGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zOTQgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczk0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczk0LmdEcmFnKSAhPSAiYm9vbGVhbiIpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgICAgdmFyIG9uID0gewogICAgICAgICAgbW91c2Vkb3duOiB0aGlzLnN0YXJ0RHJhZywKICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gbW91c2Vtb3ZlKHYpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuZG9EcmFnKHYsIDAuOCk7CiAgICAgICAgICB9LAogICAgICAgICAgbW91c2xlYXZlOiB0aGlzLmVuZERyYWcKICAgICAgICB9OwogICAgICAgIHZhciBnRHJhZ0ljb24gPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIGNvbnRlbnQ6IHsKICAgICAgICAgICAgY29tcDogIlZJY29uIiwKICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogImJsYWNrIiwKICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLAogICAgICAgICAgICAgICAgZGFyazogdHJ1ZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiRHJhZyBnbG9iYWwgd2luZG93IgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xhc3M6ICIgcGEtMiIsCiAgICAgICAgICAgICAgLy8gaHRtbDogJ21kaS1jdXJzb3ItbW92ZScsCiAgICAgICAgICAgICAgaHRtbDogIm1kaS1kcmFnIiwKICAgICAgICAgICAgICBvbjogX29iamVjdFNwcmVhZCh7fSwgZWwgIT09IG51bGwgJiYgZWwgIT09IHZvaWQgMCAmJiAoX2VsJG9wdGlvbnM5NSA9IGVsLm9wdGlvbnMpICE9PSBudWxsICYmIF9lbCRvcHRpb25zOTUgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczk1LmdEcmFnID8gb24gOiB7fSkKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zOTYgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczk2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczk2LmdEcmFnQ29udGVudCk7CiAgICAgICAgcmV0dXJuIGhfKCJXQkMiLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBpdGVtOiBnRHJhZ0ljb24KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vL3diY1N5bjogd2JjIGNvbXBvbmVudCBzeW50YXgvLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgd2JjU3luOiBmdW5jdGlvbiB3YmNTeW4oZWwsIGhfKSB7CiAgICAgICAgdmFyIF9lbCRvcHRpb25zOTcsIF9lbCRvcHRpb25zOTgsIF9lbCRvcHRpb25zOTksIF93YmNTeW5EZWZhdWx0MywgX2VsJG9wdGlvbnMxMDAsIF93YmNTeW5EZWZhdWx0NCwgX2VsJG9wdGlvbnMxMDEsIF93YmNTeW5EZWZhdWx0NSwgX2VsJG9wdGlvbnMxMDIsIF93YmNTeW5EZWZhdWx0NiwgX2VsJG9wdGlvbnMxMDMsIF93YmNTeW5EZWZhdWx0NzsKICAgICAgICB2YXIgd2JjU3luRGVmYXVsdCA9IHt9OwogICAgICAgIGlmICghKChfZWwkb3B0aW9uczk3ID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnM5NyAhPT0gdm9pZCAwICYmIF9lbCRvcHRpb25zOTcud2JjU3luKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIGlmICgoZWwgPT09IG51bGwgfHwgZWwgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnM5OCA9IGVsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zOTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zOTgud2JjU3luKSA9PT0gdHJ1ZSkgewogICAgICAgICAgd2JjU3luRGVmYXVsdCA9IHsKICAgICAgICAgICAgd3JhcDogewogICAgICAgICAgICAgIGNvbXA6ICJWQ29sIiwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciBwYS01IG1hLTUiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnJDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICBjb21wOiAiaDIiLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIGNsYXNzOiAicGEtMiB0ZXh0LWNlbnRlciIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvbnRlbnQ6ICJXQkMgQ29kZSBzb3VyY2UiCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHZhciB3YmNJdGVtVG9FeGNsdWRlcyA9IFsibWFpblJlbmRlciIsICJjbG9zZSIsICJmbG9hdCIsICJhbGxPcHRpb25zIiwgIndiY1Byb3BzIiwgImhBdHRycyIsICJ2QXR0cnMiLCAiaXRlbVNyYyIsICJodG1sU3JjIiwgIndiY1N5biIsICJ2UHJvcHMiXTsKICAgICAgICB2YXIgd2JjU3luSXRlbUF0dHJzID0gT2JqZWN0LmtleXMoZWwub3B0aW9ucykuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIXdiY0l0ZW1Ub0V4Y2x1ZGVzLmluY2x1ZGVzKGUpOwogICAgICAgIH0pLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBfZWwkb3B0aW9ucyR3YmNTeW4sIF93YmNTeW5EZWZhdWx0LCBfZWwkb3B0aW9ucyR3YmNTeW4yLCBfd2JjU3luRGVmYXVsdDI7CiAgICAgICAgICBpZiAoZWwub3B0aW9uc1tlXSkgcmV0dXJuIGhfKCgoX2VsJG9wdGlvbnMkd2JjU3luID0gZWwub3B0aW9ucy53YmNTeW4pID09PSBudWxsIHx8IF9lbCRvcHRpb25zJHdiY1N5biA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyR3YmNTeW4gPSBfZWwkb3B0aW9ucyR3YmNTeW4uaXRlbXMpID09PSBudWxsIHx8IF9lbCRvcHRpb25zJHdiY1N5biA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkd2JjU3luLmNvbXApIHx8ICgoX3diY1N5bkRlZmF1bHQgPSB3YmNTeW5EZWZhdWx0KSA9PT0gbnVsbCB8fCBfd2JjU3luRGVmYXVsdCA9PT0gdm9pZCAwIHx8IChfd2JjU3luRGVmYXVsdCA9IF93YmNTeW5EZWZhdWx0Lml0ZW1zKSA9PT0gbnVsbCB8fCBfd2JjU3luRGVmYXVsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1N5bkRlZmF1bHQuY29tcCkgfHwgInNwYW4iLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbCRvcHRpb25zJHdiY1N5bjIgPSBlbC5vcHRpb25zLndiY1N5bikgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkd2JjU3luMiA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9ucyR3YmNTeW4yID0gX2VsJG9wdGlvbnMkd2JjU3luMi5pdGVtcykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMkd2JjU3luMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMkd2JjU3luMi5vcHRpb25zKSB8fCAoKF93YmNTeW5EZWZhdWx0MiA9IHdiY1N5bkRlZmF1bHQpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0MiA9PT0gdm9pZCAwIHx8IChfd2JjU3luRGVmYXVsdDIgPSBfd2JjU3luRGVmYXVsdDIuaXRlbXMpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1N5bkRlZmF1bHQyLm9wdGlvbnMpIHx8IHt9KSwgW2hfKCJzcGFuIiwgewogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAiIzQyYjk4MyIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgIiA6Ii5jb25jYXQoZSwgIj0iKSksICInIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZWwub3B0aW9uc1tlXSksICInICIpXSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGVsbCA9IHRoaXMuY2xvbmUoZWwpOwogICAgICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGUpICE9ICJkZXYiKSB7CiAgICAgICAgICB2YXIgX2VsbCRvcHRpb25zLCBfZWxsJG9wdGlvbnMyLCBfZWxsJG9wdGlvbnMzLCBfZWxsJG9wdGlvbnM0LCBfZWxsJG9wdGlvbnM1LCBfZWxsJG9wdGlvbnM2LCBfZWxsJG9wdGlvbnM3LCBfZWxsJG9wdGlvbnM4LCBfZWxsJG9wdGlvbnM5LCBfZWxsJG9wdGlvbnMxMCwgX2VsbCRvcHRpb25zMTEsIF9lbGwkb3B0aW9uczEyLCBfZWxsJG9wdGlvbnMxMywgX2VsbCRvcHRpb25zMTQsIF9lbGwkb3B0aW9uczE1LCBfZWxsJG9wdGlvbnMxNiwgX2VsbCRvcHRpb25zMTcsIF9lbGwkb3B0aW9uczE4LCBfZWxsJG9wdGlvbnMxOSwgX2VsbCRvcHRpb25zMjAsIF9lbGwkb3B0aW9uczIxLCBfZWxsJG9wdGlvbnMyMiwgX2VsbCRvcHRpb25zMjMsIF9lbGwkb3B0aW9uczI0LCBfZWxsJG9wdGlvbnMyNSwgX2VsbCRvcHRpb25zMjYsIF9lbGwkb3B0aW9uczI3LCBfZWxsJG9wdGlvbnMyOCwgX2VsbCRvcHRpb25zMjksIF9lbGwkb3B0aW9uczMwLCBfZWxsJG9wdGlvbnMzMSwgX2VsbCRvcHRpb25zMzIsIF9lbGwkb3B0aW9uczMzOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBlbGwub3V0cHV0OwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBlbGwuYXNDaGlsZDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9ucyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnMuaXRlbVNyYzsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMiA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnMyID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczIucmF3OwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnMzID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczMgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMy5yYXcwOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM0ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczQgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNC5hbGxPcHRpb25zOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM1ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczUgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNS5nQXR0cnM7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczYgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNiA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2LmhBdHRyczsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM3ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczcudlByb3BzOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM4ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczggPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zOC5odG1sU3JjOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM5ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczkgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zOS53YmNTcmM7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczEwID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczEwID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczEwLndiY1N5bjsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMTEgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMTEgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMTEud2JjUHJvcHM7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczEyID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczEyID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczEyLmdsb2JhbEh0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczEzID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczEzID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczEzLmV4dGVybmFsSHRtbDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMTQgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMTQgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMTQubGlua0h0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczE1ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczE1ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczE1LnJhd0h0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczE2ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczE2ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczE2Lm1haW5IdG1sOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnMxNyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnMxNyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnMxNy5tZW51SHRtbDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMTggPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMTggPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMTgud3JhcEh0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczE5ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczE5ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczE5LmFsbDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMjAgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMjAgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMjAuY2xvc2U7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczIxID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczIxID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczIxLmNsb3NlQ29udGVudDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMjIgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMjIgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMjIuZmxvYXQ7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczIzID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczIzID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczIzLmZsb2F0Q29udGVudDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMjQgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMjQgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMjQuZHJhZzsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMjUgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMjUgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMjUuZHJhZ0NvbnRlbnQ7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczI2ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczI2ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczI2LmZvY3VzT25PcHRpb25zOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnMyNyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnMyNyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnMyNy5leHRlcm5hbEh0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczI4ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczI4ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczI4Lmdsb2JhbDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMjkgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMjkgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMjkuaXNWYWxpZDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMzAgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMzAgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMzAubGlua0h0bWw7CiAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczMxID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczMxID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczMxLm1haW5IdG1sOwogICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnMzMiA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnMzMiA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnMzMi5tZW51SHRtbDsKICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMzMgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMzMgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMzMubW9kZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtoXygoKF9lbCRvcHRpb25zOTkgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczk5ID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zOTkgPSBfZWwkb3B0aW9uczk5LndiY1N5bikgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM5OSA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczk5ID0gX2VsJG9wdGlvbnM5OS50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnM5OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnM5OS5jb21wKSB8fCAoKF93YmNTeW5EZWZhdWx0MyA9IHdiY1N5bkRlZmF1bHQpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0MyA9PT0gdm9pZCAwIHx8IChfd2JjU3luRGVmYXVsdDMgPSBfd2JjU3luRGVmYXVsdDMudGl0bGUpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1N5bkRlZmF1bHQzLmNvbXApIHx8ICJoNCIsIF9vYmplY3RTcHJlYWQoe30sICgoX2VsJG9wdGlvbnMxMDAgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEwMCA9PT0gdm9pZCAwIHx8IChfZWwkb3B0aW9uczEwMCA9IF9lbCRvcHRpb25zMTAwLndiY1N5bikgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDAgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMDAgPSBfZWwkb3B0aW9uczEwMC50aXRsZSkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTAwLm9wdGlvbnMpIHx8ICgoX3diY1N5bkRlZmF1bHQ0ID0gd2JjU3luRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY1N5bkRlZmF1bHQ0ID09PSB2b2lkIDAgfHwgKF93YmNTeW5EZWZhdWx0NCA9IF93YmNTeW5EZWZhdWx0NC50aXRsZSkgPT09IG51bGwgfHwgX3diY1N5bkRlZmF1bHQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2JjU3luRGVmYXVsdDQub3B0aW9ucykgfHwge30pLCAoKF9lbCRvcHRpb25zMTAxID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDEgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMDEgPSBfZWwkb3B0aW9uczEwMS53YmNTeW4pID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTAxID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTAxID0gX2VsJG9wdGlvbnMxMDEudGl0bGUpID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTAxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkb3B0aW9uczEwMS5jb250ZW50KSB8fCAoKF93YmNTeW5EZWZhdWx0NSA9IHdiY1N5bkRlZmF1bHQpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0NSA9PT0gdm9pZCAwIHx8IChfd2JjU3luRGVmYXVsdDUgPSBfd2JjU3luRGVmYXVsdDUudGl0bGUpID09PSBudWxsIHx8IF93YmNTeW5EZWZhdWx0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3diY1N5bkRlZmF1bHQ1LmNvbnRlbnQpIHx8ICJHbG9iYWwgQXR0cmlidXRlcyIpLCBoXygoKF9lbCRvcHRpb25zMTAyID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDIgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMDIgPSBfZWwkb3B0aW9uczEwMi53YmNTeW4pID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTAyID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTAyID0gX2VsJG9wdGlvbnMxMDIud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTAyLmNvbXApIHx8ICgoX3diY1N5bkRlZmF1bHQ2ID0gd2JjU3luRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY1N5bkRlZmF1bHQ2ID09PSB2b2lkIDAgfHwgKF93YmNTeW5EZWZhdWx0NiA9IF93YmNTeW5EZWZhdWx0Ni53cmFwKSA9PT0gbnVsbCB8fCBfd2JjU3luRGVmYXVsdDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93YmNTeW5EZWZhdWx0Ni5jb21wKSB8fCAiVkNhcmQiLCBfb2JqZWN0U3ByZWFkKHt9LCAoKF9lbCRvcHRpb25zMTAzID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDMgPT09IHZvaWQgMCB8fCAoX2VsJG9wdGlvbnMxMDMgPSBfZWwkb3B0aW9uczEwMy53YmNTeW4pID09PSBudWxsIHx8IF9lbCRvcHRpb25zMTAzID09PSB2b2lkIDAgfHwgKF9lbCRvcHRpb25zMTAzID0gX2VsJG9wdGlvbnMxMDMud3JhcCkgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTAzLm9wdGlvbnMpIHx8ICgoX3diY1N5bkRlZmF1bHQ3ID0gd2JjU3luRGVmYXVsdCkgPT09IG51bGwgfHwgX3diY1N5bkRlZmF1bHQ3ID09PSB2b2lkIDAgfHwgKF93YmNTeW5EZWZhdWx0NyA9IF93YmNTeW5EZWZhdWx0Ny53cmFwKSA9PT0gbnVsbCB8fCBfd2JjU3luRGVmYXVsdDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93YmNTeW5EZWZhdWx0Ny5vcHRpb25zKSB8fCB7fSksIFtoXygiVkNhcmQiLCB7fSwgW2hfKCJjb2RlIiwge30sIFtoXygic3BhbiIsIHsKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAiI2ZjMWU3MCIKICAgICAgICAgIH0KICAgICAgICB9LCBbIjxXQkMiXSksIGhfKCJzcGFuIiwge30sIFsiOml0ZW09XCJpdGVtXCIiXSksCiAgICAgICAgLy8gd2JjU3luSXRlbUF0dHJzLAogICAgICAgIGhfKCJzcGFuIiwgewogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjZmMxZTcwIgogICAgICAgICAgfQogICAgICAgIH0sICI+IiksIGhfKCJzcGFuIiwgewogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICIjZmMxZTcwIgogICAgICAgICAgfQogICAgICAgIH0sIFsiPC9XQkM+Il0pXSldKSwgIldoZXJlIGl0ZW0gaXMgZ2l2ZW4gYnk6IiwgaF8oIkpzb25WaWV3ZXIiLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICB2YWx1ZTogZWxsCiAgICAgICAgICB9CiAgICAgICAgfSldKV07CiAgICAgIH0sCiAgICAgIHRvV0JDXzogZnVuY3Rpb24gdG9XQkNfKGVsLCBoXywgZXh0ZXJuYWxDaGlsZHJlbiwgZXh0ZXJuYWxXcmFwcGVyT2JqKSB7CiAgICAgICAgdmFyIF90aGlzMTQgPSB0aGlzLAogICAgICAgICAgX29wdGlvbnM1MCwKICAgICAgICAgIF9vcHRpb25zNjAsCiAgICAgICAgICBfb3B0aW9uczYxLAogICAgICAgICAgX29wdGlvbnM2MiwKICAgICAgICAgIF9lbDk1LAogICAgICAgICAgX29wdGlvbnM2MywKICAgICAgICAgIF9vcHRpb25zMTAwLAogICAgICAgICAgX29wdGlvbnMxMDEsCiAgICAgICAgICBfb3B0aW9uczEwMiwKICAgICAgICAgIF9vcHRpb25zMTAzOwogICAgICAgIGlmICghdGhpcy5pc05vbkVtcHR5KGVsKSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICAvLyBjb25zb2xlLmxvZygnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxlbCkKICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgaXMgYW4gZXhjZXB0aW9uIG1lc3NhZ2UnKTsKCiAgICAgICAgLy8gdG9XQkNfKGhfKSB7CgogICAgICAgIC8vIGlmIChlbCBpbnN0YW5jZW9mIE9iamVjdCkgewoKICAgICAgICAvLyAJLy8gaWYgKGVsPy5vcHRpb25zKSB7IGVsLm9wdGlvbnMuaXNWYWxpZCA9IHRoaXMuaW50ZXJuYWxWYWx1ZUlzVmFsaWQ7IH0KCiAgICAgICAgLy8gCWlmIChlbD8udHJhY2tlcikgewogICAgICAgIC8vIAkJLy8gY29uc29sZS5sb2coJ3RoaXMuaXRlbV8/LnRyYWNrZXInLHRoaXMuaXRlbV8pCiAgICAgICAgLy8gCQllbC50cmFja2VyKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgIC8vIAl9CgogICAgICAgIC8vIH0KCiAgICAgICAgLy8gbGV0IGVsPXRoaXMuaXRlbV8KICAgICAgICAvLyBsZXQgZXh0ZXJuYWxDaGlsZHJlbiA9dGhpcy5jaGlsZHJlbl8KICAgICAgICAvLyBsZXQgZXh0ZXJuYWxXcmFwcGVyT2JqPXRoaXMud3JhcF8KCiAgICAgICAgLy8gbGV0IGVsPXRoaXMub2JqTGFuZyhlbCx0aGlzLmxhbmcpCiAgICAgICAgLy8gbGV0IGVsPXRoaXMub2JqTGFuZyhlbCx0aGlzLmxhbmcpCiAgICAgICAgLy8gaWYodGhpcy50cmFuc2Zvcm0pCiAgICAgICAgLy8gaWYoZWw/LmRpdmUpCiAgICAgICAgLy8gewogICAgICAgIC8vIAllbCA9IHRoaXMuZ2VuZXJhbFZhbCgKICAgICAgICAvLyAJCWVsLAogICAgICAgIC8vIAkJdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwKICAgICAgICAvLyAJCS8vIHRoaXMubGcKICAgICAgICAvLyAJCXRoaXMubGFuZwogICAgICAgIC8vIAkJLy8gbGcKICAgICAgICAvLyAJKTsKICAgICAgICAvLyB9CgogICAgICAgIHZhciBvcHRpb25zOwogICAgICAgIHZhciBjb21wOwogICAgICAgIC8vIGxldCBoZWFkZXIKICAgICAgICAvLyBsZXQgaEhlYWRlcgogICAgICAgIC8vIGxldCBmb290ZXIKICAgICAgICAvLyBsZXQgaEZvb3RlcgogICAgICAgIC8vIGxldCBoZWFkZXJzCiAgICAgICAgLy8gbGV0IGZvb3RlcnMKICAgICAgICB2YXIgZ2xvYmFsSGVhZGVyVk47CiAgICAgICAgdmFyIGdsb2JhbEZvb3RlclZOOwogICAgICAgIHZhciBpbnNpZGVIZWFkZXJzVk47CiAgICAgICAgdmFyIGluc2lkZUZvb3RlcnNWTjsKICAgICAgICAvLyBsZXQgaW5zaWRlRm9vdGVycwogICAgICAgIHZhciBodG1sOwogICAgICAgIHZhciBydWxlcyA9IFtdOwogICAgICAgIC8vIGxldCBjdXN0b21MaXN0ZW5lcnMgPSB7fTsKICAgICAgICAvLyBsZXQgc2VsZWN0PWZhbHNlCgogICAgICAgIHZhciBleHRDaGlsZHJlbjsKICAgICAgICB2YXIgcmF3MDsKICAgICAgICAvLwoKICAgICAgICAvKiB0b1dCQ18oIGhfKSB7CiAgICAgICAgICAgIGxldCBlbD10aGlzLml0ZW1fCiAgICAgICAgICBsZXQgZXh0ZXJuYWxDaGlsZHJlbj10aGlzLmNoaWxkcmVuXwogICAgICAgICAgbGV0IGV4dGVybmFsV3JhcHBlck9iaj10aGlzLndyYXBfICovCgogICAgICAgIC8vIFBST1BBR0FUSU9OIEZST00gUEFSRU5UIFRPIENISUxECgogICAgICAgIHZhciBtYWluOwogICAgICAgIGlmICh0eXBlb2YgZWwgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdmFyIF9lbDQ1LCBfZWw0NjsKICAgICAgICAgIHZhciB2Tm9kZVRvUmV0dXJuOwogICAgICAgICAgaWYgKCgoX2VsNDUgPSBlbCkgPT09IG51bGwgfHwgX2VsNDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDQ1Lmxlbmd0aCkgPT0gMCkgewogICAgICAgICAgICAvLyBhbGVydCgnZnVuY3Rpb24nKQogICAgICAgICAgICAvLyByZXR1cm4gaF8oZWwpCiAgICAgICAgICAgIHZOb2RlVG9SZXR1cm4gPSBoXyhlbCk7CiAgICAgICAgICB9IGVsc2UgaWYgKCgoX2VsNDYgPSBlbCkgPT09IG51bGwgfHwgX2VsNDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDQ2Lmxlbmd0aCkgPT0gMSkgewogICAgICAgICAgICB2Tm9kZVRvUmV0dXJuID0gZWwoaF8pOwogICAgICAgICAgICAvLyByZXR1cm4gZWwoaF8pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2Tm9kZVRvUmV0dXJuID0gW2hfKCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJyZWQtLXRleHQiCiAgICAgICAgICAgIH0sIFsiRnVuY3Rpb24gZ290IG1vcmUgdGhhbiAxIGFyZ3VtZW50cyAoRXhwZWN0ZWQgMCBvciAxIGFyZ3VtZW50KSIsIGhfKCJkaXYiLCB7fSwgW2VsLnRvU3RyaW5nKCldKV0pXTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIAllbHNlICAgaWYgKGVsPy5sZW5ndGggPT0gMCkge30KCiAgICAgICAgICByZXR1cm4gdk5vZGVUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNWbm9kZShlbCkpIHsKICAgICAgICAgIG1haW4gPSBlbDsKICAgICAgICB9IGVsc2UgaWYgKFsiVlNwYWNlciIsICJWRGl2aWRlciJdLmluY2x1ZGVzKGVsKSkgewogICAgICAgICAgbWFpbiA9IGhfKGVsLCB7CiAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PSAic3RyaW5nIikgewogICAgICAgICAgdmFyIF9lbDQ3LCBfZWw0NyRzdGFydHNXaXRoOwogICAgICAgICAgdmFyIHRoZU1lZGlhQXJyID0gZWwuc3BsaXQoIi8iKTsKICAgICAgICAgIGlmIChlbC5zdGFydHNXaXRoKCIvIikgfHwgZWwuc3RhcnRzV2l0aCgiLi8iKSB8fCBlbC5zdGFydHNXaXRoKCIuLi8iKSkgewogICAgICAgICAgICB2YXIgZ2V0TWVkaWEgPSBmdW5jdGlvbiBnZXRNZWRpYSh0eXBlLCBzcmMpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBtZWRpYUNvbnRleHRzW3R5cGVdOwogICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTWVkaWEgdHlwZSBcIiIuY29uY2F0KHR5cGUsICJcIiBpcyBub3Qgc3VwcG9ydGVkLiIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0KHNyYyk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGxvYWRpbmcgIi5jb25jYXQodHlwZSwgIjogIikuY29uY2F0KHNyYyksIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsgLy8gSGFuZGxlIHRoZSBlcnJvciBhcHByb3ByaWF0ZWx5CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgbWVkaWFDb250ZXh0cyA9IHsKICAgICAgICAgICAgICBpbWFnZXM6IHJlcXVpcmUuY29udGV4dCgiQC9wdWJsaWMiLCB0cnVlLCAvXC4ocG5nfGpwZ3xqcGVnfGdpZnxzdmd8YXBuZ3xhdmlmfHRpZmZ8d2VicHxibXB8aGVpYykkLyksCiAgICAgICAgICAgICAgYXVkaW86IHJlcXVpcmUuY29udGV4dCgiQC9wdWJsaWMiLCB0cnVlLCAvXC4obXAzfHdhdnxhaWZmfGZsYWN8bTRhfG9nZ3xhYWN8d21hfGFwZXxyZWFsYXVkaW8pJC8pLAogICAgICAgICAgICAgIHZpZGVvOiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wuKG1wNHx3ZWJtfG9nZ3xtb3Z8YXZpfG1rdnxmbHZ8d212KSQvKSwKICAgICAgICAgICAgICBqc29uOiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wuanNvbiQvKSwKICAgICAgICAgICAgICAvLyBKU09OIGZpbGVzCiAgICAgICAgICAgICAgcGRmOiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wucGRmJC8pLAogICAgICAgICAgICAgIGh0bWw6IHJlcXVpcmUuY29udGV4dCgiQC9wdWJsaWMiLCB0cnVlLCAvXC5odG1sJC8pLAogICAgICAgICAgICAgIGNzczogcmVxdWlyZS5jb250ZXh0KCJAL3B1YmxpYyIsIHRydWUsIC9cLmNzcyQvKSwKICAgICAgICAgICAgICAvLyBDU1MgZmlsZXMKICAgICAgICAgICAgICBweTogcmVxdWlyZS5jb250ZXh0KCJAL3B1YmxpYyIsIHRydWUsIC9cLnB5JC8pLAogICAgICAgICAgICAgIC8vIENTUyBmaWxlcwogICAgICAgICAgICAgIHZ1ZTogcmVxdWlyZS5jb250ZXh0KCJAL3B1YmxpYyIsIHRydWUsIC9cLnZ1ZSQvKSwKICAgICAgICAgICAgICAvLyBDU1MgZmlsZXMKICAgICAgICAgICAgICBqczogcmVxdWlyZS5jb250ZXh0KCJAL3B1YmxpYyIsIHRydWUsIC9cLihqc3x0cykkLyksCiAgICAgICAgICAgICAgLy8gQ1NTIGZpbGVzCiAgICAgICAgICAgICAgdHh0OiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wudHh0JC8pLAogICAgICAgICAgICAgIC8vIENTUyBmaWxlcwogICAgICAgICAgICAgIG1kOiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wubWQkLyksCiAgICAgICAgICAgICAgLy8gQ1NTIGZpbGVzCiAgICAgICAgICAgICAgb2ZmaWNlOiByZXF1aXJlLmNvbnRleHQoIkAvcHVibGljIiwgdHJ1ZSwgL1wuKHhsc3xkb2N8ZG9jeHx4bHN4fHBwdHgpJC8pIC8vIE9mZmljZSBmaWxlcwogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc291cmNlOwogICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLyBBdWRpbyAvLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgICAgICAgaWYgKHRoZU1lZGlhQXJyW3RoZU1lZGlhQXJyLmxlbmd0aCAtIDFdLnN0YXJ0c1dpdGgoIl9fIikpIHsKICAgICAgICAgICAgICB2YXIgY29udGVudFR5cGUgPSAidGV4dC9odG1sIjsKICAgICAgICAgICAgICBpZiAoZWwuaW5jbHVkZXMoIi52dWUiKSkgewogICAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoInZ1ZSIsIGVsKTsKICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gInRleHQveC12dWUiOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuaW5jbHVkZXMoIi5weSIpKSB7CiAgICAgICAgICAgICAgICBzb3VyY2UgPSBnZXRNZWRpYSgicHkiLCBlbCk7CiAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9ICJ0ZXh0L3gtcHl0aG9uIjsKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KHNvdXJjZSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5pbmNsdWRlcygiLmpzIikgfHwgZWwuaW5jbHVkZXMoIi50cyIpKSB7CiAgICAgICAgICAgICAgICBzb3VyY2UgPSBnZXRNZWRpYSgianMiLCBlbCk7CiAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9ICJ0ZXh0L2phdmFzY3NyaXB0IjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmluY2x1ZGVzKCIubWQiKSkgewogICAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoIm1kIiwgZWwpOwogICAgICAgICAgICAgICAgY29udGVudFR5cGUgPSAidGV4dC94LW1hcmtkb3duIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gZWxzZQogICAgICAgICAgICAgIGVsc2UgaWYgKGVsLmluY2x1ZGVzKCIuaHRtbCIpIHx8IGVsLmluY2x1ZGVzKCIuY3NzIikpIHsKICAgICAgICAgICAgICAgIHNvdXJjZSA9IGdldE1lZGlhKCJodG1sIiwgZWwpOwogICAgICAgICAgICAgICAgY29udGVudFR5cGUgPSAidGV4dC9odG1sIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gZWxzZSBpZiAoZWwuaW5jbHVkZXMoJy5weScpKSB7CiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gJ3RleHQveC1weXRob24nCiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB9ZWxzZQogICAgICAgICAgICAgIC8vIGVsc2UgaWYgKGVsLmluY2x1ZGVzKCcucHknKSkgewogICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9ICd0ZXh0L3gtcHl0aG9uJwogICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgfWVsc2UKCiAgICAgICAgICAgICAgLy8gYWxlcnQoZWwpCiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJWQ00iLCB7CiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIC8vIHJlc2l6ZTogJ2JvdGgnLAogICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgICB3aWR0aDogIjEwMCUiCiAgICAgICAgICAgICAgICAgIC8vIGhlaWdodDogIjEwMCUiLAogICAgICAgICAgICAgICAgICAvLyAgIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICB2YWx1ZTogc291cmNlLAogICAgICAgICAgICAgICAgICByZWY6ICJteUNtIiwKICAgICAgICAgICAgICAgICAgLy8gdGFiU2l6ZTogMTQsCiAgICAgICAgICAgICAgICAgIC8vIG1vZGU6ICJ0ZXh0L2NzcyIsCiAgICAgICAgICAgICAgICAgIC8vIG1vZGU6ICd0ZXh0L2h0bWwnLAogICAgICAgICAgICAgICAgICAvLyBtb2RlOiBjb250ZW50VHlwZSwKICAgICAgICAgICAgICAgICAgLy8gdGhlbWU6ICJkZWZhdWx0IiwKCiAgICAgICAgICAgICAgICAgIC8vIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgICAgICAgICAgICAgICAvLyBsaW5lOiB0cnVlLAoKICAgICAgICAgICAgICAgICAgbW9kZTogY29udGVudFR5cGUsCiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICB0YWJTaXplOiA0LAogICAgICAgICAgICAgICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBsaW5lOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGZvbGRHdXR0ZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3R5bGVTZWxlY3RlZFRleHQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgLy8ga2V5TWFwOiAic3VibGltZSIsCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAvLyB0aGVtZTogIm1vbm9rYWkiLAogICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5czogewogICAgICAgICAgICAgICAgICAgICAgQ3RybDogImF1dG9jb21wbGV0ZSIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGhpbnRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZVNpbmdsZTogIWZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuaW5jbHVkZXMoIi50eHQiKSkgewogICAgICAgICAgICAgIHNvdXJjZSA9IGdldE1lZGlhKCJ0eHQiLCBlbCk7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJXQkh0bWwiLCB7CiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICIiLmNvbmNhdChzb3VyY2UpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7IC8vIFNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIHRvIHRoZSByZXNwb25zZSBkYXRhCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuaW5jbHVkZXMoIi5tZCIpKSB7CiAgICAgICAgICAgICAgLy8gYWxlcnQoZWwpCiAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoIm1kIiwgZWwpOwogICAgICAgICAgICAgIG1haW4gPSBoXygiZGl2IiwgewogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgICAgICAgICAgICB0aXRsZTogZWwKICAgICAgICAgICAgICB9LCBbbWFpbiA9IGhfKCJXQkh0bWwiLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogZWwsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBodG1sOiB0aGlzLk1hcmtkb3duSXQucmVuZGVyKHNvdXJjZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KV0pOyAvLyBTZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSB0byB0aGUgcmVzcG9uc2UgZGF0YQogICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmluY2x1ZGVzKCIuaHRtbCIpKSB7CiAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoImh0bWwiLCBlbCk7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJXQkh0bWwiLCB7CiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIGh0bWw6IHNvdXJjZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOyAvLyBTZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSB0byB0aGUgcmVzcG9uc2UgZGF0YQogICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmluY2x1ZGVzKCIuanNvbiIpKSB7CiAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoImpzb24iLCBlbCk7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJXQkRhdGFWaWV3ZXIiLCB7CiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiBzb3VyY2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsgLy8gU2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgdG8gdGhlIHJlc3BvbnNlIGRhdGEKICAgICAgICAgICAgfSBlbHNlIGlmIChbIi5tcDMiLCAiLndhdiIsICIuYWlmZiIsICIuZmxhYyIsICIubTRhIiwgIi5vZ2ciLCAiLmFhYyIsICIud21hIiwgIi5hcGUiLCAiLnJlYWxhdWRpbyJdLnNvbWUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhlTWVkaWFBcnJbdGhlTWVkaWFBcnIubGVuZ3RoIC0gMV0uaW5jbHVkZXMoZSk7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgc291cmNlID0gZ2V0TWVkaWEoImF1ZGlvIiwgZWwpOwogICAgICAgICAgICAgIG1haW4gPSBoXygiYXVkaW8iLCB7CiAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICB0aXRsZTogc291cmNlLAogICAgICAgICAgICAgICAgICBzcmM6IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAhdHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIC8vIHdpZHRoOiAnYXV0bycsCiAgICAgICAgICAgICAgICAgIGhlaWdodDogInJldmVydCIsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAicmV2ZXJ0IgogICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6J3JlZCcsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgLy8gWycvL3d3dy55b3V0dWJlJywgJy8veW91dHViZScsICcvL3d3dy55b3V0dS5iZScsICcvL3lvdXR1LmJlJyxdLnNvbWUoZSA9PiBlbC5pbmNsdWRlcyhlKSkgfHwKICAgICAgICAgICAgWyIuYXBuZyIsICIuYXZpZiIsICIuaWNvIiwgIi5naWYiLCAiLnRpZmYiLCAiLndlYnAiLCAiLmpwZWciLCAiLnBuZyIsICIud2VicCIsICIuanBnIiwgIi5qcGVnIl0uc29tZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGVNZWRpYUFyclt0aGVNZWRpYUFyci5sZW5ndGggLSAxXS5pbmNsdWRlcyhlKTsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICB2YXIgX3NvdXJjZSwgX3NvdXJjZSRpbmNsdWRlczsKICAgICAgICAgICAgICBzb3VyY2UgPSBnZXRNZWRpYSgiaW1hZ2VzIiwgZWwpOwoKICAgICAgICAgICAgICAvLyBzb3VyY2UgPSByZXF1aXJlKCdAcHVibGljL2pwZWcxLmpwZWcnKQogICAgICAgICAgICAgIC8vIHNvdXJjZSA9ICcvanBlZzEuanBlZycKCiAgICAgICAgICAgICAgLy8gYWxlcnQoc291cmNlKQogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzb3VyY2UgOj4+ICcsc291cmNlLHR5cGVvZiBzb3VyY2UpCgogICAgICAgICAgICAgIC8vIGFsZXJ0KHNvdXJjZSk7CiAgICAgICAgICAgICAgdmFyIGltZ09iaiA9IHsKICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiBzb3VyY2UsCiAgICAgICAgICAgICAgICAgIHNyYzogc291cmNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiCiAgICAgICAgICAgICAgICAvLyBzdHlsZTp7d2lkdGg6J2F1dG8nfSwKICAgICAgICAgICAgICAgIC8vIHJlZjogJ3Jhd0h0bWwnLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKChfc291cmNlID0gc291cmNlKSAhPT0gbnVsbCAmJiBfc291cmNlICE9PSB2b2lkIDAgJiYgKF9zb3VyY2UkaW5jbHVkZXMgPSBfc291cmNlLmluY2x1ZGVzKSAhPT0gbnVsbCAmJiBfc291cmNlJGluY2x1ZGVzICE9PSB2b2lkIDAgJiYgX3NvdXJjZSRpbmNsdWRlcy5jYWxsKF9zb3VyY2UsICIuaWNvIikpIHsKICAgICAgICAgICAgICAgIGltZ09iai5hdHRycy5hbHQgPSAiSWNvbiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG1haW4gPSBoXygiaW1nIiwgaW1nT2JqKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChbIi5tcDQiLCAiLmF2aSIsICIubW92IiwgIi53bXYiLCAiLmF2Y2hkIiwgIi5mbHYiLCAiLmY0diIsICIuc3dmIiwgIi5ta3YiLCAiLndlYm0iLCAiLmh0bWw1IiwgIi5tcGVnLTIiXS5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoZU1lZGlhQXJyW3RoZU1lZGlhQXJyLmxlbmd0aCAtIDFdLmluY2x1ZGVzKGUpOwogICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgIHNvdXJjZSA9IGdldE1lZGlhKCJ2aWRlbyIsIGVsKTsKICAgICAgICAgICAgICBtYWluID0gaF8oInZpZGVvIiwgewogICAgICAgICAgICAgICAgYXR0cnM6IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgICB0aXRsZTogc291cmNlLAogICAgICAgICAgICAgICAgICBzcmM6IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgICAgICAgICAgIGZyYW1lYm9yZGVyOiAiMCIsCiAgICAgICAgICAgICAgICAgIGFsbG93OiAiYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYSIsCiAgICAgICAgICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbjogdHJ1ZQogICAgICAgICAgICAgICAgfSwgImFsbG93IiwgImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIpLCAicmVmZXJyZXJwb2xpY3kiLCAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIpLAogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgICAgLy8gc3R5bGU6e3dpZHRoOidhdXRvJ30sCiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAgICAgLy8gZWxzZSBpZiAoCiAgICAgICAgICAgIC8vICAgWyIucGRmIiwgIi5QZGYiXS5zb21lKChlKSA9PgogICAgICAgICAgICAvLyAgICAgdGhlTWVkaWFBcnJbdGhlTWVkaWFBcnIubGVuZ3RoIC0gMV0uaW5jbHVkZXMoZSkKICAgICAgICAgICAgLy8gICApCiAgICAgICAgICAgIC8vICkgewogICAgICAgICAgICAvLyAgIGFsZXJ0KCJwZGZmZmZmZmZmIik7CiAgICAgICAgICAgIC8vICAgc291cmNlID0gZ2V0TWVkaWEoInBkZiIsIGVsKTsKICAgICAgICAgICAgLy8gICAvLyBhbGVydChzb3VyY2UpCgogICAgICAgICAgICAvLyAgIG1haW4gPSBoXygicGRmIiwgewogICAgICAgICAgICAvLyAgICAgcHJvcHM6IHsKICAgICAgICAgICAgLy8gICAgICAgLy8gc3JjOiAnaHR0cHM6Ly9wZGZvYmplY3QuY29tL3BkZi9zYW1wbGUucGRmJywKICAgICAgICAgICAgLy8gICAgICAgLy8gc3JjOiByZXF1aXJlKGVsKSwKICAgICAgICAgICAgLy8gICAgICAgLy8gc3JjOiByZXF1aXJlKCIuL3BkZjAucGRmIiksCiAgICAgICAgICAgIC8vICAgICAgIC8vIHNyYzogIi4vcGRmMC5wZGYiLAogICAgICAgICAgICAvLyAgICAgICAvLyBzcmM6IHJlcXVpcmUoIkBwdWJsaWMvY3YwLnBkZiIpLAogICAgICAgICAgICAvLyAgICAgICBzcmM6IHNvdXJjZSwKICAgICAgICAgICAgLy8gICAgICAgLy8gc3JjOiAiQC9wdWJsaWMvY3YucGRmIiwKICAgICAgICAgICAgLy8gICAgICAgLy8gLyBjdjAucGRmJywKICAgICAgICAgICAgLy8gICAgICAgLy8gc3JjOiAnY3YwLnBkZicsCiAgICAgICAgICAgIC8vICAgICB9LAogICAgICAgICAgICAvLyAgICAgLy8gYXR0cnM6e3NyYzogJ0AvcHVibGljL2pwZWcwLmpwZWcnfSwKICAgICAgICAgICAgLy8gICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgLy8gICAgIHN0eWxlOiB7CiAgICAgICAgICAgIC8vICAgICAgIHdpZHRoOiAiYXV0byIsCiAgICAgICAgICAgIC8vICAgICAgIGhlaWdodDogIjgwMHB4IiwKICAgICAgICAgICAgLy8gICAgICAgYmFja2dyb3VuZENvbG9yOiAieWVsbG93IiwKICAgICAgICAgICAgLy8gICAgIH0sCiAgICAgICAgICAgIC8vICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgLy8vLwogICAgICAgICAgICAvLyBlbHNlIC8qIGlmIChbJy9qYXZhc2NyaXB0JywgJy9qcycsICcvY3NzJywgJy9qYXZhJywgJy90eXBlc2NyaXB0JywgJy90cycsICcvY3BwJywgJy94bWwnLCAnL2h0bWwnLCcvcGhwJywgJy9iYXNoJywgJy9sZXNzJywgJy9uZ2lueCcsICcvcG93ZXJzaGVsbCcsICcvcHl0aG9uJywgJy9zY3NzJywgJy9zaGVsbCcsICcvc3FsJywgJy95YW1sJywgJy9pbmknXS5zb21lKGUgPT4gY29udGVudFR5cGUuaW5jbHVkZXMoZSkpKSAqLyB7CgogICAgICAgICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCdlbDAgOj4+ICcsIGVsLCBzb3VyY2UpOwoKICAgICAgICAgICAgLy8gICBzb3VyY2UgPSBnZXRNZWRpYSgndnVlJywgZWwpCgogICAgICAgICAgICAvLyAgIG1haW4gPSBoXygnZGl2JywgZWwrICcgaXMgYSBub24gc3VwcG9ydGVkIGZvcm1hdCcpCiAgICAgICAgICAgIC8vICAgLy8gbWFpbiA9IGhfKCdXQkh0bWwnLCB7IHByb3BzOiB7IGh0bWw6IHNvdXJjZSB9IH0pCgogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLyBvZmZpY2UgLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAgICAgLy8gZWxzZSBpZiAoCiAgICAgICAgICAgIC8vICAgWyIuZG9jeCIsICIuRG9jeCIsICIuZG9jIiwgIi5Eb2MiXS5zb21lKChlKSA9PgogICAgICAgICAgICAvLyAgICAgdGhlTWVkaWFBcnJbdGhlTWVkaWFBcnIubGVuZ3RoIC0gMV0uaW5jbHVkZXMoZSkKICAgICAgICAgICAgLy8gICApCiAgICAgICAgICAgIC8vICkgewogICAgICAgICAgICAvLyAgIHNvdXJjZSA9IGdldE1lZGlhKCJvZmZpY2UiLCBlbCk7CiAgICAgICAgICAgIC8vICAgYWxlcnQoImFhYWEiICsgc291cmNlKTsKICAgICAgICAgICAgLy8gICBtYWluID0gaF8oIlZ1ZU9mZmljZURvY3giLCB7CiAgICAgICAgICAgIC8vICAgICBwcm9wczogewogICAgICAgICAgICAvLyAgICAgICAvLyBzcmM6ICJAcHVibGljL2RvYzAuZG9jIiwKICAgICAgICAgICAgLy8gICAgICAgc3JjOiBzb3VyY2UsCiAgICAgICAgICAgIC8vICAgICB9LAogICAgICAgICAgICAvLyAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAvLyAgICAgc3R5bGU6IHsKICAgICAgICAgICAgLy8gICAgICAgLy8gcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgIC8vICAgICAgIHRvcDogMCwKICAgICAgICAgICAgLy8gICAgICAgbGVmdDogMCwKICAgICAgICAgICAgLy8gICAgICAgLy8gaGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICAgIC8vICAgICAgIC8vIHdpZHRoOiAnMTAwJScsCiAgICAgICAgICAgIC8vICAgICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgLy8gICAgIH0sCiAgICAgICAgICAgIC8vICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICBlbHNlIGlmIChbIi54bHMiLCAiLlhscyIsICIucGRmIiwgIi5QZGYiLCAiLmRvYyIsICIuRG9jIiwgIi54bHN4IiwgIlhsc3giXS5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoZU1lZGlhQXJyW3RoZU1lZGlhQXJyLmxlbmd0aCAtIDFdLmluY2x1ZGVzKGUpOwogICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgIC8vIHNvdXJjZSA9IGdldE1lZGlhKCJvZmZpY2UiLCBlbCk7CiAgICAgICAgICAgICAgLy8gYWxlcnQoZWwpOwoKICAgICAgICAgICAgICAvLyB0aGlzLmZlZXRjaEZpbGUoKTsKCiAgICAgICAgICAgICAgLy8gZmV0Y2goIkAvcHVibGljL3BkZjAucGRmIikudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSk7CgogICAgICAgICAgICAgIC8vIGVsID0gIi9qcDAuanBnIjsKICAgICAgICAgICAgICAvLyBlbCA9ICIvcGRmMC5wZGYiOwogICAgICAgICAgICAgIC8vIGVsID0gIi9qc29uMC5qc29uIjsKICAgICAgICAgICAgICAvLyBlbCA9ICIvZG9jMC5kb2MiOwogICAgICAgICAgICAgIC8vIGVsID0gIi9hLnhscyI7CiAgICAgICAgICAgICAgLy8gZWwgPSAiL2h0bWwwLmh0bWwiOwogICAgICAgICAgICAgIC8vIGVsID0gIi9odG1sMS5odG1sIjsKCiAgICAgICAgICAgICAgLy8gZWwgPSAiL3B5MC5weSI7CgogICAgICAgICAgICAgIC8vIGVsID0gIi9tZDAubWQiOwogICAgICAgICAgICAgIC8vIGVsID0gIi9fX21kMC5tZCI7CgogICAgICAgICAgICAgIC8vIGVsID0gIi9fX3B5MC5weSI7CiAgICAgICAgICAgICAgLy8gZWwgPSAiL2RvY3gwLmRvY3giOwogICAgICAgICAgICAgIC8vIGVsID0gIi9hYWFhLnhsc3giOwoKICAgICAgICAgICAgICBpZiAoIXRoaXMuZmlsZUNvbnRlbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZExvY2FsRmlsZShoXywgZWwucmVwbGFjZSgiLi8iLCAiL3diYy11aTItZmlsZXMvIikpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBtYWluID0gdGhpcy5maWxlQ29udGVudDsKICAgICAgICAgICAgICAvLyBtYWluID0gaF8oImxpIiwgdGhpcy5maWxlQ29udGVudCk7CgogICAgICAgICAgICAgIC8vIG1haW4gPSBoXygiaWZyYW1lIiwgewogICAgICAgICAgICAgIC8vICAgYXR0cnM6IHsKICAgICAgICAgICAgICAvLyAgICAgc3JjOiB0aGlzLmZpbGVDb250ZW50LAogICAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgICAvLyAgIGNsYXNzOiAiY29udGFpbmVyIHdoaXRlIiwKICAgICAgICAgICAgICAvLyAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgLy8gICAgIC8vIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAgIC8vICAgICB0b3A6IDAsCiAgICAgICAgICAgICAgLy8gICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgLy8gICAgIGhlaWdodDogIjEwMHZoIiwKICAgICAgICAgICAgICAvLyAgICAgd2lkdGg6ICIxMDB2aCIsCiAgICAgICAgICAgICAgLy8gICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgICAgLy8gICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8gVmlkZW9zIC8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgICAgICAgIC8vICBzb3VyY2UgPSBnZXRNZWRpYSgndmlkZW8nLCBlbCkKICAgICAgICAgICAgLy8gbWFpbiA9ICBoXygndmlkZW8nLCB7CiAgICAgICAgICAgIC8vICAgYXR0cnM6IHsKICAgICAgICAgICAgLy8gICAgIHRpdGxlOiBzb3VyY2UsCiAgICAgICAgICAgIC8vICAgICBzcmM6IHNvdXJjZSwKICAgICAgICAgICAgLy8gICAgIGNvbnRyb2xzOiB0cnVlLAogICAgICAgICAgICAvLyAgICAgZnJhbWVib3JkZXI6ICIwIiwKICAgICAgICAgICAgLy8gICAgIGFsbG93OiAiYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYSIsCiAgICAgICAgICAgIC8vICAgICBhbGxvd2Z1bGxzY3JlZW46IHRydWUsCiAgICAgICAgICAgIC8vICAgICBhbGxvdzogImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIsCiAgICAgICAgICAgIC8vICAgICByZWZlcnJlcnBvbGljeTogInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4iCiAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgLy8gICBjbGFzczogJ2NvbnRhaW5lcicsCiAgICAgICAgICAgIC8vICAgLy8gc3R5bGU6e3dpZHRoOidhdXRvJ30sCiAgICAgICAgICAgIC8vICAgcmVmOiAncmF3SHRtbCcsCiAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICB9IGVsc2UgaWYgKGVsLnN0YXJ0c1dpdGgoImh0dHBzOi8vIikgfHwgKF9lbDQ3ID0gZWwpICE9PSBudWxsICYmIF9lbDQ3ICE9PSB2b2lkIDAgJiYgKF9lbDQ3JHN0YXJ0c1dpdGggPSBfZWw0Ny5zdGFydHNXaXRoKSAhPT0gbnVsbCAmJiBfZWw0NyRzdGFydHNXaXRoICE9PSB2b2lkIDAgJiYgX2VsNDckc3RhcnRzV2l0aC5jYWxsKF9lbDQ3LCAiaHR0cDovLyIpKSB7CiAgICAgICAgICAgIGlmIChbIi5kb2N4IiwgIi5Eb2N4Il0uc29tZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGVNZWRpYUFyclt0aGVNZWRpYUFyci5sZW5ndGggLSAxXS5pbmNsdWRlcyhlKTsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBtYWluID0gaF8oIlZ1ZU9mZmljZURvY3giLCB7CiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBzcmM6IGVsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgICAgbGVmdDogMAogICAgICAgICAgICAgICAgICAvLyBoZWlnaHQ6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgLy8gd2lkdGg6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgLy8gYm9yZGVyOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyIueGxzeCIsICIuWGxzeCJdLnNvbWUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhlTWVkaWFBcnJbdGhlTWVkaWFBcnIubGVuZ3RoIC0gMV0uaW5jbHVkZXMoZSk7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJWdWVPZmZpY2VFeGNlbCIsIHsKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHNyYzogZWwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciB3aGl0ZSIsCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgICBoZWlnaHQ6ICIxMDB2aCIsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMTAwdmgiCiAgICAgICAgICAgICAgICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsiLmRvYyIsICIueGxzIiwgIm1kIiwgInR4dCIsICJwcHR4IiwgIi54bHMiXS5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoZU1lZGlhQXJyW3RoZU1lZGlhQXJyLmxlbmd0aCAtIDFdLmluY2x1ZGVzKGUpOwogICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgIG1haW4gPSBoXygiVnVlRG9jUHJldmlldyIsIHsKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHVybDogZWwsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJvZmZpY2UiCiAgICAgICAgICAgICAgICAgIC8vIGNvZGU6ICJjc3MiLAogICAgICAgICAgICAgICAgICAvLyBoZWlnaHQ6ICIxMDAlIiwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAvLyByZXNpemU6ICdib3RoJywKICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgICAgICAgd2lkdGg6ICIxMDB2aCIsCiAgICAgICAgICAgICAgICAgIGhlaWdodDogIjEwMHZoIgogICAgICAgICAgICAgICAgICAvLyAgIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsiLm1wMyIsICIud2F2IiwgIi5haWZmIiwgIi5mbGFjIiwgIi5tNGEiLCAiLm9nZyIsICIuYWFjIiwgIi53bWEiLCAiLmFwZSIsICIucmVhbGF1ZGlvIl0uc29tZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGVNZWRpYUFyclt0aGVNZWRpYUFyci5sZW5ndGggLSAxXS5pbmNsdWRlcyhlKTsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBtYWluID0gaF8oImF1ZGlvIiwgewogICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IGVsLAogICAgICAgICAgICAgICAgICBzcmM6IGVsLAogICAgICAgICAgICAgICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6ICF0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2xhc3M6ICJjb250YWluZXIiLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgLy8gd2lkdGg6ICdhdXRvJywKICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAicmV2ZXJ0IiwKICAgICAgICAgICAgICAgICAgd2lkdGg6ICJyZXZlcnQiCiAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjoncmVkJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsiLmFwbmciLCAiLmF2aWYiLCAiLmljbyIsICIuZ2lmIiwgIi50aWZmIiwgIi53ZWJwIiwgIi5qcGVnIiwgIi5wbmciLCAiLndlYnAiLCAiLmpwZyIsICIuanBlZyJdLnNvbWUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhlTWVkaWFBcnJbdGhlTWVkaWFBcnIubGVuZ3RoIC0gMV0uaW5jbHVkZXMoZSk7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgdmFyIF9pbWdPYmogPSB7CiAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICB0aXRsZTogZWwsCiAgICAgICAgICAgICAgICAgIHNyYzogZWwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAvLyBzdHlsZTp7d2lkdGg6J2F1dG8nfSwKICAgICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBpZiAoZWwuaW5jbHVkZXMoIi5pY28iKSkgewogICAgICAgICAgICAgICAgX2ltZ09iai5hdHRycy5hbHQgPSAiSWNvbiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG1haW4gPSBoXygiaW1nIiwgX2ltZ09iaik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyIubXA0IiwgIi5hdmkiLCAiLm1vdiIsICIud212IiwgIi5hdmNoZCIsICIuZmx2IiwgIi5mNHYiLCAiLnN3ZiIsICIubWt2IiwgIi53ZWJtIiwgIi5odG1sNSIsICIubXBlZy0yIl0uc29tZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGVNZWRpYUFyclt0aGVNZWRpYUFyci5sZW5ndGggLSAxXS5pbmNsdWRlcyhlKTsKICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICBtYWluID0gaF8oInZpZGVvIiwgewogICAgICAgICAgICAgICAgYXR0cnM6IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgICB0aXRsZTogZWwsCiAgICAgICAgICAgICAgICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAgIGNvbnRyb2xzOiB0cnVlLAogICAgICAgICAgICAgICAgICBmcmFtZWJvcmRlcjogIjAiLAogICAgICAgICAgICAgICAgICBhbGxvdzogImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWEiLAogICAgICAgICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW46IHRydWUKICAgICAgICAgICAgICAgIH0sICJhbGxvdyIsICJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiKSwgInJlZmVycmVycG9saWN5IiwgInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4iKSwKICAgICAgICAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIC8vIHN0eWxlOnt3aWR0aDonYXV0byd9LAogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChbIi8vd3d3LnlvdXR1YmUiLCAiLy95b3V0dWJlIiwgIi8vd3d3LnlvdXR1LmJlIiwgIi8veW91dHUuYmUiXS5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmluY2x1ZGVzKGUpOwogICAgICAgICAgICB9KSAmJiAhZWwuaW5jbHVkZXMoImVtYmVkIikpIHsKICAgICAgICAgICAgICAvLyBhbGVydCgneW91dHViZScpCiAgICAgICAgICAgICAgLy8gYWxlcnQoZWwucmVwbGFjZSgnLmNvbS8nLCAnLmNvbS9lbWJlZC8nKS5yZXBsYWNlKCcuYmUvJywgJ2JlLmNvbS9lbWJlZC8nKSkKICAgICAgICAgICAgICBtYWluID0gaF8oImlmcmFtZSIsIF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgY2xhc3M6ICJ2aWRlby1zdHJlYW0gaHRtbDUtbWFpbi12aWRlbyIsCiAgICAgICAgICAgICAgICBhdHRyczogX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgICAgICAgICAgICAgc3JjOiBlbC5yZXBsYWNlKCIuY29tLyIsICIuY29tL2VtYmVkLyIpLnJlcGxhY2UoIi5iZS8iLCAiYmUuY29tL2VtYmVkLyIpLAogICAgICAgICAgICAgICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgZnJhbWVib3JkZXI6ICIwIiwKICAgICAgICAgICAgICAgICAgYWxsb3c6ICJhdXRvcGxheTsgZW5jcnlwdGVkLW1lZGlhIiwKICAgICAgICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuOiB0cnVlCiAgICAgICAgICAgICAgICB9LCAiYWxsb3ciLCAiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIiksICJyZWZlcnJlcnBvbGljeSIsICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIikKICAgICAgICAgICAgICB9LCAiY2xhc3MiLCAiY29udGFpbmVyIiksICJyZWYiLCAicmF3SHRtbCIpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoIXRoaXMubWVkaWFEYXRhKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm1lZGlhRGF0YT0nYWFhYWFhYWFhYWFhYWFhYWFhYWFhJwogICAgICAgICAgICAgICAgLy8gZ2xvYmFsLmo9dGhpcy5tZWRpYURhdGEKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmlsZUNvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTG9jYWxGaWxlKGhfLCBlbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtYWluID0gdGhpcy5maWxlQ29udGVudDsKCiAgICAgICAgICAgICAgICAvLyB0aGlzLmdldFVybFJlc3BvbnNlKGVsKQogICAgICAgICAgICAgICAgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgICAgIC8vICAgICAgICJSZXNwb25zZSBkYXRhOixlbCAiLAogICAgICAgICAgICAgICAgLy8gICAgICAgZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICByZXNwb25zZSwKICAgICAgICAgICAgICAgIC8vICAgICAgIHJlc3BvbnNlPy5kYXRhLAogICAgICAgICAgICAgICAgLy8gICAgICAgY29udGVudFR5cGUKICAgICAgICAgICAgICAgIC8vICAgICApOwogICAgICAgICAgICAgICAgLy8gICAgIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24vanNvbiIpKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyBhbGVydCgnanNvbicpCiAgICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLm1lZGlhRGF0YSA9IGhfKCJXQkRhdGFWaWV3ZXIiLCB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRpdGxlOiBlbCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcHJvcHM6IHsgdmFsdWU6IHJlc3BvbnNlPy5kYXRhIHx8IHJlc3BvbnNlIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICB9KTsgLy8gU2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgdG8gdGhlIHJlc3BvbnNlIGRhdGEKICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJpbWFnZS8iKSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5tZWRpYURhdGEgPSBoXygiaW1nIiwgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvKiB3aWR0aDogJ2F1dG8nICovCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlZjogInJhd0h0bWwiLAogICAgICAgICAgICAgICAgLy8gICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24vZG9jIikpIHsKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vIGFsZXJ0KCdkb2N4JyArIGVsKQogICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5tZWRpYURhdGEgPSBoXygiVnVlRG9jUHJldmlldyIsIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICB2YWx1ZTogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyByZXNpemU6ICdib3RoJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB0b3A6IDAsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gbGVmdDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyBoZWlnaHQ6ICcxMDAlJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB3aWR0aDogJzEwMCUnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgICAgICAgICAgICAvLyAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9leGNlbCIpKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyBhbGVydCgnZG9jeCcgKyBlbCkKICAgICAgICAgICAgICAgIC8vICAgICAgIHRoaXMubWVkaWFEYXRhID0gaF8oIlZ1ZU9mZmljZUV4Y2VsIiwgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyByZXNpemU6ICdib3RoJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB0b3A6IDAsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gbGVmdDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyBoZWlnaHQ6ICcxMDAlJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB3aWR0aDogJzEwMCUnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVmOiAicmF3SHRtbCIsCiAgICAgICAgICAgICAgICAvLyAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCJhcHBsaWNhdGlvbi9wZGYiKSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gYWxlcnQoJ3BkZicgKyBlbCkKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vIGVsc2UgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9wZGYnKSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5tZWRpYURhdGEgPSBoXygicGRmIiwgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNsYXNzOiAiY29udGFpbmVyIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB3aWR0aDogJ2F1dG8nLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIGhlaWdodDogJ3JldmVydCcsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOidyZWQnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIC8vICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gfQogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gdGhpcy5tZWRpYURhdGEgPSBoXygnVnVlT2ZmaWNlUGRmJywgewogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgICAgc3JjOiBlbCwKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICBjbGFzczogJ2NvbnRhaW5lcicsCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gICAgICAgICAvLyByZXNpemU6ICdib3RoJywKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgICAgLy8gLy8gcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICAgIC8vIHRvcDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgICAgLy8gbGVmdDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgICAgLy8gaGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICAgIC8vIHdpZHRoOiAnMTAwJScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICAgIC8vIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyAgICAgICByZWY6ICdyYXdIdG1sJywKICAgICAgICAgICAgICAgIC8vICAgICAgIC8vICAgICB9KQogICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICAvLyAgICAgICBbIi9odG1sIl0uc29tZSgoZSkgPT4gY29udGVudFR5cGUuaW5jbHVkZXMoZSkpICYmCiAgICAgICAgICAgICAgICAvLyAgICAgICBlbC5pbmNsdWRlcygiaHRtbCIpICYmCiAgICAgICAgICAgICAgICAvLyAgICAgICAhZWwuaW5jbHVkZXMoIj9zcmMiKQogICAgICAgICAgICAgICAgLy8gICAgICkgewogICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5tZWRpYURhdGEgPSBoXygiV0JIdG1sIiwgewogICAgICAgICAgICAgICAgLy8gICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcHJvcHM6IHsgaHRtbDogcmVzcG9uc2UuZGF0YSB9LAogICAgICAgICAgICAgICAgLy8gICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyBTZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSB0byB0aGUgcmVzcG9uc2UgZGF0YQogICAgICAgICAgICAgICAgLy8gICAgIH0gLyogaWYgKFsnL2phdmFzY3JpcHQnLCAnL2pzJywgJy9jc3MnLCAnL2phdmEnLCAnL3R5cGVzY3JpcHQnLCAnL3RzJywgJy9jcHAnLCAnL3htbCcsICcvaHRtbCcsJy9waHAnLCAnL2Jhc2gnLCAnL2xlc3MnLCAnL25naW54JywgJy9wb3dlcnNoZWxsJywgJy9weXRob24nLCAnL3Njc3MnLCAnL3NoZWxsJywgJy9zcWwnLCAnL3lhbWwnLCAnL2luaSddLnNvbWUoZSA9PiBjb250ZW50VHlwZS5pbmNsdWRlcyhlKSkpICovIGVsc2UgewogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gYWxlcnQoJ2NvZGUnKQogICAgICAgICAgICAgICAgLy8gICAgICAgdGhpcy5tZWRpYURhdGEgPSBoXygiVkNNIiwgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIHJlc2l6ZTogJ2JvdGgnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgaGVpZ2h0OiAiMTAwJSIsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gICBib3JkZXI6IDAsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgLy8gICAgICAgICBjbGFzczogImNvbnRhaW5lciIsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlPy5kYXRhIHx8IHJlc3BvbnNlLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHJlZjogIm15Q20iLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIHRhYlNpemU6IDE0LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vIG1vZGU6ICJ0ZXh0L2NzcyIsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgbW9kZTogY29udGVudFR5cGUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gbW9kZTogJ3RleHQvaHRtbCcsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgdGhlbWU6ICJkZWZhdWx0IiwKCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gbGluZU51bWJlcnM6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gbGluZTogdHJ1ZSwKCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgLy8gb3B0aW9uczogewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vICAgbGluZVdyYXBwaW5nOiB0cnVlLCAvLyBFbmFibGUgbGluZSB3cmFwcGluZwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIC8vICAgLy9Db2RlbWlycm9yIG9wdGlvbnMKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vIHRhYlNpemU6IDQsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxpbmU6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBmb2xkR3V0dGVyOiB0cnVlLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc3R5bGVTZWxlY3RlZFRleHQ6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAvLyBrZXlNYXA6ICJzdWJsaW1lIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vIHRoZW1lOiAibW9ub2thaSIsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBleHRyYUtleXM6IHsgQ3RybDogImF1dG9jb21wbGV0ZSIgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGhpbnRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgIGNvbXBsZXRlU2luZ2xlOiAhZmFsc2UsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlZjogInJhd0h0bWwiLAogICAgICAgICAgICAgICAgLy8gICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gICAgICAgLy8gdGhpcy5tZWRpYURhdGEgPSBoXygnV0JIdG1sJywgeyBwcm9wczogeyBodG1sOiByZXNwb25zZS5kYXRhIH0gfSkKICAgICAgICAgICAgICAgIC8vICAgICB9CgogICAgICAgICAgICAgICAgLy8gICAgIC8vIGVsc2UgewogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgdGhpcy5tZWRpYURhdGEgPSBoXygnV0JIdG1sJywgeyBwcm9wczogeyBodG1sOiByZXNwb25zZS5kYXRhIH0gfSkKCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyB0aGlzLm1lZGlhRGF0YSA9IGhfKCdpZnJhbWUnLCB7CiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgdGl0bGU6IGVsLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgZnJhbWVib3JkZXI6ICIwIiwKICAgICAgICAgICAgICAgIC8vICAgICAvLyAgIC8vICAgICBhbGxvdzogImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWEiLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICAgIGFsbG93ZnVsbHNjcmVlbjogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vICAgICAvLyAgIC8vICAgICBhbGxvdzogImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgcmVmZXJyZXJwb2xpY3k6ICJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luIgogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICB9LAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICBjbGFzczogJ2NvbnRhaW5lcicsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgcmVzaXplOiAnYm90aCcsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgLy8gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICAgIHRvcDogMCwKICAgICAgICAgICAgICAgIC8vICAgICAvLyAgIC8vICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICAgIGhlaWdodDogJzEwMCUnLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAvLyAgICAgYm9yZGVyOiAwLAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICB9LAogICAgICAgICAgICAgICAgLy8gICAgIC8vICAgLy8gICByZWY6ICdyYXdIdG1sJywKICAgICAgICAgICAgICAgIC8vICAgICAvLyAgIC8vIH0pCiAgICAgICAgICAgICAgICAvLyAgICAgLy8gfQoKICAgICAgICAgICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygnY29udGVudFR5cGVlZWVlZWVlZWUgOj4+ICcsIGNvbnRlbnRUeXBlKTsKICAgICAgICAgICAgICAgIC8vICAgfSkKICAgICAgICAgICAgICAgIC8vICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMubWVkaWFEYXRhID0gaF8oImlmcmFtZSIsIHsKICAgICAgICAgICAgICAgIC8vICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNyYzogZWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnRyb2xzOiB0cnVlLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBmcmFtZWJvcmRlcjogIjAiLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBhbGxvdzogImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWEiLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBhbGxvd2Z1bGxzY3JlZW46IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGFsbG93OgogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiLAogICAgICAgICAgICAgICAgLy8gICAgICAgICByZWZlcnJlcnBvbGljeTogInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4iLAogICAgICAgICAgICAgICAgLy8gICAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgIGNsYXNzOiAiY29udGFpbmVyIHdoaXRlIiwKICAgICAgICAgICAgICAgIC8vICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlc2l6ZTogImJvdGgiLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgIC8vICAgICAgICAgdG9wOiAwLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgLy8gICAgICAgICBoZWlnaHQ6ICIxMDAlIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgYm9yZGVyOiAwLAogICAgICAgICAgICAgICAgLy8gICAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgIHJlZjogInJhd0h0bWwiLAogICAgICAgICAgICAgICAgLy8gICAgIH0pOwogICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLm1lZGlhRGF0YSA9IGVsLy9oXygnbGknLFtlbF0pOyAvLyBTZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSB0byB0aGUgZXJyb3IgaWYgaXQgb2NjdXJzCiAgICAgICAgICAgICAgICAvLyAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIG1haW4gPSB0aGlzLm1lZGlhRGF0YQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gZWxzZSB7CgogICAgICAgICAgICAgIC8vIAkvLyB0aGlzLmdldFVybFJlc3BvbnNlKGVsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAvLyAJLy8gCW1haW4gPSByZXNwb25zZTsgLy8gVXNlIHRoZSByZXNwb25zZSBkYXRhIGhlcmUKICAgICAgICAgICAgICAvLyAJLy8gfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgIC8vIAkvLyAJY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOyAvLyBIYW5kbGUgYW55IHBvdGVudGlhbCBlcnJvcnMKICAgICAgICAgICAgICAvLyAJLy8gfSk7CgogICAgICAgICAgICAgIC8vIAkvLyBDYWxsIHRoZSBtZXRob2QgYW5kIGhhbmRsZSB0aGUgcmVzcG9uc2UKICAgICAgICAgICAgICAvLyAJLy8gZWxzZSB7CgogICAgICAgICAgICAgIC8vIAkvLyB9CgogICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgLy8gbWFpbiA9IHRoaXMuZmlsZUNvbnRlbnQ7IC8vIFNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIHRvIHRoZSByZXNwb25zZSBkYXRhCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGlmICh0aGlzLm1lZGlhRGF0YSl7CiAgICAgICAgICAgIC8vIDwgaWZyYW1lIHdpZHRoID0gIjEyNTEiIGhlaWdodCA9ICI4MzQiIHNyYyA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9VNnVVTlJ0X2dyaz9saXN0PVJEVTZ1VU5SdF9ncmsiIHRpdGxlID0gIkFkYW0gU2FycmEgQWwgSGFuaSAtINij2K/ZhSDYs9in2LHZhyDYp9mE2YfYp9mG2Yog2KPZg9iw2Kgg2LnZhNmK2YMiIGZyYW1lYm9yZGVyID0gIjAiIGFsbG93ID0gImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIgcmVmZXJyZXJwb2xpY3kgPSAic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiIgYWxsb3dmdWxsc2NyZWVuID4gPC8+CgogICAgICAgICAgICAvLyA8aWZyYW1lIHdpZHRoPSI1NjAiIGhlaWdodCA9ICIzMTUiIHNyYyA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9VNnVVTlJ0X2dyaz9saXN0PVJEVTZ1VU5SdF9ncmsmc3RhcnRfcmFkaW89MSIgZnJhbWVib3JkZXIgPSAiMCIgYWxsb3cgPSAiYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYSIgYWxsb3dmdWxsc2NyZWVuID4gPC9pZnJhbWU+CgogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIF07CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gInN0cmluZyIgJiYgZWwuc3RhcnRzV2l0aCgiPCIpICYmIGVsLmVuZHNXaXRoKCI+IikpIHsKICAgICAgICAgICAgbWFpbiA9IGhfKGVsLnJlcGxhY2UoIn4iLCAiIikucmVwbGFjZSgiPCIsICIiKS5yZXBsYWNlKCI+IiwgIiIpLCB7CiAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtYWluID0gaF8oIldCSHRtbCIsIHsKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAvLyBrZXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleSgnZWwnKX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgaHRtbDogZWwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsID09ICJib29sZWFuIikgewogICAgICAgICAgLy8gbWFpbiA9IGhfKCdpbnB1dCcsIHsKICAgICAgICAgIC8vIAlyZWY6ICdyYXdIdG1sJywKICAgICAgICAgIC8vIAlhdHRyczogeyB0eXBlOiAnY2hlY2tib3gnLCBjaGVja2VkOiBlbCB9LAogICAgICAgICAgLy8gCWtleXk6IGBib29sLSR7dGhpcy5jb21wdXRlZEtleShlbCl9LSR7TnVtYmVyKGVsKX1gLAogICAgICAgICAgLy8gCXByb3BzOiB7CiAgICAgICAgICAvLyAJCXZhbHVlOiB0cnVlLAogICAgICAgICAgLy8gCQlsYWJlbDogJ0Jvb2xlYW4nLAogICAgICAgICAgLy8gCX0sCiAgICAgICAgICAvLyAJb246IHsKICAgICAgICAgIC8vIAkJY2hhbmdlOiAoZXZlbnQpID0+IHsKICAgICAgICAgIC8vIAkJCS8vIGFsZXJ0KCdhYWFhYWFhYWFhYWFhJykKICAgICAgICAgIC8vIAkJCS8vIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICAgIC8vIAkJCWVsID0gIWVsOwogICAgICAgICAgLy8gCQl9LAogICAgICAgICAgLy8gCX0sCiAgICAgICAgICAvLyB9KTsKICAgICAgICAgIG1haW4gPSBoXygiVkNoZWNrYm94IiwgewogICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgLy8gYXR0cnM6IHsgdHlwZTogJ2NoZWNrYm94JywgY2hlY2tlZDogZWwgfSwKICAgICAgICAgICAgLy8ga2V5OiBgYm9vbC0ke3RoaXMuY29tcHV0ZWRLZXkoZWwpfS0ke051bWJlcihlbCl9YCwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB2YWx1ZTogZWwKICAgICAgICAgICAgICAvLyBsYWJlbDogJ0Jvb2xlYW4nLAogICAgICAgICAgICB9LAogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKHYpIHsKICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdhYWFhYWFhYWFhYWFhJyArIGVsKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codik7CiAgICAgICAgICAgICAgICBlbCA9ICF2OwogICAgICAgICAgICAgICAgLy8gZWwgPSBldmVudC50YXJnZXQudmFsdWUgPT0gJ29uJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsID09ICJudW1iZXIiKSB7CiAgICAgICAgICBtYWluID0gaF8oInNwYW4iLCB7CiAgICAgICAgICAgIHJlZjogInJhd0h0bWwiIC8qICxrZXk6IGBpbnQtJHt0aGlzLmNvbXB1dGVkS2V5KGVsKX0tJHt0aGlzLmtleV99YCAqLwogICAgICAgICAgfSwgW2VsXSk7CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVsKSkgewogICAgICAgICAgdmFyIF9lbDQ4LCBfZWw0OSwgX2VsNTAsIF9lbDUzLCBfZWw1NCwgX2VsNTUsIF9lbDU2LCBfZWw1NywgX2VsNTgsIF9lbDU5OwogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2VsbW1tbW1tbW1tbW1tIDo+PiAnLCBlbCk7CgogICAgICAgICAgLy8gYWxlcnQoJzExMTExMTExMTExJykKCiAgICAgICAgICAvLyBpZih0eXBlb2YgZWxbMF0/LmNvbXA9PSdzdHJpbmcnIGFuZCBlbFswXT8uY29tcC5pbmNsdWRlcygnficpICl7CiAgICAgICAgICAvLyBsZXQgdjAKICAgICAgICAgIC8vCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWFhYWFhYWFhYWFhYWFhYWFhYScsZWwsZWw/LlswXSkKICAgICAgICAgIC8qIGlmKGVsLmxlbmd0aD09MSl7CiAgICAgICAgICAgIG1haW49aF8oJ2Rpdicse2NsYXNzOidibHVlIHBhLTE1J30sWydsZXZlbCcsdGhpcy50b1dCQ18oZWxbMF0sIGhfKV0pCiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmKEFycmF5LmlzQXJyYXkoZWw/LlswXSkpewogICAgICAgICAgICBjb25zb2xlLmxvZygnYmJiYmJiYmJiYmJiYmJiYmJiYmJiJyxlbCxlbD8uWzBdKQogICAgICAgICAgICAvLyBtYWluPVtoXygnbGknLHtjbGFzczonYmxhY2snfSxbdGhpcy50b1dCQ18oZWxbMF0sIGhfKV0pLHRoaXMudG9XQkNfKGVsLmxlbmd0aD4xP2VsLnNsaWNlKDEpOm51bGwsaF8pXQogICAgICAgICAgICBtYWluPXRoaXMudG9XQkNfKFtoXygnbGknLHtjbGFzczonYmxhY2snfSxbdGhpcy50b1dCQ18oZWxbMF0sIGhfKV0pLHRoaXMudG9XQkNfKGVsLmxlbmd0aD4xP2VsLnNsaWNlKDEpOm51bGwsaF8pXSxoXykKICAgICAgICAgICAgLy8gbWFpbj1oXygnbGknLFsnbWFpbiBtYWluIGNvbnRlbnQgdG8gYWRkZGRkZGRkZGRkZGRkZGQnXSkKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgICAqLwogICAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLScsZWwpCgogICAgICAgICAgaWYgKHR5cGVvZiAoKF9lbDQ4ID0gZWwpID09PSBudWxsIHx8IF9lbDQ4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw0OFswXSkgPT09ICJzdHJpbmciICYmIChfZWw0OSA9IGVsKSAhPT0gbnVsbCAmJiBfZWw0OSAhPT0gdm9pZCAwICYmIF9lbDQ5WzBdLnN0YXJ0c1dpdGgoIjwiKSAmJiAoX2VsNTAgPSBlbCkgIT09IG51bGwgJiYgX2VsNTAgIT09IHZvaWQgMCAmJiBfZWw1MFswXS5lbmRzV2l0aCgiPiIpKSB7CiAgICAgICAgICAgIHZhciBfZWw1MSwgX2VsNTI7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0wMDAwMDAwJyxlbCkKICAgICAgICAgICAgdmFyIHRoZVRhZzsKICAgICAgICAgICAgdmFyIHRoZU9wdGlvbnM7CiAgICAgICAgICAgIHZhciB0aGVMaW5rOwogICAgICAgICAgICB2YXIgdGhlVGFnU2xpcCA9IChfZWw1MSA9IGVsKSA9PT0gbnVsbCB8fCBfZWw1MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNTFbMF0ucmVwbGFjZSgiPCIsICIiKS5yZXBsYWNlKCI+IiwgIiIpLnNwbGl0KCJ8Iik7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0nLHRoZVRhZ1NsaXApCiAgICAgICAgICAgIC8vIGxldCB0aGVUYWc9ZWw/LlswXQogICAgICAgICAgICB0aGVUYWcgPSB0aGVUYWdTbGlwID09PSBudWxsIHx8IHRoZVRhZ1NsaXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZVRhZ1NsaXBbMF0ucmVwbGFjZSgiPCIsICIiKS5yZXBsYWNlKCI+IiwgIiIpOwogICAgICAgICAgICB0aGVPcHRpb25zID0gdGhpcy5zdHJUb09iaih0aGVUYWdTbGlwID09PSBudWxsIHx8IHRoZVRhZ1NsaXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRoZVRhZ1NsaXBbMV0pOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tMTExMTExJyx0aGVPcHRpb25zKQogICAgICAgICAgICBpZiAoIXRoaXMuaXNOb25FbXB0eSh0aGVPcHRpb25zKSkgewogICAgICAgICAgICAgIHRoZU9wdGlvbnMgPSB7fTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlT3B0aW9ucyA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgIHRoZU9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBjbGFzczogdGhlT3B0aW9ucwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGxldCB0aGVUYWc9aF8oZWw/LlswXS5yZXBsYWNlKCd+JywnJykucmVwbGFjZSgnPCcsJycpLnJlcGxhY2UoJz4nLCcnKSkKICAgICAgICAgICAgdmFyIGUgPSB7CiAgICAgICAgICAgICAgY29tcDogdGhlVGFnLAogICAgICAgICAgICAgIG9wdGlvbnM6IHRoZU9wdGlvbnMKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vIG1haW49aF8oJ2EnLHt9LFttYWluXSkKCiAgICAgICAgICAgIGlmICh0aGVUYWdTbGlwICE9PSBudWxsICYmIHRoZVRhZ1NsaXAgIT09IHZvaWQgMCAmJiB0aGVUYWdTbGlwWzJdKSB7CiAgICAgICAgICAgICAgZS5vcHRpb25zLnRvID0gdGhpcy5zdHJUb09iaih0aGVUYWdTbGlwWzJdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdGhlVGFnPSdzcGFuJwogICAgICAgICAgICBpZiAoKF9lbDUyID0gZWwpICE9PSBudWxsICYmIF9lbDUyICE9PSB2b2lkIDAgJiYgKF9lbDUyID0gX2VsNTJbMF0pICE9PSBudWxsICYmIF9lbDUyICE9PSB2b2lkIDAgJiYgX2VsNTIuaW5jbHVkZXMoIn4iKSkgewogICAgICAgICAgICAgIG1haW4gPSBoXyh0aGVUYWcucmVwbGFjZSgifiIsICIiKSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGVPcHRpb25zIHx8IHt9KSwge30sIHsKICAgICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICAgICAgfSksIFsKICAgICAgICAgICAgICAvLyBoXygnV0JDJyx7Lyoga2V5eTogYHdiYy1rZXktbmVzdGVkMC0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwgKi9wcm9wczp7aXRlbTplbC5sZW5ndGg+MT9lbC5zbGljZSgxKTpudWxsfX0pCgogICAgICAgICAgICAgIHRoaXMudG9XQkNfKGVsLmxlbmd0aCA+IDEgPyBlbC5zbGljZSgxKSA6IG51bGwsIGhfKV0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8qIGxldCBhcnJyID0gW107CiAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCBlbC5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgYXJyci5wdXNoKHRoaXMudG9XQkNfKGUsIGhfLCBlbFtrXSkgKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBtYWluID1hcnJyICovCiAgICAgICAgICAgICAgbWFpbiA9IGVsLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2l0ZW1tbW1tbW1tbW1tbW0gOj4+ICcsIGl0ZW0sIGhfKCdXQkMnLCB7IHByb3BzOiB7aXRlbTplfSB9KSk7CiAgICAgICAgICAgICAgICAvLyBlLmZvb3Rlcj1pdGVtCiAgICAgICAgICAgICAgICAvLyByZXR1cm4gaF8oJ1dCQycse2tleTogYHdiYy1rZXktbmVzdGVkMC0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCxwcm9wczp7aXRlbTplLGNoaWxkcmVuOml0ZW19fSkKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LnRvV0JDXyhlLCBoXywgaXRlbSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGlmKHRoZVRhZ1NsaXA/LlsyXSl7CiAgICAgICAgICAgIC8vIAkvLyBtYWluPWhfKCdhJyx7fSxbbWFpbl0pCgogICAgICAgICAgICAvLyAJbWFpbj1oXygnV0JMaW5rJywgewoKICAgICAgICAgICAgLy8gCQlwcm9wczogewogICAgICAgICAgICAvLyAJCQl0bzogdGhpcy5zdHJUb09iaih0aGVUYWdTbGlwWzJdKSwKICAgICAgICAgICAgLy8gCQkJaHRtbDogdGhpcy50b1dCQ18obWFpbixoXyksCiAgICAgICAgICAgIC8vIAkJCXN0eWxlXzoge30sCiAgICAgICAgICAgIC8vIAkJCWF0dHJzOiB7fQogICAgICAgICAgICAvLyAJCX0KICAgICAgICAgICAgLy8gCX0pCgogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAvLyBtYWluPXRoaXMudG9XQkNfKGVsWzBdLCBoXyxlbC5sZW5ndGg+MT9lbC5zbGljZSgxKTpudWxsKQogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKChfZWw1MyA9IGVsKSA9PT0gbnVsbCB8fCBfZWw1MyA9PT0gdm9pZCAwIHx8IChfZWw1MyA9IF9lbDUzWzBdKSA9PT0gbnVsbCB8fCBfZWw1MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNTMuY29tcCkgPT0gInN0cmluZyIgJiYgKChfZWw1NCA9IGVsKSAhPT0gbnVsbCAmJiBfZWw1NCAhPT0gdm9pZCAwICYmIChfZWw1NCA9IF9lbDU0WzBdKSAhPT0gbnVsbCAmJiBfZWw1NCAhPT0gdm9pZCAwICYmIChfZWw1NCA9IF9lbDU0LmNvbXApICE9PSBudWxsICYmIF9lbDU0ICE9PSB2b2lkIDAgJiYgX2VsNTQuaW5jbHVkZXMoIn4iKSB8fCAoX2VsNTUgPSBlbCkgIT09IG51bGwgJiYgX2VsNTUgIT09IHZvaWQgMCAmJiAoX2VsNTUgPSBfZWw1NVswXSkgIT09IG51bGwgJiYgX2VsNTUgIT09IHZvaWQgMCAmJiAoX2VsNTUgPSBfZWw1NS5jb21wKSAhPT0gbnVsbCAmJiBfZWw1NSAhPT0gdm9pZCAwICYmIF9lbDU1LmluY2x1ZGVzKCIqIikgfHwgKF9lbDU2ID0gZWwpICE9PSBudWxsICYmIF9lbDU2ICE9PSB2b2lkIDAgJiYgKF9lbDU2ID0gX2VsNTZbMF0pICE9PSBudWxsICYmIF9lbDU2ICE9PSB2b2lkIDAgJiYgKF9lbDU2ID0gX2VsNTYuY29tcCkgIT09IG51bGwgJiYgX2VsNTYgIT09IHZvaWQgMCAmJiBfZWw1Ni5zdGFydHNXaXRoKCI8IikgJiYgKF9lbDU3ID0gZWwpICE9PSBudWxsICYmIF9lbDU3ICE9PSB2b2lkIDAgJiYgKF9lbDU3ID0gX2VsNTdbMF0pICE9PSBudWxsICYmIF9lbDU3ICE9PSB2b2lkIDAgJiYgKF9lbDU3ID0gX2VsNTcuY29tcCkgIT09IG51bGwgJiYgX2VsNTcgIT09IHZvaWQgMCAmJiBfZWw1Ny5lbmRzV2l0aCgiPiIpKSB8fCBbIm5lc3RlZCIsICJoZXJpdCIsICJhZGphY2VudCJdLmluY2x1ZGVzKChfZWw1OCA9IGVsKSA9PT0gbnVsbCB8fCBfZWw1OCA9PT0gdm9pZCAwIHx8IChfZWw1OCA9IF9lbDU4WzBdKSA9PT0gbnVsbCB8fCBfZWw1OCA9PT0gdm9pZCAwIHx8IChfZWw1OCA9IF9lbDU4Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDU4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw1OC5kaXNwb3NpdGlvbikgJiYgKF9lbDU5ID0gZWwpICE9PSBudWxsICYmIF9lbDU5ICE9PSB2b2lkIDAgJiYgKF9lbDU5ID0gX2VsNTlbMF0pICE9PSBudWxsICYmIF9lbDU5ICE9PSB2b2lkIDAgJiYgKF9lbDU5ID0gX2VsNTkub3B0aW9ucykgIT09IG51bGwgJiYgX2VsNTkgIT09IHZvaWQgMCAmJiBfZWw1OS5oaWRlKSB7CiAgICAgICAgICAgIHZhciBfZWw2MCwgX2VsNjEsIF9lbDYyLCBfZWw2OCwgX2VsMCRjb21wLCBfZWw2OSwgX2VsNzAsIF9lbDcxOwogICAgICAgICAgICAvLyBhbGVydCgnOTk5OTk5OTk5OTk5OScpCgogICAgICAgICAgICB2YXIgbmV3QXJyID0gW107CiAgICAgICAgICAgIC8vIGxldCBlbDA9ZWw/LlswXQogICAgICAgICAgICB2YXIgZWwwID0gdGhpcy5jbG9uZSgoX2VsNjAgPSBlbCkgPT09IG51bGwgfHwgX2VsNjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDYwWzBdKTsKICAgICAgICAgICAgLy8gZWwwLmNvbXA9ZWwwLmNvbXAucmVwbGFjZSgnPCcsJycpLnJlcGxhY2UoJz4nLCcnKQoKICAgICAgICAgICAgdmFyIGhlcml0SXRlbTsKICAgICAgICAgICAgaWYgKCgoX2VsNjEgPSBlbCkgPT09IG51bGwgfHwgX2VsNjEgPT09IHZvaWQgMCB8fCAoX2VsNjEgPSBfZWw2MVswXSkgPT09IG51bGwgfHwgX2VsNjEgPT09IHZvaWQgMCB8fCAoX2VsNjEgPSBfZWw2MS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw2MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNjEuZGlzcG9zaXRpb24pID09ICJuZXN0ZWQiIHx8IChfZWw2MiA9IGVsKSAhPT0gbnVsbCAmJiBfZWw2MiAhPT0gdm9pZCAwICYmIChfZWw2MiA9IF9lbDYyWzBdKSAhPT0gbnVsbCAmJiBfZWw2MiAhPT0gdm9pZCAwICYmIChfZWw2MiA9IF9lbDYyLmNvbXApICE9PSBudWxsICYmIF9lbDYyICE9PSB2b2lkIDAgJiYgX2VsNjIuaW5jbHVkZXMoIn4iKSkgewogICAgICAgICAgICAgIHZhciBfZWwkLCBfZWw2MywgX2VsNjQsIF9lbDY1LCBfZWw2NiwgX2VsNjc7CiAgICAgICAgICAgICAgdmFyIF90aGVUYWcgPSBlbFswXS5jb21wLnJlcGxhY2UoIjwiLCAiIikucmVwbGFjZSgiPiIsICIiKS5yZXBsYWNlKCJ+IiwgIiIpOwogICAgICAgICAgICAgIC8vICBsZXQgdGhlVGFnID0gJ2xpJwogICAgICAgICAgICAgIHZhciBfdGhlT3B0aW9ucyA9ICgoX2VsJCA9IGVsWzBdKSA9PT0gbnVsbCB8fCBfZWwkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWwkLm9wdGlvbnMpIHx8IHt9OwogICAgICAgICAgICAgIC8vIGVsWzBdLmNvbXA9ZWxbMF0uY29tcC5yZXBsYWNlKCc8JywnJykucmVwbGFjZSgnPicsJycpCiAgICAgICAgICAgICAgLy8gZWxbMF0uY29tcD1lbFswXS5jb21wLnJlcGxhY2UoJ34nLCcnKQoKICAgICAgICAgICAgICAvLyB2MD10aGlzLnRvV0JDXyhlbFswXSwgaF8pCiAgICAgICAgICAgICAgLy8gIG5ld0Fycj10aGlzLnRvV0JDXyhlbFswXSwgaF8sZWwubGVuZ3RoPjE/ZWwuc2xpY2UoMSk6bnVsbCkKICAgICAgICAgICAgICAvLyAgbmV3QXJyPWhfKCdXQkMnLHtrZXl5OiBgd2JjLWtleS1hcnItJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfWAscHJvcHM6e2l0ZW06ZWxbMF0sY2hpbGRyZW46ZWwubGVuZ3RoPjE/ZWwuc2xpY2UoMSk6bnVsbH19KQoKICAgICAgICAgICAgICBuZXdBcnIgPSBoXyhfdGhlVGFnLCBfb2JqZWN0U3ByZWFkKHt9LCBfdGhlT3B0aW9ucyB8fCB7fSksIFsKICAgICAgICAgICAgICAvLyBoXygnV0JDJyx7Lyoga2V5eTogYHdiYy1rZXktbmVzdGVkMC0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwgKi9wcm9wczp7aXRlbTplbC5sZW5ndGg+MT9lbC5zbGljZSgxKTpudWxsfX0pCiAgICAgICAgICAgICAgdGhpcy50b1dCQ18oKF9lbDYzID0gZWwpID09PSBudWxsIHx8IF9lbDYzID09PSB2b2lkIDAgfHwgKF9lbDYzID0gX2VsNjNbMF0pID09PSBudWxsIHx8IF9lbDYzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw2My5oZWFkZXIsIGhfKSwgdGhpcy50b1dCQ18oKF9lbDY0ID0gZWwpID09PSBudWxsIHx8IF9lbDY0ID09PSB2b2lkIDAgfHwgKF9lbDY0ID0gX2VsNjRbMF0pID09PSBudWxsIHx8IF9lbDY0ID09PSB2b2lkIDAgfHwgKF9lbDY0ID0gX2VsNjQub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDY0LmhlYWRlcnMsIGhfKSwgdGhpcy50b1dCQ18oKF9lbDY1ID0gZWwpID09PSBudWxsIHx8IF9lbDY1ID09PSB2b2lkIDAgfHwgKF9lbDY1ID0gX2VsNjVbMF0pID09PSBudWxsIHx8IF9lbDY1ID09PSB2b2lkIDAgfHwgKF9lbDY1ID0gX2VsNjUub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDY1Lmh0bWwsIGhfKSwgdGhpcy50b1dCQ18oZWwubGVuZ3RoID4gMSA/IGVsLnNsaWNlKDEpIDogbnVsbCwgaF8pLCB0aGlzLnRvV0JDXygoX2VsNjYgPSBlbCkgPT09IG51bGwgfHwgX2VsNjYgPT09IHZvaWQgMCB8fCAoX2VsNjYgPSBfZWw2NlswXSkgPT09IG51bGwgfHwgX2VsNjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDY2LmZvb3RlciwgaF8pLCB0aGlzLnRvV0JDXygoX2VsNjcgPSBlbCkgPT09IG51bGwgfHwgX2VsNjcgPT09IHZvaWQgMCB8fCAoX2VsNjcgPSBfZWw2N1swXSkgPT09IG51bGwgfHwgX2VsNjcgPT09IHZvaWQgMCB8fCAoX2VsNjcgPSBfZWw2Ny5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw2NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNjcuZm9vdGVycywgaF8pXSk7CgogICAgICAgICAgICAgIC8vIGlmKGVsLmxlbmd0aD4xKXsgdjAuY2hpbGRyZW49Wy4uLih2MD8uY2hpbGRyZW58fFtdKSx0aGlzLnRvV0JDXyhlbC5zbGljZSgxKSwgaF8pXX0KICAgICAgICAgICAgfSBlbHNlIGlmICgoKF9lbDY4ID0gZWwpID09PSBudWxsIHx8IF9lbDY4ID09PSB2b2lkIDAgfHwgKF9lbDY4ID0gX2VsNjhbMF0pID09PSBudWxsIHx8IF9lbDY4ID09PSB2b2lkIDAgfHwgKF9lbDY4ID0gX2VsNjgub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDY4LmRpc3Bvc2l0aW9uKSA9PSAiaGVyaXQiIHx8IGVsMCAhPT0gbnVsbCAmJiBlbDAgIT09IHZvaWQgMCAmJiAoX2VsMCRjb21wID0gZWwwLmNvbXApICE9PSBudWxsICYmIF9lbDAkY29tcCAhPT0gdm9pZCAwICYmIF9lbDAkY29tcC5pbmNsdWRlcygiKiIpKSB7CiAgICAgICAgICAgICAgLy8gYWxlcnQoJ2hoaGhoaGhoaGhoaGhoaGhoaGhoJytlbD8uWzBdPy5jb21wKQogICAgICAgICAgICAgIGVsLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgICAgICAgICAgIC8vIGVsMC5jaGlsZHJlbj1pdGVtCgogICAgICAgICAgICAgICAgLy8gYWxlcnQoJyoqKioqKioqKioqKioqJytpdGVtKQogICAgICAgICAgICAgICAgaWYgKF90aGlzMTQuaXNQbGFpbk9iamVjdChpdGVtKSkgewogICAgICAgICAgICAgICAgICAvLyAgbGV0IGU9IHsKICAgICAgICAgICAgICAgICAgLy8gCS4uLmVsMCwKICAgICAgICAgICAgICAgICAgLy8gCS4uLihpdGVtfHx7fSksCiAgICAgICAgICAgICAgICAgIC8vIAlkaXZlOnRydWUsCiAgICAgICAgICAgICAgICAgIC8vIAkvLyBjb21wOmVsMC5jb21wLnJlcGxhY2UoJyonLCcnKQogICAgICAgICAgICAgICAgICAvLyAJb3B0aW9uczp0aGlzLm1lcmdlT2JqZWN0cyhlbDA/Lm9wdGlvbnN8fHt9LGl0ZW0/Lm9wdGlvbnN8fHt9KSwKICAgICAgICAgICAgICAgICAgLy8gCS8vIH0sCiAgICAgICAgICAgICAgICAgIC8vICB9CgogICAgICAgICAgICAgICAgICB2YXIgX2UgPSBfdGhpczE0Lm1lcmdlT2JqZWN0cyhlbDAsIGl0ZW0pOwogICAgICAgICAgICAgICAgICAvLyBuZXdBcnIucHVzaCh0aGlzLnRvV0JDXyhlLGhfKSkKICAgICAgICAgICAgICAgICAgbmV3QXJyLnB1c2goaF8oIldCQyIsIHsKICAgICAgICAgICAgICAgICAgICAvLyBrZXk6IGB3YmMta2V5LWFyci0ke2l9LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLAogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBfZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdmFyIF9lMCRvcHRpb25zOwogICAgICAgICAgICAgICAgICB2YXIgZTAgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGVsMCksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgLy8gZGl2ZTp0cnVlLAogICAgICAgICAgICAgICAgICAgIC8vIGNvbXA6ZWwwLmNvbXAucmVwbGFjZSgnKicsJycpCiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgKGVsMCA9PT0gbnVsbCB8fCBlbDAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsMC5vcHRpb25zKSB8fCB7fSkKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAvLyBsZXQgZTAgPSB7IC4uLmVsMCB9OwogICAgICAgICAgICAgICAgICBlMC5vcHRpb25zLmh0bWwgPSBbZTAgPT09IG51bGwgfHwgZTAgPT09IHZvaWQgMCB8fCAoX2UwJG9wdGlvbnMgPSBlMC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZTAkb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UwJG9wdGlvbnMuaHRtbCwgaXRlbV07CiAgICAgICAgICAgICAgICAgICJlbCI7CiAgICAgICAgICAgICAgICAgIC8vIGUwLm9wdGlvbnMuaHRtbCA9IGl0ZW07CiAgICAgICAgICAgICAgICAgIC8vIGUwLm9wdGlvbnMuaHRtbCA9IFtlMD8ub3B0aW9ucz8uaHRtbCxpdGVtXTsKICAgICAgICAgICAgICAgICAgZTAuY29tcCA9IGUwLmNvbXAucmVwbGFjZSgiKiIsICIiKS5yZXBsYWNlKCI8IiwgIiIpLnJlcGxhY2UoIj4iLCAiIik7CgogICAgICAgICAgICAgICAgICAvLyBoZXJpdEl0ZW09dGhpcy50b1dCQ18oZTAsaF8pCiAgICAgICAgICAgICAgICAgIC8vIGhlcml0SXRlbT10aGlzLnRvV0JDXyhlbDAsaF8saXRlbSkKCiAgICAgICAgICAgICAgICAgIG5ld0Fyci5wdXNoKGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgICAgICAgLy8ga2V5eTogYHdiYy1rZXktYXJyLSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLAogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBlMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAvLyBuZXdBcnIucHVzaCh0aGlzLnRvV0JDXyhlMCxoXykpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoKChfZWw2OSA9IGVsKSA9PT0gbnVsbCB8fCBfZWw2OSA9PT0gdm9pZCAwIHx8IChfZWw2OSA9IF9lbDY5WzBdKSA9PT0gbnVsbCB8fCBfZWw2OSA9PT0gdm9pZCAwIHx8IChfZWw2OSA9IF9lbDY5Lm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDY5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw2OS5kaXNwb3NpdGlvbikgPT0gImFkamFjZW50IiB8fCAoX2VsNzAgPSBlbCkgIT09IG51bGwgJiYgX2VsNzAgIT09IHZvaWQgMCAmJiAoX2VsNzAgPSBfZWw3MFswXSkgIT09IG51bGwgJiYgX2VsNzAgIT09IHZvaWQgMCAmJiAoX2VsNzAgPSBfZWw3MC5jb21wKSAhPT0gbnVsbCAmJiBfZWw3MCAhPT0gdm9pZCAwICYmIF9lbDcwLnN0YXJ0c1dpdGgoIjwiKSAmJiAoX2VsNzEgPSBlbCkgIT09IG51bGwgJiYgX2VsNzEgIT09IHZvaWQgMCAmJiAoX2VsNzEgPSBfZWw3MVswXSkgIT09IG51bGwgJiYgX2VsNzEgIT09IHZvaWQgMCAmJiAoX2VsNzEgPSBfZWw3MS5jb21wKSAhPT0gbnVsbCAmJiBfZWw3MSAhPT0gdm9pZCAwICYmIF9lbDcxLmVuZHNXaXRoKCI+IikpIHsKICAgICAgICAgICAgICBuZXdBcnIgPSBlbC5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgICAgICAgICAgIC8vIHJldHVybiBoXygnV0JDJywgewogICAgICAgICAgICAgICAgLy8ga2V5eTogYHdiYy1rZXktYXJyLSR7aX0tJHt0aGlzLmNvbXB1dGVkS2V5KCBlbD8ub3B0aW9ucz8ua2V5ICl9YCwKICAgICAgICAgICAgICAgIC8vIAlwcm9wczogeyBpdGVtOiBlbDAsIGNoaWxkcmVuOiBpdGVtIH0sCiAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LnRvV0JDXyhlbDAsIGhfLCBpdGVtKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBlbHNlewogICAgICAgICAgICAvLyAJZWwwLmNvbXA9ZWwwLmNvbXAucmVwbGFjZSgnficsJycpCiAgICAgICAgICAgIC8vIAluZXdBcnI9dGhpcy50b1dCQ18oZWwwLGhfLGVsLnNsaWNlKDEpKQogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIG1haW4gPSBuZXdBcnI7CiAgICAgICAgICAgIC8vIG1haW49dGhpcy50b1dCQ18obmV3QXJyLGhfKQogICAgICAgICAgfQoKICAgICAgICAgIC8vIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICB2YXIgdjAgPSBoXygiV0JDIiwgewogICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiLAogICAgICAgICAgICAgIC8vIGtleTogYHdiYy1jaGlsZC0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgaXRlbTogZWxbMF0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyBsZXQgcmVzdCA9IGhfKCdXQkMnLCB7CiAgICAgICAgICAgIC8vIAlrZXk6IGB3YmMtZXh0LWNoaWxkLSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLAogICAgICAgICAgICAvLyAJcHJvcHM6IHsgaXRlbTogZWwuc2xpY2UoMSkgfQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAvLyBtYWluPVt2MCxyZXN0XQoKICAgICAgICAgICAgLy8gbGV0IHYwPWVsWzBdCiAgICAgICAgICAgIC8vIG1haW4gPSBbdjAsIGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06ZWwubGVuZ3RoID4gMCA/IGVsLnNsaWNlKDEpIDogbnVsbCB9IH0pXTsKCiAgICAgICAgICAgIG1haW4gPSBbdjAsIHRoaXMudG9XQkNfKGVsLmxlbmd0aCA+IDAgPyBlbC5zbGljZSgxKSA6IG51bGwsIGhfKV07CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfZWw3MiwgX29wdGlvbnMsIF9vcHRpb25zMiwgX29wdGlvbnMzLCBfb3B0aW9uczQsIF9lbDc4LCBfb3B0aW9uczI4LCBfZWwkb3B0aW9uczEwNDsKICAgICAgICAgIGV4dENoaWxkcmVuID0gaF8oIldCQyIsIHsKICAgICAgICAgICAgLyoga2V5OiBgd2JjLWV4dC1jaGlsZC0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwgKi9wcm9wczogewogICAgICAgICAgICAgIGl0ZW06IGV4dGVybmFsQ2hpbGRyZW4KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICAvLyBleHRDaGlsZHJlbiA9dGhpcy50b1dCQ18oZXh0ZXJuYWxDaGlsZHJlbiwgaF8pCgogICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyhlbCk7CiAgICAgICAgICBjb21wID0gdGhpcy5jb21wKGVsKTsKCiAgICAgICAgICAvLyBoZWFkZXI9dGhpcy5nbG9iYWxIZWFkZXJWTihlbCxoXykKICAgICAgICAgIC8vIGZvb3Rlcj10aGlzLmdsb2JhbEZvb3RlclZOKGVsLGhfKQoKICAgICAgICAgIGdsb2JhbEhlYWRlclZOID0gdGhpcy5nbG9iYWxIZWFkZXJWTihlbCwgaF8pOwogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dsb2JhbEhlYWRlclZOIDo+PiAnLGVsLCBnbG9iYWxIZWFkZXJWTik7CiAgICAgICAgICAvLyBnbG9iYWxIZWFkZXJWTiA9IHRoaXMudG9XQkNfKGhlYWRlciwgaF8pCiAgICAgICAgICBnbG9iYWxGb290ZXJWTiA9IHRoaXMuZ2xvYmFsRm9vdGVyVk4oZWwsIGhfKTsKCiAgICAgICAgICAvLyBnbG9iYWxGb290ZXJWTiA9IHRoaXMudG9XQkNfKGZvb3RlciwgaF8pCgogICAgICAgICAgLy8gaGVhZGVycz10aGlzLmluc2lkZUhlYWRlcnNWTihlbCxoXykKICAgICAgICAgIC8vIGZvb3RlcnM9dGhpcy5mb290ZXJzKGVsKQoKICAgICAgICAgIGluc2lkZUhlYWRlcnNWTiA9IHRoaXMuaW5zaWRlSGVhZGVyc1ZOKGVsLCBoXyk7CiAgICAgICAgICBpbnNpZGVGb290ZXJzVk4gPSB0aGlzLmluc2lkZUZvb3RlcnNWTihlbCwgaF8pOwogICAgICAgICAgLy8gaGVhZGVycyA9dGhpcy50b1dCQ18odGhpcy5oZWFkZXJzKGVsKSwgaF8pCgogICAgICAgICAgLy8gaW5zaWRlRm9vdGVycyA9aF8oJ1dCQycse2tleTogYHdiYy1rZXktZm9vdGVycy0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCxwcm9wczp7aXRlbTpmb290ZXJzfX0pCiAgICAgICAgICAvLyBmb290ZXJzID10aGlzLnRvV0JDXyh0aGlzLmZvb3RlcnMoZWwpLCBoXykKCiAgICAgICAgICAvLyBmb290ZXJzID1oXygnV0JDJyx7a2V5eTogYHdiYy1rZXktZm9vdGVycy0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCxwcm9wczp7aXRlbTpvcHRpb25zPy5mb290ZXJzfX0pCiAgICAgICAgICAvLyAvLyBmb290ZXJzID10aGlzLnRvV0JDXyhvcHRpb25zPy5mb290ZXJzLCBoXykKCiAgICAgICAgICAvLyMjIyMjIyMjIyMjIyMvLwoKICAgICAgICAgIHZhciBJbnB1dExpa2VDb21wb25lbnQgPSBbImlucHV0IiwgImNoZWNib3giLCAicmFkaW8iLCAic2VsZWN0IiwgInRleHRhcmVhIiwgIlZUZXh0RmllbGQiLCAiVkNoZWNrYm94IiwgIlZUZXh0YXJlYSIsICJWU2VsZWN0IiwgIlZSYWRpbyIsICJWU2xpZGVyIiwgIlZSYW5nZVNsaWRlciIsICJWU3dpdGNoIiwgIlZBdXRvY29tcGxldGUiLCAiVkRhdGVQaWNrZXIiLCAiVkNvbG9yUGlja2VyIiwgIlZNZW51IiwgIlZSYWRpb0dyb3VwIiwgInZUaW1lUGlja2VyIl07CiAgICAgICAgICBpZiAoSW5wdXRMaWtlQ29tcG9uZW50LmluY2x1ZGVzKGNvbXApKSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KCdpbnB1dXV1dXV1dXV1dXV1dXV1dXV1dXQnKQogICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1YtTW9kZWwgYWxlcm5hdGl2ZTogaW5pdGlhbGlzb25zIGV2ZW50cyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgICAgICAgLy8gaWYgKCFvcHRpb25zPy5vbikgewogICAgICAgICAgICAvLyAJY3VzdG9tTGlzdGVuZXJzID0ge307CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIGVsPy5vcHRpb25zPy52YWw9dGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdPy5sYXp5VmFsdWUKICAgICAgICAgICAgLy8gaWYob3B0aW9ucz8uYXR0cnMpe29wdGlvbnMuYXR0cnMudmFsdWU9dGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdPy5sYXp5VmFsdWU7fQogICAgICAgICAgICAvLyBpZihvcHRpb25zPy5wcm9wcz8udmFsdWUpe29wdGlvbnMucHJvcHMudmFsdWU9dGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdPy5sYXp5VmFsdWU7fQogICAgICAgICAgICAvLyBpZihvcHRpb25zPy5wcm9wcz8udmFsdWUpe29wdGlvbnMucHJvcHMudmFsdWU9dGhpcy4kcmVmcz8uW2VsPy5vcHRpb25zPy5yZWZdPy5sYXp5VmFsdWU7fQoKICAgICAgICAgICAgLy8gaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucz8ucnVsZXMpIC8qICYmIHJ1bGVzICE9PSBudWxsICovKSB7CiAgICAgICAgICAgIC8vIAlhbGVydCgncnVsZXMnKQoKICAgICAgICAgICAgLy8gCQkJCQkJCXJ1bGVzID0gb3B0aW9ucz8ucnVsZXMubWFwKGtleSA9PiB7CgogICAgICAgICAgICAvLyAJCQkJCQkJCWlmICh0aGlzLnZhbGlkYXRvcnM/LltrZXldKSB7CiAgICAgICAgICAgIC8vIAkJCQkJCQkJCXJldHVybiB2ID0+IHRoaXMudmFsaWRhdG9yc1trZXldKHYsIHsgbGc6IHRoaXMubGFuZyB9KQogICAgICAgICAgICAvLyAJCQkJCQkJCX0KICAgICAgICAgICAgLy8gCQkJCQkJCQllbHNlIHsKCiAgICAgICAgICAgIC8vIAkJCQkJCQkJCXJldHVybiBrZXkKICAgICAgICAgICAgLy8gCQkJCQkJCQl9CiAgICAgICAgICAgIC8vIAkJCQkJCQl9KQogICAgICAgICAgICAvLyAJCQkJCQl9CgogICAgICAgICAgICAvLyAJCQkJCQllbHNlIGlmICh0eXBlb2Ygb3B0aW9ucz8ucnVsZXMgPT0gJ29iamVjdCcgKSB7CgogICAgICAgICAgICAvLyAJCQkJCQkJcnVsZXMgPSBPYmplY3QuZW50cmllcyhvcHRpb25zLnJ1bGVzKS5tYXAoKFtrZXksIHZhbF0pID0+IHsKICAgICAgICAgICAgLy8gCQkJCQkJCQlpZiAodGhpcy52YWxpZGF0b3JzPy5ba2V5XSAmJiB0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgLy8gCQkJCQkJCQkJcmV0dXJuIHZhbAogICAgICAgICAgICAvLyAJCQkJCQkJCX0KICAgICAgICAgICAgLy8gCQkJCQkJCQllbHNlIGlmICh0aGlzLnZhbGlkYXRvcnM/LltrZXldICYmIHR5cGVvZiB2YWwgPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgLy8gCQkJCQkJCQkJcmV0dXJuIHYgPT4gdGhpcy52YWxpZGF0b3JzW2tleV0odiwgdmFsKQogICAgICAgICAgICAvLyAJCQkJCQkJCX0KICAgICAgICAgICAgLy8gCQkJCQkJCQllbHNlIHsKICAgICAgICAgICAgLy8gCQkJCQkJCQkJcmV0dXJuIHYgPT4gdGhpcy52YWxpZGF0b3JzW2tleV0odiwgeyBsZzogdGhpcy5sYW5nLCBtZXNzYWdlOiB2YWwgfSkKCiAgICAgICAgICAgIC8vIAkJCQkJCQkJfQogICAgICAgICAgICAvLyAJCQkJCQkJfSkKICAgICAgICAgICAgLy8gCQkJCQkJfQoKICAgICAgICAgICAgLy8gbGV0IHVwZGF0ZUlucHV0VmFsdWU9KGV2ZW50KT0+IHsKICAgICAgICAgICAgLy8gCWlmICh0eXBlb2YgZXZlbnQgPT0gJ29iamVjdCcgJiYgZXZlbnQ/LnRhcmdldCkgewogICAgICAgICAgICAvLyAJCS8vIGFsZXJ0KCdjaGFuZ2VkMCcpCiAgICAgICAgICAgIC8vIAkJaWYgKGV2ZW50Py50YXJnZXQ/LnR5cGUgPT0gJ2NoZWNrYm94JykgewoKICAgICAgICAgICAgLy8gCQkJLy8gdGhpcy5pdGVtXy5vcHRpb25zWyd2YWwnXSA9IGV2ZW50Py50YXJnZXQ/LmNoZWNrZWQgfHwgZmFsc2U7CiAgICAgICAgICAgIC8vIAkJCW9wdGlvbnMuYXR0cnNbJ2NoZWNrZWQnXSA9IGV2ZW50Py50YXJnZXQ/LmNoZWNrZWQgfHwgZmFsc2U7CiAgICAgICAgICAgIC8vIAkJfQogICAgICAgICAgICAvLyAJCW9wdGlvbnNbJ3ZhbCddID0gZXZlbnQ/LnRhcmdldD8udmFsdWUgfHwgZXZlbnQ/LnRhcmdldD8uY2hlY2tlZCB8fCBmYWxzZTsKCiAgICAgICAgICAgIC8vIAl9CiAgICAgICAgICAgIC8vIAllbHNlIHsKICAgICAgICAgICAgLy8gCQlpZiAoZWw/LmhDb21wID09ICdWQ2hlY2tib3gnKSB7CiAgICAgICAgICAgIC8vIAkJCW9wdGlvbnNbJ3ZhbCddID0gIW9wdGlvbnM/LlsndmFsJ118fGZhbHNlOwogICAgICAgICAgICAvLyAJCX0KICAgICAgICAgICAgLy8gCQllbHNlIHsKICAgICAgICAgICAgLy8gCQkJY29uc29sZS5sb2coMjIyMjIyMjIyMjIyMjIyMjIsIGV2ZW50LHRoaXMpCiAgICAgICAgICAgIC8vIAkJCW9wdGlvbnNbJ3ZhbCddID0gZXZlbnQgfHwgJyc7CiAgICAgICAgICAgIC8vIAkJCS8vIG9wdGlvbnMucHJvcHMudmFsdWU9ZXZlbnQKICAgICAgICAgICAgLy8gCQkJLy8gb3B0aW9ucy5pc1ZhbGlkID0gdGhpcy4kcmVmcy5yYXdIdG1sLnZhbGlkOwoKICAgICAgICAgICAgLy8gCQl9CiAgICAgICAgICAgIC8vIAl9CiAgICAgICAgICAgIC8vIAlpZiAob3B0aW9ucz8ucHJvcHMpewogICAgICAgICAgICAvLyAJCW9wdGlvbnMucHJvcHMudmFsdWU9b3B0aW9uc1sndmFsJ10KICAgICAgICAgICAgLy8gCX0KICAgICAgICAgICAgLy8gCWlmIChvcHRpb25zPy5hdHRycyl7CiAgICAgICAgICAgIC8vIAkJb3B0aW9ucy5hdHRycy52YWx1ZT1vcHRpb25zWyd2YWwnXQogICAgICAgICAgICAvLyAJfQoKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAvLyBvcHRpb25zWyd2YWwnXSA9dGhpcy4kcmVmc1tlbD8ub3B0aW9ucz8ucmVmXT8ubGF6eVZhbHVlfHwndHR0dHR0dHQnOwoKICAgICAgICAgICAgdGhpcy5pdGVtTGlzdGVuZXJzLmlucHV0ID0gZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICB2YXIgX3RoaXMxNCQkcmVmcyRfdGhpczsKICAgICAgICAgICAgICAvLyBhbGVydCgnY2hhbmdlMDAwMDAgZXZlbnQgb2NjdXJyZWQnKTsKICAgICAgICAgICAgICBfdGhpczE0LmludGVybmFsVmFsdWUgPSB2OwoKICAgICAgICAgICAgICAvLyB0aGlzLmludGVybmFsVmFsdWVJc1ZhbGlkID0gdGhpcz8uJHJlZnNbdGhpcy5yZWZOYW1lXT8udmFsaWQKCiAgICAgICAgICAgICAgX3RoaXMxNC5pbnRlcm5hbFZhbHVlSXNWYWxpZCA9IF90aGlzMTQgPT09IG51bGwgfHwgX3RoaXMxNCA9PT0gdm9pZCAwIHx8IChfdGhpczE0JCRyZWZzJF90aGlzID0gX3RoaXMxNC4kcmVmc1tfdGhpczE0LnJlZk5hbWVdKSA9PT0gbnVsbCB8fCBfdGhpczE0JCRyZWZzJF90aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczE0JCRyZWZzJF90aGlzLnZhbGlkYXRlKHRydWUsIHYpOwogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGFuZ2UwMDAwMCBldmVudCBvY2N1cnJlZCcsIHRoaXM/LiRyZWZzW3RoaXMucmVmTmFtZV0sIHYsIHRoaXMuaW50ZXJuYWxWYWx1ZUlzVmFsaWQpOwoKICAgICAgICAgICAgICAvLyB0aGlzLiRlbWl0KCdpbnB1dCcsIHYpOwogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyB0aGlzLml0ZW1MaXN0ZW5lcnMudXBkYXRlID0odik9PnsKICAgICAgICAgICAgLy8gCS8vIGFsZXJ0KCd1cGRhdGVkJykKICAgICAgICAgICAgLy8gCXRoaXMuaW50ZXJuYWxWYWx1ZT0gdgogICAgICAgICAgICAvLyAJLy8gdGhpcy4kZW1pdCgndXBkYXRlJywgdik7CiAgICAgICAgICAgIC8vIH07CiAgICAgICAgICAgIC8vIHRoaXMuaXRlbUxpc3RlbmVycy5jaGFuZ2UgPSh2KT0+ewogICAgICAgICAgICAvLyAJLy8gYWxlcnQoJ2NoYW5mPWdlZCcpCiAgICAgICAgICAgIC8vIAl0aGlzLmludGVybmFsVmFsdWU9IHYKICAgICAgICAgICAgLy8gCS8vIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHYpOwogICAgICAgICAgICAvLyB9OwoKICAgICAgICAgICAgLy8gb3B0aW9ucy5hdHRycz17fQoKICAgICAgICAgICAgLy8gaWYob3B0aW9ucz8ucHJvcHM/LnZhbHVlKXtvcHRpb25zLnByb3BzLnZhbHVlPXRoaXMuaW50ZXJuYWxWYWx1ZX0KICAgICAgICAgICAgLy8gb3B0aW9ucy5vbi5pbnB1dCA9IG9wdGlvbnM/Lm9uPy5pbnB1dCB8fCB0aGlzLnVwZGF0ZUlucHV0VmFsdWU7CiAgICAgICAgICAgIC8vIG9wdGlvbnMub24uY2hhbmdlID0gb3B0aW9ucz8ub24/LmNoYW5nZSB8fCB0aGlzLnVwZGF0ZUlucHV0VmFsdWU7CiAgICAgICAgICAgIC8vIG9wdGlvbnMub24udXBkYXRlID0gb3B0aW9ucz8ub24/LnVwZGF0ZSB8fCB0aGlzLnVwZGF0ZUlucHV0VmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBpZiAoSW5wdXRMaWtlQ29tcG9uZW50LmluY2x1ZGVzKGVsLmhDb21wKSkgewogICAgICAgICAgLy8gCS8vLy8vLy8vLy8vLy8vLy8vLy8vVi1Nb2RlbCBhbGVybmF0aXZlOiBpbml0aWFsaXNvbnMgZXZlbnRzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgICAgICAvLy8vLy8vLy8vLy8vbWFuaXB1dGF0aW9uIG9mIG1haW4gZWwgLy8vLy8vLy8vLy8vLy8vLwogICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgICAgIC8vIGxldCBydWxlcyA9IG9wdGlvbnM/LnByb3BzPy5ydWxlcwoKICAgICAgICAgIC8vIG9wdGlvbnMucHJvcHMucnVsZXM9cnVsZXMKCiAgICAgICAgICAvKiBpZiAoIShjb21wfHxlbC5oQ29tcCkpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlICovCgogICAgICAgICAgaWYgKChfZWw3MiA9IGVsKSAhPT0gbnVsbCAmJiBfZWw3MiAhPT0gdm9pZCAwICYmIF9lbDcyLnByb3RlY3RlZCkgewogICAgICAgICAgICB2YXIgX2VsNzMsIF9lbDc0LCBfZWw3NjsKICAgICAgICAgICAgdmFyIHByb3RlY3RlZENvbnRlbnQgPSB7CiAgICAgICAgICAgICAgY29tcDogIlZBbGVydCIsCiAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgLy8gY2xhc3M6J3JlZCcsCiAgICAgICAgICAgICAgICBodG1sOiAie1xuXHRcdFx0XHRcdFx0XHRcdGVuOiBcIkZvcmJpZGRlbiBhY2Nlc3NcIixcblx0XHRcdFx0XHRcdFx0XHRmcjonQWNjXHhFOHMgaW50ZXJkaXQnLFxuXHRcdFx0XHRcdFx0XHRcdGFyOidcdTA2MjdcdTA2NDRcdTA2NDhcdTA2MzVcdTA2NDhcdTA2NDQgXHUwNjQ1XHUwNjQ1XHUwNjQ2XHUwNjQ4XHUwNjM5J1xuXHRcdFx0XHRcdFx0XHRcdH0iLAogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdmFyaWFudDogIm91dGxpbmVkIgogICAgICAgICAgICAgICAgICAvLyB3aWR0aDonYXV0bycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmICgoKF9lbDczID0gZWwpID09PSBudWxsIHx8IF9lbDczID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw3My5wcm90ZWN0ZWQpID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgbWFpbiA9IGgoIldCQyIsIHsKICAgICAgICAgICAgICAgIC8qIGtleXk6IGB3YmMta2V5LWhlYWRlci0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9YCwgKi9wcm9wczogewogICAgICAgICAgICAgICAgICBpdGVtOiBwcm90ZWN0ZWRDb250ZW50CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoKF9lbDc0ID0gZWwpICE9PSBudWxsICYmIF9lbDc0ICE9PSB2b2lkIDAgJiYgX2VsNzQucHJvdGVjdGVkKSB7CiAgICAgICAgICAgICAgdmFyIF9lbDc1OwogICAgICAgICAgICAgIC8vIHByb3RlY3RlZENvbnRlbnQub3B0aW9ucy5odG1sPWVsPy5wcm90ZWN0ZWQKICAgICAgICAgICAgICBwcm90ZWN0ZWRDb250ZW50ID0gKF9lbDc1ID0gZWwpID09PSBudWxsIHx8IF9lbDc1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw3NS5wcm90ZWN0ZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWFpbiA9IGgoIldCQyIsIHsKICAgICAgICAgICAgICByZWY6ICJwcm90ZWN0SHRtbCIsCiAgICAgICAgICAgICAga2V5OiAid2JjLWtleS1oZWFkZXItIi5jb25jYXQodGhpcy5jb21wdXRlZEtleSgoX2VsNzYgPSBlbCkgPT09IG51bGwgfHwgX2VsNzYgPT09IHZvaWQgMCB8fCAoX2VsNzYgPSBfZWw3Ni5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw3NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNzYua2V5KSksCiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIGl0ZW06IHByb3RlY3RlZENvbnRlbnQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmICgoX29wdGlvbnMgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyAhPT0gdm9pZCAwICYmIF9vcHRpb25zLmhpZGUgfHwgdGhpcy5oaWRlKSB7CiAgICAgICAgICAgIG1haW4gPSBudWxsOwogICAgICAgICAgfSBlbHNlIGlmICgoKF9vcHRpb25zMiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMyLmxvYWQpID09PSB0cnVlIHx8IF90eXBlb2YoKF9vcHRpb25zMyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMzLmxvYWQpID09ICJvYmplY3QiICYmICgoX29wdGlvbnM0ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM0ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNCA9IF9vcHRpb25zNC5sb2FkKSA9PT0gbnVsbCB8fCBfb3B0aW9uczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNC5hY3RpdmUpID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBfZWw3NywgX29wdGlvbnM1LCBfb3B0aW9uczY7CiAgICAgICAgICAgIHZhciBsb2FkRGVmYXVsdENvbXAgPSB7CiAgICAgICAgICAgICAgY29tcDogIlZQcm9ncmVzc0NpcmN1bGFyIiwKICAgICAgICAgICAgICBvcHRpb25zOiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgIGtleXk6ICJsb2FkLSIuY29uY2F0KHRoaXMuY29tcHV0ZWRLZXkoKF9lbDc3ID0gZWwpID09PSBudWxsIHx8IF9lbDc3ID09PSB2b2lkIDAgfHwgKF9lbDc3ID0gX2VsNzcub3B0aW9ucykgPT09IG51bGwgfHwgX2VsNzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDc3LmtleSkpLAogICAgICAgICAgICAgICAgaGlkZTogZmFsc2UsCiAgICAgICAgICAgICAgICAvLyB3cmFwOidWRGlhbG9nJywKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHNpemU6ICI2MCIsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMyIsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnJDb2xvciAvKiAneWVsbG93JyAqLywKICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogdHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGh0bWw6ICJ7ZW46J2xvYWRpbmcuLi4nLGZyOidjaGFyZ2VtZW50Li4uJyxhcjon2KrYrdmF2YrZhC4uLid9IgogICAgICAgICAgICAgIH0sIF90eXBlb2YoKF9vcHRpb25zNSA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNSA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczUgPSBfb3B0aW9uczUubG9hZCkgPT09IG51bGwgfHwgX29wdGlvbnM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczUub3B0aW9ucykgPT0gIm9iamVjdCIgPyAoX29wdGlvbnM2ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM2ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNiA9IF9vcHRpb25zNi5sb2FkKSA9PT0gbnVsbCB8fCBfb3B0aW9uczYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNi5vcHRpb25zIDoge30pCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIG1haW4gPSBoXyhsb2FkRGVmYXVsdENvbXAuY29tcCwgewogICAgICAgICAgICAvLyAJLi4ub3B0aW9ucywKICAgICAgICAgICAgLy8gCS4uLmxvYWREZWZhdWx0Q29tcC5vcHRpb25zLAogICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgIC8vIG1haW4gPSBoXygnVkRpYWxvZycse2NsYXNzOidwYS0xNSBtYS0xNScscHJvcHM6e3ZhbHVlOnRydWV9fSxbaF8oJ1dCQycse3Byb3BzOntpdGVtOmxvYWREZWZhdWx0Q29tcH19KV0pOwogICAgICAgICAgICBtYWluID0gaF8oIldCQyIsIHsKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgaXRlbTogWyI8flZSb3d8cGEtMiBtYS0yIGp1c3RpZnktY2VudGVyIGNvbnRhaW5lcj4iLCBsb2FkRGVmYXVsdENvbXBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5rZXlzKGVsKS5sZW5ndGggPiAwICYmIGxhbmd1YWdlcy5zb21lKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhlbCkuaW5jbHVkZXMoZSk7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBtYWluID0gaF8oIldCSHRtbCIsIHsKICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIiwKICAgICAgICAgICAgICAvLyBrZXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleSgnZWwnKX0tJHtlbC5sZW5ndGh9YCwKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgaHRtbDogZWwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhlbCkubGVuZ3RoID4gMCAmJiAhKChfZWw3OCA9IGVsKSAhPT0gbnVsbCAmJiBfZWw3OCAhPT0gdm9pZCAwICYmIF9lbDc4LmNvbXApKSB7CiAgICAgICAgICAgIHZhciBfZWw3OSwgX2VsODAsIF9lbDgxOwogICAgICAgICAgICAvLyBlbD10aGlzLm9iakxhbmcoZWwsdGhpcy5sYW5nKQoKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xsbGxsbGxsbGxsbGxsbDQ0NDQ0NDQ0NDQ0JywgZWwsIGNvbXApOwogICAgICAgICAgICAvLyB0aGlzLnJhaXNlKGVsLCdhJykKCiAgICAgICAgICAgIHZhciB0aGVIdG1sID0gW107CiAgICAgICAgICAgIHZhciBuZXdPYmoxID0gewogICAgICAgICAgICAgIGNvbXA6ICgoX2VsNzkgPSBlbCkgPT09IG51bGwgfHwgX2VsNzkgPT09IHZvaWQgMCB8fCAoX2VsNzkgPSBfZWw3OS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw3OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsNzkuY29tcCkgfHwgImRpdiIsCiAgICAgICAgICAgICAgb3B0aW9uczogX29iamVjdFNwcmVhZCh7fSwgKChfZWw4MCA9IGVsKSA9PT0gbnVsbCB8fCBfZWw4MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODAub3B0aW9ucykgfHwge30pCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyBsZXQgdGhlQ29tcD0nZGl2JwogICAgICAgICAgICB2YXIgd3JhcE9iaiA9IChfZWw4MSA9IGVsKSA9PT0gbnVsbCB8fCBfZWw4MSA9PT0gdm9pZCAwIHx8IChfZWw4MSA9IF9lbDgxLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDgxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw4MS53cmFwOwoKICAgICAgICAgICAgLy8gaWYgKGVsPy5vcHRpb25zPy53cmFwIGluc3RhbmNlb2YgT2JqZWN0ICYmIHRoaXMuaXNOb25FbXB0eShlbD8ub3B0aW9ucz8ud3JhcCkpIHsKICAgICAgICAgICAgLy8gCXdyYXBPYmogPSBlbD8ub3B0aW9ucz8ud3JhcAogICAgICAgICAgICAvLyAJLy8gbmV3T2JqMS5jb21wID0gZWw/Lm9wdGlvbnM/LndyYXA/LmNvbXAKICAgICAgICAgICAgLy8gCW5ld09iajEgPSB7Li4uZWw/Lm9wdGlvbnM/LndyYXB9fHx7fQogICAgICAgICAgICAvLyAJbmV3T2JqMS5vcHRpb25zLmRpc3Bvc2l0aW9uID0gJ25lc3RlZCcKICAgICAgICAgICAgLy8gCS8vIG5ld09iajE/Lm9wdGlvbnMuZGlzcG9zaXRpb24/Pz0nbmVzdGVkJwogICAgICAgICAgICAvLyAJLy8gY29uc29sZS5sb2coJzg4ODg4ODg4ODg4ODg4JyxuZXdPYmoxKQoKICAgICAgICAgICAgLy8gCXRoZUNvbXAgPSBlbD8ub3B0aW9ucz8ud3JhcC5jb21wCiAgICAgICAgICAgIC8vIAl0aGVPcHRpb25zID0geyAuLi5lbD8ub3B0aW9ucywgLi4uKGVsPy5vcHRpb25zPy53cmFwPy5vcHRpb25zfHx7fSkgfQogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAvLyBuZXdPYmoxLmNvbXAgPSAnfmRpdic7CiAgICAgICAgICAgIC8vIG5ld09iajEub3B0aW9ucyA9IGVsPy5vcHRpb25zIHx8IHt9OwoKICAgICAgICAgICAgdmFyIGtleVRvQXZvaWQgPSBbImNvbXAiLCAib3V0cHV0IiwgInByb3BzIiwgIm9wdGlvbnMiLCAiaE9wdGlvbnMiLCAic3dpdGNoIiwgImZvb3RlciIsICJmb290ZXJzIiwgImhlYWRlciIsICJoZWFkZXJzIiwgImhGb290ZXIiLCAiaGVhZGVyIiwgImhIZWFkZXIiLCAiYXNDaGlsZCIsICJ3cmFwIiwgInRvIiwgImRpc3AiLCAibW9kZSIsICJwcm9kIiwgImtleSIsICJmU3R5bGUiLCAiZGl2ZSIsICJ0YkRpdmUiLCAid2F0Y2giLCAiZm9yd2FyZCJdOwogICAgICAgICAgICBPYmplY3Qua2V5cyhlbCkuc29ydCgpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgIC8vIHRoZUh0bWxba2V5XSA9IGVsW2tleV0KICAgICAgICAgICAgICBpZiAoIWtleVRvQXZvaWQuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgICAgICAgdGhlSHRtbC5wdXNoKGVsW2tleV0pOwogICAgICAgICAgICAgICAgLy8gbGV0IGVsX2kgPSB0aGlzLnRvV0JDXyhlbFtrZXldLCBoXykKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdlbF9pIDo+PiAnLCBlbF9pKTsKICAgICAgICAgICAgICAgIC8vIHRoZUh0bWwucHVzaCguLi5BcnJheS5pc0FycmF5KGVsX2kpP2VsX2k6W2VsX2ldKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gZWxzZSB7CiAgICAgICAgICAgICAgLy8gCW5ld09iajFba2V5XSA9IGVsW2tleV07CiAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gaWYoIW5ld09iajE/Lm9wdGlvbnM/Lmh0bWwpewogICAgICAgICAgICAvLyBuZXdPYmoxLm9wdGlvbnMuaHRtbD10aGVIdG1sCiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gZWxzZSBpZihBcnJheS5pc0FycmF5KG5ld09iajE/Lm9wdGlvbnM/Lmh0bWwpKXsKICAgICAgICAgICAgLy8gCW5ld09iajEub3B0aW9ucy5odG1sLnB1c2godGhlSHRtbCkKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAvLyBlbHNlewoKICAgICAgICAgICAgLy8gCW5ld09iajEub3B0aW9ucy5odG1sID0gW25ld09iajEub3B0aW9ucy5odG1sLC4uLmh0bWxdCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIG1haW4gPSBoXygnV0JDJywgewogICAgICAgICAgICAvLyAJa2V5eTogYHdiYy13aXRob3V0LWNvbXAtJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfWAsCiAgICAgICAgICAgIC8vIAlwcm9wczogeyBpdGVtOiBbbmV3T2JqMSwgdGhlSHRtbF0gfSwKICAgICAgICAgICAgLy8gfSk7CgogICAgICAgICAgICAvLyBtYWluID0gaF8odGhlQ29tcCwgdGhlT3B0aW9ucywgW2hfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHRoZUh0bWwgfX0sKV0pCgogICAgICAgICAgICBpZiAod3JhcE9iaikgewogICAgICAgICAgICAgIHZhciBfd3JhcE9iaiRvcHRpb25zLCBfbmV3T2JqMSRvcHRpb25zOwogICAgICAgICAgICAgIG5ld09iajEuY29tcCA9ICh3cmFwT2JqID09PSBudWxsIHx8IHdyYXBPYmogPT09IHZvaWQgMCB8fCAoX3dyYXBPYmokb3B0aW9ucyA9IHdyYXBPYmoub3B0aW9ucykgPT09IG51bGwgfHwgX3dyYXBPYmokb3B0aW9ucyA9PT0gdm9pZCAwIHx8IChfd3JhcE9iaiRvcHRpb25zID0gX3dyYXBPYmokb3B0aW9ucy53cmFwKSA9PT0gbnVsbCB8fCBfd3JhcE9iaiRvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd3JhcE9iaiRvcHRpb25zLmNvbXApIHx8IG5ld09iajEuY29tcDsKICAgICAgICAgICAgICBuZXdPYmoxLm9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIChuZXdPYmoxID09PSBudWxsIHx8IG5ld09iajEgPT09IHZvaWQgMCB8fCAoX25ld09iajEkb3B0aW9ucyA9IG5ld09iajEub3B0aW9ucykgPT09IG51bGwgfHwgX25ld09iajEkb3B0aW9ucyA9PT0gdm9pZCAwIHx8IChfbmV3T2JqMSRvcHRpb25zID0gX25ld09iajEkb3B0aW9ucy53cmFwKSA9PT0gbnVsbCB8fCBfbmV3T2JqMSRvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmV3T2JqMSRvcHRpb25zLm9wdGlvbnMpIHx8IHt9KSwgKG5ld09iajEgPT09IG51bGwgfHwgbmV3T2JqMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV3T2JqMS5vcHRpb25zKSB8fCB7fSk7CiAgICAgICAgICAgICAgZGVsZXRlIG5ld09iajEub3B0aW9ucy53cmFwOwogICAgICAgICAgICAgIC8vIG5ld09iajEub3B0aW9ucy53cmFwPXdyYXBPYmoKICAgICAgICAgICAgICAvLyBtYWluID0gdGhpcy50b1dCQ18od3JhcE9iaixoXyx0aGlzLnRvV0JDXyhuZXdPYmoxLCBoXywgdGhlSHRtbCkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gbmV3T2JqMS5vcHRpb25zLmh0bWw9IHRoZUh0bWwKCiAgICAgICAgICAgIC8vIG1haW4gPSB0aGlzLnRvV0JDXyhuZXdPYmoxLCBoXykKICAgICAgICAgICAgbWFpbiA9IHRoaXMudG9XQkNfKG5ld09iajEsIGhfLCB0aGVIdG1sKTsKCiAgICAgICAgICAgIC8vIG1haW4gPSB0aGlzLnRvV0JDXyhuZXdPYmoxLCBoXykKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21haW4gOj4+ICcsIG1haW4pOwogICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbXApKSB7CiAgICAgICAgICAgIHZhciBfZWw4NDsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coCiAgICAgICAgICAgIC8vIAknZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmpqampqampqamonLAogICAgICAgICAgICAvLyAJZWwsCiAgICAgICAgICAgIC8vIAljb21wLAogICAgICAgICAgICAvLyAJdGhpcy5zdHJUb0NvbXBzKGNvbXApCiAgICAgICAgICAgIC8vICk7CgogICAgICAgICAgICBpZiAodHlwZW9mIGNvbXAgPT0gInN0cmluZyIgJiYgKGNvbXAuaW5jbHVkZXMoInwiKSB8fCBjb21wLmluY2x1ZGVzKCIrIikpKSB7CiAgICAgICAgICAgICAgY29tcCA9IHRoaXMuc3RyVG9Db21wcyhjb21wKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gZWxzZQoKICAgICAgICAgICAgLy8gaWYgKEFycmF5LmlzQXJyYXkoY29tcCkpIHsKICAgICAgICAgICAgdmFyIF9uZXdBcnIgPSBbXTsKICAgICAgICAgICAgLy8gbGV0IG5ld09iaiA9IHsKICAgICAgICAgICAgLy8gCS8vIGNvbXA6ICdkaXYnLAogICAgICAgICAgICAvLyAJLy8gb3B0aW9uczogb3B0aW9ucyB8fCB7fSwKICAgICAgICAgICAgLy8gfTsKICAgICAgICAgICAgLy8gbGV0IGZvb3RlciA9IHt9OwoKICAgICAgICAgICAgLy8gCQlpZiAodHlwZW9mIGVsPy5jb21wPy5bMF0gPT0gJ3N0cmluZycgJiYgY29tcD8uWzBdPy5pbmNsdWRlcygnficpCiAgICAgICAgICAgIC8vIAkJKSB7CgogICAgICAgICAgICAvLyAJCQlsZXQgdGhlQ29tcD1lbD8uY29tcD8uWzBdLnJlcGxhY2UoJ34nLCIiKQogICAgICAgICAgICAvLyAJCW5ld09iai5jb21wPVt0aGVDb21wXQogICAgICAgICAgICAvLyAJCW5ld09iai5vcHRpb25zPXsuLi4ob3B0aW9uc3x8e30pLC4uLihlbD8uW3RoZUNvbXBdPy5vcHRpb25zfHx7fSl9CiAgICAgICAgICAgIC8vIAkJbmV3T2JqW3RoZUNvbXBdPWVsW3RoZUNvbXBdCgogICAgICAgICAgICAvLyAJCS8vIGNvbnNvbGUubG9nKCdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWJiYmJiYmJiYicsdGhpcy50b1dCQ18obmV3T2JqLGhfKSkKICAgICAgICAgICAgLy8gCQlmb290ZXI9e2NvbXA6Y29tcC5zbGljZSgxKX0KICAgICAgICAgICAgLy8gCQljb21wLnNsaWNlKDEpLmZpbHRlcihlPT5lIT10aGVDb21wKS5mb3JFYWNoKGs9PnsKICAgICAgICAgICAgLy8gCQkJY29uc29sZS5sb2coJ29vb29vJyxrLGVsW2tdKQogICAgICAgICAgICAvLyAJCQlmb290ZXJbay5yZXBsYWNlKCd+JywiIildPWVsW2sucmVwbGFjZSgnficsIiIpXQogICAgICAgICAgICAvLyAJCX0pCgogICAgICAgICAgICAvLyAJCW5ld09iai5mb290ZXI9Zm9vdGVyCiAgICAgICAgICAgIC8vIAkJY29uc29sZS5sb2coJ2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYmJiYmJiYmJiJyxlbCx0aGVDb21wLGZvb3RlcixuZXdPYmopCiAgICAgICAgICAgIC8vIAllbD1uZXdPYmoKICAgICAgICAgICAgLy8gCWFsZXJ0KCdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYScpCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIGVsc2UKICAgICAgICAgICAgLy8gewoKICAgICAgICAgICAgLy8gCSBuZXdPYmogPSB7CiAgICAgICAgICAgIC8vIAljb21wOiAnZGl2JywKICAgICAgICAgICAgLy8gCW9wdGlvbnM6IG9wdGlvbnMgfHwge30sCiAgICAgICAgICAgIC8vIH07CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd6enp6enp6enp6enp6enp6eicsZWwsY29tcCkKCiAgICAgICAgICAgIC8vICBPYmplY3Qua2V5cyhlbCkuZmlsdGVyKAogICAgICAgICAgICAvLyAJKGtleSkgPT4KICAgICAgICAgICAgLy8gCQkhWwogICAgICAgICAgICAvLyAJCQknY29tcCcsCiAgICAgICAgICAgIC8vIAkJCSdwcm9wcycsCiAgICAgICAgICAgIC8vIAkJCSdvcHRpb25zJywKICAgICAgICAgICAgLy8gCQkJJ29PcHRpb25zJywKICAgICAgICAgICAgLy8gCQkJJ3dyYXAnLAogICAgICAgICAgICAvLyAJCQkndG8nLAogICAgICAgICAgICAvLyAJCQknZGlzcCcsCiAgICAgICAgICAgIC8vIAkJCSdtb2RlJywKICAgICAgICAgICAgLy8gCQkJJ3Byb2QnLAogICAgICAgICAgICAvLyAJCQkna2V5JywKICAgICAgICAgICAgLy8gCQkJJ2ZTdHlsZScsCiAgICAgICAgICAgIC8vIAkJXS5pbmNsdWRlcyhrZXkpCiAgICAgICAgICAgIC8vICkuZm9yRWFjaChlPT57CiAgICAgICAgICAgIC8vIAlpdGVtT2JqW2VdPWVsW2VdCiAgICAgICAgICAgIC8vIH0pCgogICAgICAgICAgICBjb21wLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaSkgewogICAgICAgICAgICAgIHZhciBpdGVtT2JqID0ge307CgogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsbGxsbGxsbGxsbGxsbGxsbGxsbCcsIGtleSwgaSk7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIHZhciBfZWw4MjsKICAgICAgICAgICAgICAgIGl0ZW1PYmogPSAoKF9lbDgyID0gZWwpID09PSBudWxsIHx8IF9lbDgyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw4MltrZXkucmVwbGFjZSgifiIsICIiKV0pIHx8ICI8Ii5jb25jYXQoa2V5LnJlcGxhY2UoIjwiLCAiIikucmVwbGFjZSgiPiIsICIiKSwgIj4iKTsKICAgICAgICAgICAgICAgIC8vIGlmIChrZXkuaW5jbHVkZXMoJ34nKSAmJiBpdGVtT2JqPy5vcHRpb25zKSB7CiAgICAgICAgICAgICAgICAvLyAJaXRlbU9iai5vcHRpb25zLmRpc3Bvc2l0aW9uID0gJ25lc3RlZCc7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHsKICAgICAgICAgICAgICAgIHZhciBfZWw4MzsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd2YmJiYmJiYmJiYmJiYmJiYmJiYmInLCBrZXkpOwogICAgICAgICAgICAgICAgdmFyIGtleUFyck9iaiA9IHsKICAgICAgICAgICAgICAgICAgY29tcDoga2V5CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMxNC5mbGF0dGVuQXJyYXkoa2V5KS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhlbCkuaW5jbHVkZXMoaykpIHsKICAgICAgICAgICAgICAgICAgICBrZXlBcnJPYmpba10gPSBlbFtrXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyBpdGVtT2JqPXsKICAgICAgICAgICAgICAgIC8vIAkJY29tcDonZGl2JywKICAgICAgICAgICAgICAgIC8vIAkJaGVhZGVyOidkZGRkZGRkZGRkZGRkZGQnLAogICAgICAgICAgICAgICAgLy8gCQlvcHRpb25zOnsKICAgICAgICAgICAgICAgIC8vIAkJCQljbGFzczonZ3JleSBwYS0xNScsCiAgICAgICAgICAgICAgICAvLyAJCQkJaHRtbDprZXlBcnJPYmoKICAgICAgICAgICAgICAgIC8vIAkJCX0sCiAgICAgICAgICAgICAgICAvLyAJCQkvLyAuLi5rZXlBcnJPYmoKICAgICAgICAgICAgICAgIC8vIAkJfQogICAgICAgICAgICAgICAgaXRlbU9iaiA9IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgICAgIGtleXk6ICJ3YmMtZmxhdC1hcnItIi5jb25jYXQoX3RoaXMxNC5jb21wdXRlZEtleSgoX2VsODMgPSBlbCkgPT09IG51bGwgfHwgX2VsODMgPT09IHZvaWQgMCB8fCAoX2VsODMgPSBfZWw4My5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODMua2V5KSksCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgaXRlbToga2V5QXJyT2JqCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8gaXRlbU9iaj10aGlzLnRvV0JDXyhrZXlBcnJPYmosIGhfKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpdGVtT2JqID0ga2V5OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfbmV3QXJyLnB1c2goaXRlbU9iaik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyAuZm9yRWFjaCgoa2V5LCBpKSA9PiB7CiAgICAgICAgICAgIC8vIAkvLyBjb25zb2xlLmxvZygnd3d3d3d3d3d3d3d3d3d3d3d3JyxrZXkpCiAgICAgICAgICAgIC8vIAlpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJykgeyBmb290ZXJbYCR7a2V5fV8ke2l9YF0gPSBlbD8uW2tleV0gfHwgaF8oa2V5KSB9CgogICAgICAgICAgICAvLyAJaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkgewogICAgICAgICAgICAvLyAJCS8vIGNvbnNvbGUubG9nKCd5eXl5eXl5eXl5eXknLGtleSkKICAgICAgICAgICAgLy8gCQlmb290ZXJbYGtleV8ke2l9YF0gPSB7IC4uLmVsLCBjb21wOiB0aGlzLnN0clRvQ29tcHMoa2V5KSB9CiAgICAgICAgICAgIC8vIAl9CiAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAvLyBuZXdPYmouZm9vdGVyID0gZm9vdGVyCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIGVsID0gbmV3QXJyCiAgICAgICAgICAgIC8vIG1haW49aF8oJ2xpJywndnZ2dnZ2dnZ2dnZ2dnZ2dnZ2JykKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3p6enp6enp6enp6enp6enp6JyxlbCxjb21wLG5ld0FycikKCiAgICAgICAgICAgIG1haW4gPSBoXygiV0JDIiwgewogICAgICAgICAgICAgIHJlZjogImFyckh0bWwiLAogICAgICAgICAgICAgIGtleXk6ICJ3YmMtZmxhdC1hcnItIi5jb25jYXQodGhpcy5jb21wdXRlZEtleSgoX2VsODQgPSBlbCkgPT09IG51bGwgfHwgX2VsODQgPT09IHZvaWQgMCB8fCAoX2VsODQgPSBfZWw4NC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODQua2V5KSksCiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIGl0ZW06IF9uZXdBcnIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyBtYWluPXRoaXMudG9XQkNfKG5ld0FyciwgaF8pCgogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIC8vIAlhbGVydCgnZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZicpCgogICAgICAgICAgICAvLyAJbGV0IHRoZUNvbXAgPSBlbDsKICAgICAgICAgICAgLy8gCXRoZUNvbXAoKQogICAgICAgICAgICAvLyAJCS50aGVuKChlKSA9PiB7CiAgICAgICAgICAgIC8vIAkJCWxldCB3YiA9IGU/LmRlZmF1bHQgfHwgZT8ubmFtZSB8fCAnbm9OYW1lQ29tcDAnOwogICAgICAgICAgICAvLyAJCQlhcHAuY29tcG9uZW50KHdiLm5hbWUsIHdiKTsKICAgICAgICAgICAgLy8gCQkJLy8gV0JDXy5jb21wb25lbnQod2IubmFtZSwgd2IpOwoKICAgICAgICAgICAgLy8gCQkJd2JjT2JqLmNvbXBvbmVudHNbd2IubmFtZV0gPSB3YjsKICAgICAgICAgICAgLy8gCQkJY29tcCA9IHdiLm5hbWU7CiAgICAgICAgICAgIC8vIAkJCW9wdGlvbnMucHJvcHMgPSB7CiAgICAgICAgICAgIC8vIAkJCQkuLi4od2IucHJvcHMgfHwge30pLAogICAgICAgICAgICAvLyAJCQkJLi4ub3B0aW9ucy5wcm9wcywKICAgICAgICAgICAgLy8gCQkJfTsKCiAgICAgICAgICAgIC8vIAkJfSkKICAgICAgICAgICAgLy8gCQkuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIC8vIAkJCS8vIEhhbmRsZSBpbXBvcnQgZXJyb3JzIGhlcmUKCiAgICAgICAgICAgIC8vIAkJfSk7CgogICAgICAgICAgICAvLyAJLy8gcmV0dXJuIG9iakZ1bmM7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbXAgPT09ICJmdW5jdGlvbiIgJiYgY29tcC5sZW5ndGggPT0gMCkgewogICAgICAgICAgICB2YXIgdGhlQ29tcCA9IGNvbXA7CiAgICAgICAgICAgIHRoZUNvbXAoKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgdmFyIHdiID0gKGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5kZWZhdWx0KSB8fCAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm5hbWUpIHx8IHt9OwogICAgICAgICAgICAgIGFwcC5jb21wb25lbnQod2IubmFtZSwgd2IpOwogICAgICAgICAgICAgIC8vIFdCQ18uY29tcG9uZW50KHdiLm5hbWUsIHdiKTsKICAgICAgICAgICAgICB3YmNPYmouY29tcG9uZW50c1t3Yi5uYW1lXSA9IHdiOwogICAgICAgICAgICAgIGNvbXAgPSB3Yi5uYW1lOwogICAgICAgICAgICAgIG9wdGlvbnMucHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdiLnByb3BzIHx8IHt9KSwgb3B0aW9ucy5wcm9wcyk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIC8vIEhhbmRsZSBpbXBvcnQgZXJyb3JzIGhlcmUKICAgICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoJ0Vycm9yIGltcG9ydGluZyBjb21wb25lbnQ6JywgZXJyb3IpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIG9wdGlvbnMua2V5Kz0xCiAgICAgICAgICAgIC8vIHJldHVybiBvYmpGdW5jOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIF9vcHRpb25zNywgX29wdGlvbnM4LCBfb3B0aW9uczksIF9vcHRpb25zOSRzdGFydHNXaXRoLCBfb3B0aW9uczEwLCBfb3B0aW9uczEwJHN0YXJ0c1dpdGgsIF9vcHRpb25zMTEsIF9vcHRpb25zMTIsIF9vcHRpb25zMTMsIF9vcHRpb25zMTQsIF9vcHRpb25zMTUsIF9vcHRpb25zMjY7CiAgICAgICAgICAgIHZhciBpbm5lckh0bWw7CiAgICAgICAgICAgIHZhciBlbEh0bWw7CiAgICAgICAgICAgIHZhciBoSW5uZXJIdG1sOwogICAgICAgICAgICB2YXIgX2h0bWwgPSB0aGlzLmh0bWwoZWwpOwogICAgICAgICAgICBpZiAoX3R5cGVvZigoX29wdGlvbnM3ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczcuaHRtbCkgPT0gIm9iamVjdCIgLyogJiYgKG9wdGlvbnM/Lmh0bWwuY29tcHx8b3B0aW9ucz8uaHRtbC5oQ29tcCkgKi8gfHwgdHlwZW9mICgoX29wdGlvbnM4ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczguaHRtbCkgPT0gImZ1bmN0aW9uIiB8fCAoX29wdGlvbnM5ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5ICE9PSB2b2lkIDAgJiYgKF9vcHRpb25zOSA9IF9vcHRpb25zOS5odG1sKSAhPT0gbnVsbCAmJiBfb3B0aW9uczkgIT09IHZvaWQgMCAmJiAoX29wdGlvbnM5JHN0YXJ0c1dpdGggPSBfb3B0aW9uczkuc3RhcnRzV2l0aCkgIT09IG51bGwgJiYgX29wdGlvbnM5JHN0YXJ0c1dpdGggIT09IHZvaWQgMCAmJiBfb3B0aW9uczkkc3RhcnRzV2l0aC5jYWxsKF9vcHRpb25zOSwgImh0dHBzOi8vIikgfHwgKF9vcHRpb25zMTAgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczEwICE9PSB2b2lkIDAgJiYgKF9vcHRpb25zMTAgPSBfb3B0aW9uczEwLmh0bWwpICE9PSBudWxsICYmIF9vcHRpb25zMTAgIT09IHZvaWQgMCAmJiAoX29wdGlvbnMxMCRzdGFydHNXaXRoID0gX29wdGlvbnMxMC5zdGFydHNXaXRoKSAhPT0gbnVsbCAmJiBfb3B0aW9uczEwJHN0YXJ0c1dpdGggIT09IHZvaWQgMCAmJiBfb3B0aW9uczEwJHN0YXJ0c1dpdGguY2FsbChfb3B0aW9uczEwLCAiaHR0cDovLyIpIHx8IChfb3B0aW9uczExID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnMxMSAhPT0gdm9pZCAwICYmIChfb3B0aW9uczExID0gX29wdGlvbnMxMS5odG1sKSAhPT0gbnVsbCAmJiBfb3B0aW9uczExICE9PSB2b2lkIDAgJiYgX29wdGlvbnMxMS5zdGFydHNXaXRoKCIvIikgfHwgKF9vcHRpb25zMTIgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczEyICE9PSB2b2lkIDAgJiYgKF9vcHRpb25zMTIgPSBfb3B0aW9uczEyLmh0bWwpICE9PSBudWxsICYmIF9vcHRpb25zMTIgIT09IHZvaWQgMCAmJiBfb3B0aW9uczEyLnN0YXJ0c1dpdGgoIi4vIikgfHwgKF9vcHRpb25zMTMgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczEzICE9PSB2b2lkIDAgJiYgKF9vcHRpb25zMTMgPSBfb3B0aW9uczEzLmh0bWwpICE9PSBudWxsICYmIF9vcHRpb25zMTMgIT09IHZvaWQgMCAmJiBfb3B0aW9uczEzLnN0YXJ0c1dpdGgoIi4uLyIpIHx8IHRoaXMuaXNWbm9kZSgoX29wdGlvbnMxNCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMTQuaHRtbCkgfHwgWyJWU3BhY2VyIiwgIlZEaXZpZGVyIl0uaW5jbHVkZXMoKF9vcHRpb25zMTUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczE1Lmh0bWwpKSB7CiAgICAgICAgICAgICAgdmFyIF9lbDg1OwogICAgICAgICAgICAgIGlubmVySHRtbCA9IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgICBrZXl5OiAid2JjLWtleS1pbm5lci1odG1sLSIuY29uY2F0KHRoaXMuY29tcHV0ZWRLZXkoKF9lbDg1ID0gZWwpID09PSBudWxsIHx8IF9lbDg1ID09PSB2b2lkIDAgfHwgKF9lbDg1ID0gX2VsODUub3B0aW9ucykgPT09IG51bGwgfHwgX2VsODUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDg1LmtleSkpLAogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgaXRlbTogX2h0bWwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyBpbm5lckh0bWw9dGhpcy50b1dCQ18oaHRtbCwgaF8pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9lbEh0bWwsIF9lbDg2OwogICAgICAgICAgICAgIGVsSHRtbCA9IF9odG1sOwogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdlbCBodG1tbW1tbW1tbW1tbW1tbW1tbW1sJyxlbEh0bWwpCiAgICAgICAgICAgICAgaW5uZXJIdG1sID0gaF8oIldCSHRtbCIsIHsKICAgICAgICAgICAgICAgIGtleXk6ICJ3Ymh0bWwta2V5LSIuY29uY2F0KChfZWxIdG1sID0gZWxIdG1sKSA9PT0gbnVsbCB8fCBfZWxIdG1sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWxIdG1sLmxlbmd0aCwgIi0iKS5jb25jYXQodGhpcy5jb21wdXRlZEtleSgoX2VsODYgPSBlbCkgPT09IG51bGwgfHwgX2VsODYgPT09IHZvaWQgMCB8fCAoX2VsODYgPSBfZWw4Ni5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODYua2V5KSksCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBodG1sOiBlbEh0bWwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY29tcCA9PSAiTUQiKSB7CiAgICAgICAgICAgICAgdmFyIF9pbm5lckh0bWwsIF9vcHRpb25zMTYsIF9vcHRpb25zMTcsIF9vcHRpb25zMTg7CiAgICAgICAgICAgICAgLy8gbWFpbiA9IGhfKCdkaXYnLCB7CiAgICAgICAgICAgICAgLy8gICAuLi5vcHRpb25zLAogICAgICAgICAgICAgIC8vICAgb246IHsKICAgICAgICAgICAgICAvLyAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZygndHR0dHR0dHR0dHR0dHR0dHQnLHRoaXMpCiAgICAgICAgICAgICAgLy8gICAgIGFsZXJ0KCdyZW5kZXJlZCcpCiAgICAgICAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ21hcmtkb3duaXR0dHR0dHR0dHR0dHR0dCcsICB0aGlzLk1hcmtkb3duSXQucmVuZGVyKG9wdGlvbnM/LnByb3BzPy5zb3VyY2UpKTsKICAgICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZygndHVybkRvd25pdHR0dHR0dHR0dHQnLCAgdGhpcy5UdXJuRG93bi50dXJuZG93bihvcHRpb25zPy5wcm9wcz8uc291cmNlKSk7CiAgICAgICAgICAgICAgLy8gICAgICAgLy8gYWxlcnQodGhpcy4kcmVmcy5WTUQucmVuZGVyKG9wdGlvbnM/LnByb3BzPy5zb3VyY2UpKTsKCiAgICAgICAgICAgICAgLy8gICB9LAogICAgICAgICAgICAgIC8vIH0sCgogICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgLy8gWwogICAgICAgICAgICAgIC8vICAgICBpbnNpZGVIZWFkZXJzVk4sCiAgICAgICAgICAgICAgLy8gICAgIGlubmVySHRtbD8uY2hpbGRyZW4gfHwgaW5uZXJIdG1sLAogICAgICAgICAgICAgIC8vICAgICBoXygnVk1EJywKICAgICAgICAgICAgICAvLyAgICAgICB7CiAgICAgICAgICAgICAgLy8gICAgICAgICAuLi5vcHRpb25zPy5WTURPcHRpb25zfHx7fSwKICAgICAgICAgICAgICAvLyAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgLy8gICAgICAgICAgIC4uLm9wdGlvbnM/LnByb3BzIHx8IHt9LCAuLi5vcHRpb25zPy5WTURPcHRpb25zPy5wcm9wcyB8fCB7fSwgc291cmNlOiBvcHRpb25zPy5wcm9wcz8uc291cmNlLAogICAgICAgICAgICAgIC8vICAgICAgICAgICBvbjogdGhpcy5pdGVtTGlzdGVuZXJzLAogICAgICAgICAgICAgIC8vICAgICAgICAgICBhdHRyczogdGhpcy5hdHRycywKICAgICAgICAgICAgICAvLyAgICAgICB9LAogICAgICAgICAgICAgIC8vICAgICB9LAogICAgICAgICAgICAgIC8vICAgICAgIFsKCiAgICAgICAgICAgICAgLy8gICAgICAgICAvLyBpbm5lckh0bWw/LmNoaWxkcmVuIHx8IGlubmVySHRtbCwKCiAgICAgICAgICAgICAgLy8gICAgICAgICAuLi5PYmplY3QuZW50cmllcyhvcHRpb25zPy5zbG90cyB8fCB7fSkubWFwKAogICAgICAgICAgICAgIC8vICAgICAgICAgICAoW3Nsb3ROYW1lLCBzbG90VmFsXSkgPT4KICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBoXygndGVtcGxhdGUnLCB7IHNsb3Q6IHNsb3ROYW1lIH0sIFsKICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgIGhfKCdXQkMnLCB7CiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGtleXk6IGBrZXktc2xvdHMtJHtzbG90TmFtZX0tJHt0aGlzLmNvbXB1dGVkS2V5KAogICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIGVsPy5vcHRpb25zPy5rZXkKICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgKX1gLAogICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBwcm9wczogeyBpdGVtOiBzbG90VmFsIH0sCiAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBdKQogICAgICAgICAgICAgIC8vICAgICAgICAgKSwKCiAgICAgICAgICAgICAgLy8gICAgICAgXQogICAgICAgICAgICAgIC8vICAgICApLAogICAgICAgICAgICAgIC8vICAgICAvLyBleHRDaGlsZHJlbiwKICAgICAgICAgICAgICAvLyAgICAgaW5zaWRlRm9vdGVyc1ZOLAogICAgICAgICAgICAgIC8vICAgXQogICAgICAgICAgICAgIC8vICk7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJkaXYiLCAvLyBvcHRpb25zLAogICAgICAgICAgICAgIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAvLyByZWY6ICdNREh0bWwnLAogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgICB9LCBvcHRpb25zKSwge30sIHsKICAgICAgICAgICAgICAgIC8vIC4uLih0aGlzLm9iakxhbmcob3B0aW9ucyx0aGlzLmxhbmcpICksCiAgICAgICAgICAgICAgICAvLyAuLi4oZWwuc3dpdGNoPT09dHJ1ZT9lbD8uaG9wdGlvbnM6e30pLAogICAgICAgICAgICAgICAgLy8gcHJvcHM6ey4uLihvcHRpb25zPy5wcm9wc3x8e30pLHJ1bGVzOnRoaXMuaXRlbVJ1bGVzKG9wdGlvbnMpfSwKICAgICAgICAgICAgICAgIC8vIGF0dHJzOnRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9LAogICAgICAgICAgICAgICAgLy8gYXR0cnM6ey4uLnRoaXMuaXRlbUF0dHJzKGVsKX0sCiAgICAgICAgICAgICAgICAvLyBvbjp7Li4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9KX0sCiAgICAgICAgICAgICAgICAvLyAvLyBhdHRyczp7Li4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRhdHRyc3x8e30pfSwKICAgICAgICAgICAgICAgIC8vIGF0dHJzOnsuLi50aGlzLiRhdHRycywuLi4odGhpcy4kcmVmc1tlbD8ub3B0aW9ucz8ucmVmXT8uJGF0dHJzfHx7fSksLi4uKG9wdGlvbnM/LmF0dHJzfHx7fSl9LAogICAgICAgICAgICAgICAgLy8gb246ey4uLih0aGlzLiRyZWZzW2VsPy5vcHRpb25zPy5yZWZdPy4kbGlzdGVuZXJzfHx7fSksLi4uKG9wdGlvbnM/Lm9ufHx7fSl9LAogICAgICAgICAgICAgICAgLy8gb246ey4uLnRoaXMuaXRlbUxpc3RlbmVycyhlbCksLi4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9KX0sCiAgICAgICAgICAgICAgICBvbjogdGhpcy5pdGVtTGlzdGVuZXJzCiAgICAgICAgICAgICAgICAvLyBhdHRyczogdGhpcy5hdHRycwoKICAgICAgICAgICAgICAgIC8vIGtleXk6YG1haW4ta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLAogICAgICAgICAgICAgIH0pLCBbCiAgICAgICAgICAgICAgLy8gcmV0dXJuIGhfKCdzcGFuJyxtYWluKQoKICAgICAgICAgICAgICAvLyBtYWluID0gW2dsb2JhbEhlYWRlclZOLGhlYWRlcnMsIG1haW4sZm9vdGVycyxnbG9iYWxGb290ZXJWTl0KICAgICAgICAgICAgICAvLyBoZWFkZXIsCgogICAgICAgICAgICAgIC8vIGVsPy5zd2l0Y2g9PT10cnVlP2hJbm5lckh0bWw/LmNoaWxkcmVuIHx8IGhJbm5lckh0bWw6aW5uZXJIdG1sPy5jaGlsZHJlbiB8fCBpbm5lckh0bWwsCiAgICAgICAgICAgICAgaW5zaWRlSGVhZGVyc1ZOLCAoKF9pbm5lckh0bWwgPSBpbm5lckh0bWwpID09PSBudWxsIHx8IF9pbm5lckh0bWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pbm5lckh0bWwuY2hpbGRyZW4pIHx8IGlubmVySHRtbCwgaF8oImRpdiIsIF9vYmplY3RTcHJlYWQoe30sICgoX29wdGlvbnMxNiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMTYuTURPcHRpb25zKSB8fCB7fSksIFtoXygiV0JIdG1sIiwgewogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgaHRtbDogIiIuY29uY2F0KHRoaXMuTWFya2Rvd25JdC5yZW5kZXIoKChfb3B0aW9uczE3ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMxNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMxNy5zcmMpIHx8ICIiKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KV0pXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KE9iamVjdC5lbnRyaWVzKCgoX29wdGlvbnMxOCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMTguc2xvdHMpIHx8IHt9KS5tYXAoZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgICAgICAgICB2YXIgX2VsODc7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfc2xpY2VkVG9BcnJheShfcmVmNCwgMiksCiAgICAgICAgICAgICAgICAgIHNsb3ROYW1lID0gX3JlZjVbMF0sCiAgICAgICAgICAgICAgICAgIHNsb3RWYWwgPSBfcmVmNVsxXTsKICAgICAgICAgICAgICAgIHJldHVybiBoXygidGVtcGxhdGUiLCB7CiAgICAgICAgICAgICAgICAgIHNsb3Q6IHNsb3ROYW1lCiAgICAgICAgICAgICAgICB9LCBbaF8oIldCQyIsIHsKICAgICAgICAgICAgICAgICAga2V5eTogImtleS1zbG90cy0iLmNvbmNhdChzbG90TmFtZSwgIi0iKS5jb25jYXQoX3RoaXMxNC5jb21wdXRlZEtleSgoX2VsODcgPSBlbCkgPT09IG51bGwgfHwgX2VsODcgPT09IHZvaWQgMCB8fCAoX2VsODcgPSBfZWw4Ny5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODcua2V5KSksCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgaXRlbTogc2xvdFZhbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KV0pOwogICAgICAgICAgICAgIH0pKSwgWwogICAgICAgICAgICAgIC8vIC4uLk9iamVjdC5lbnRyaWVzKG9wdGlvbnM/LnNsb3RzIHx8IHt9KS5tYXAoKFtzbG90TmFtZSwgc2xvdFZhbF0pID0+IGhfKCd0ZW1wbGF0ZScsIHsgc2xvdDogc2xvdE5hbWUgfSwgW3RoaXMudG9XQkNfKHNsb3RWYWwsaF8pXSkpLAoKICAgICAgICAgICAgICAvLyBlbC5zd2l0Y2g9PT10cnVlP2hGb290ZXI6Zm9vdGVyLAogICAgICAgICAgICAgIGV4dENoaWxkcmVuLCBpbnNpZGVGb290ZXJzVk4KICAgICAgICAgICAgICAvLyBmb290ZXIKICAgICAgICAgICAgICBdKSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcCA9PSAiVkNNIikgewogICAgICAgICAgICAgIHZhciBfaW5uZXJIdG1sMiwgX29wdGlvbnMxOSwgX29wdGlvbnMyMCwgX29wdGlvbnMyMSwgX29wdGlvbnMyMjsKICAgICAgICAgICAgICB2YXIgZGVmYXVsdFZDTU9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICB0YWJTaXplOiA0LAogICAgICAgICAgICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLAogICAgICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsCiAgICAgICAgICAgICAgICBsaW5lOiB0cnVlLAogICAgICAgICAgICAgICAgZm9sZEd1dHRlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHN0eWxlU2VsZWN0ZWRUZXh0OiB0cnVlLAogICAgICAgICAgICAgICAgLy8ga2V5TWFwOiAic3VibGltZSIsCiAgICAgICAgICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsCiAgICAgICAgICAgICAgICAvLyB0aGVtZTogIm1vbm9rYWkiLAogICAgICAgICAgICAgICAgZXh0cmFLZXlzOiB7CiAgICAgICAgICAgICAgICAgIEN0cmw6ICJhdXRvY29tcGxldGUiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaGludE9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgY29tcGxldGVTaW5nbGU6IGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBtYWluID0gaCgiVkNvbnRhaW5lciIsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgLy8gcmVmOiAnVkNNSHRtbCcsCiAgICAgICAgICAgICAgICByZWY6ICJyYXdIdG1sIgogICAgICAgICAgICAgIH0sIG9wdGlvbnMpLCBbaW5zaWRlSGVhZGVyc1ZOLCAoKF9pbm5lckh0bWwyID0gaW5uZXJIdG1sKSA9PT0gbnVsbCB8fCBfaW5uZXJIdG1sMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2lubmVySHRtbDIuY2hpbGRyZW4pIHx8IGlubmVySHRtbCwgaF8oIlZDTSIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgKChfb3B0aW9uczE5ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMxOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMxOS5WQ01PcHRpb25zKSB8fCB7fSksIHt9LCB7CiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAvLyBtb2RlOiAndGV4dC9qYXZhc2NyaXB0JywKICAgICAgICAgICAgICAgICAgbW9kZTogInRleHQvaHRtbCIsCiAgICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgICBvcHRpb25zOiAoKF9vcHRpb25zMjAgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczIwID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMjAgPSBfb3B0aW9uczIwLnByb3BzKSA9PT0gbnVsbCB8fCBfb3B0aW9uczIwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczIwLm9wdGlvbnMpIHx8IGRlZmF1bHRWQ01PcHRpb25zLAogICAgICAgICAgICAgICAgICAvLyAuLi5vcHRpb25zPy5WQ01PcHRpb25zPy5wcm9wcyB8fCB7fSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IChfb3B0aW9uczIxID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMyMSA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczIxID0gX29wdGlvbnMyMS5wcm9wcykgPT09IG51bGwgfHwgX29wdGlvbnMyMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMyMS52YWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gb246IHRoaXMuaXRlbUxpc3RlbmVycywKICAgICAgICAgICAgICAgIC8vIGF0dHJzOiB0aGlzLmF0dHJzLAogICAgICAgICAgICAgICAgLy8gb246IHsgaW5wdXQ6b3B0aW9ucz8uVkNNT3B0aW9ucz8ub24/LmlucHV0IH0sCiAgICAgICAgICAgICAgfSksIF90b0NvbnN1bWFibGVBcnJheShPYmplY3QuZW50cmllcygoKF9vcHRpb25zMjIgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczIyLnNsb3RzKSB8fCB7fSkubWFwKGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgICAgICAgICAgdmFyIF9lbDg4OwogICAgICAgICAgICAgICAgdmFyIF9yZWY3ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjYsIDIpLAogICAgICAgICAgICAgICAgICBzbG90TmFtZSA9IF9yZWY3WzBdLAogICAgICAgICAgICAgICAgICBzbG90VmFsID0gX3JlZjdbMV07CiAgICAgICAgICAgICAgICByZXR1cm4gaF8oInRlbXBsYXRlIiwgewogICAgICAgICAgICAgICAgICBzbG90OiBzbG90TmFtZQogICAgICAgICAgICAgICAgfSwgW2hfKCJXQkMiLCB7CiAgICAgICAgICAgICAgICAgIGtleXk6ICJrZXktc2xvdHMtIi5jb25jYXQoc2xvdE5hbWUsICItIikuY29uY2F0KF90aGlzMTQuY29tcHV0ZWRLZXkoKF9lbDg4ID0gZWwpID09PSBudWxsIHx8IF9lbDg4ID09PSB2b2lkIDAgfHwgKF9lbDg4ID0gX2VsODgub3B0aW9ucykgPT09IG51bGwgfHwgX2VsODggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDg4LmtleSkpLAogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIGl0ZW06IHNsb3RWYWwKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSldKTsKICAgICAgICAgICAgICB9KSkpLAogICAgICAgICAgICAgIC8vIGhfKCdWU2VsZWN0JywgewogICAgICAgICAgICAgIC8vICAgcHJvcHM6IHsKICAgICAgICAgICAgICAvLyAgICAgaXRlbXM6IFsKICAgICAgICAgICAgICAvLyAgICAgICAndGV4dC9odG1sJywKICAgICAgICAgICAgICAvLyAgICAgICAndGV4dC94LXZ1ZScsCiAgICAgICAgICAgICAgLy8gICAgICAgJ3RleHQveC1weXRob24nLAogICAgICAgICAgICAgIC8vICAgICAgICd0ZXh0L2phdmFzY3NyaXB0JywKICAgICAgICAgICAgICAvLyAgICAgICAndGV4dC94LW1hcmtkb3duJywKICAgICAgICAgICAgICAvLyAgICAgICAndGV4dC9odG1sJywKICAgICAgICAgICAgICAvLyAgICAgICAndGV4dC94LXB5dGhvbicsCiAgICAgICAgICAgICAgLy8gICAgIF0sCiAgICAgICAgICAgICAgLy8gICAgIHZhbHVlOiB0aGlzLmNvZGVNaXJyb01vZGUKICAgICAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAgICAgLy8gICBvbjogewogICAgICAgICAgICAgIC8vICAgICBjaGFuZ2U6KHZhbCk9PiB7CiAgICAgICAgICAgICAgLy8gICAgICAgYWxlcnQodmFsKQogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY29kZU1pcnJvTW9kZSA9dmFsCiAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyB9KSwKICAgICAgICAgICAgICAvLyBleHRDaGlsZHJlbiwKICAgICAgICAgICAgICBpbnNpZGVGb290ZXJzVk5dKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wID09ICJWSWNvbiIpIHsKICAgICAgICAgICAgICB2YXIgX2VsODksIF9vcHRpb25zMjM7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJzcGFuIiwgewogICAgICAgICAgICAgICAgLy8gcmVmOiAncmF3MEh0bWwnLAogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgICB9LCBbaW5zaWRlSGVhZGVyc1ZOLCBoXyhjb21wLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgcmVmOiAiaWNvbkh0bWwiCiAgICAgICAgICAgICAgfSwgb3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAgICAgICAvLyAuLi4oZWwuc3dpdGNoPT09dHJ1ZT9lbD8uaE9wdGlvbnM6e30pLAogICAgICAgICAgICAgICAgLy8gcHJvcHM6ey4uLihvcHRpb25zPy5wcm9wc3x8e30pLHJ1bGVzOnRoaXMuaXRlbVJ1bGVzfSwKICAgICAgICAgICAgICAgIC8vIGF0dHJzOnRoaXMuaXRlbUF0dHJzKGVsKSwKICAgICAgICAgICAgICAgIC8vIG9uOnt9LAogICAgICAgICAgICAgICAgb246IHRoaXMuaXRlbUxpc3RlbmVycywKICAgICAgICAgICAgICAgIC8vIGF0dHJzOiB0aGlzLmF0dHJzLAogICAgICAgICAgICAgICAga2V5eTogImljb24tIi5jb25jYXQodGhpcy5jb21wdXRlZEtleSgoX2VsODkgPSBlbCkgPT09IG51bGwgfHwgX2VsODkgPT09IHZvaWQgMCB8fCAoX2VsODkgPSBfZWw4OS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw4OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsODkua2V5KSkKICAgICAgICAgICAgICB9KSwgWyhfb3B0aW9uczIzID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMyMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMyMy5odG1sIC8vIHRoaXMub2JqTGFuZyggb3B0aW9ucz8uaHRtbCwgdGhpcy5sYW5nICksCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgLy8gZm9vdGVycwogICAgICAgICAgICAgIC8vIGVsLnN3aXRjaD09PXRydWU/aEZvb3Rlcjpmb290ZXIsCiAgICAgICAgICAgICAgLy8gaEZvb3Rlcjpmb290ZXIsCiAgICAgICAgICAgICAgZXh0Q2hpbGRyZW4sIGluc2lkZUZvb3RlcnNWTl0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBfZWw5MCwgX2VsOTEsIF9pbm5lckh0bWwzLCBfb3B0aW9uczI0LCBfaW5uZXJIdG1sNCwgX29wdGlvbnMyNTsKICAgICAgICAgICAgICByYXcwID0gaF8oY29tcCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgIHJlZjogInJhd0h0bWwiCiAgICAgICAgICAgICAgfSwgb3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAgICAgICAvLyAuLi50aGlzLm9iakxhbmcob3B0aW9ucyx0aGlzLmxhbmcpLAogICAgICAgICAgICAgICAgLy8gLi4uKGVsLnN3aXRjaD09PXRydWU/ZWw/LmhPcHRpb25zOnt9KSwKICAgICAgICAgICAgICAgIC8vIHByb3BzOnsuLi4ob3B0aW9ucz8ucHJvcHN8fHt9KSxydWxlczp0aGlzLml0ZW1SdWxlc30sCiAgICAgICAgICAgICAgICAvLyBhdHRyczp0aGlzLml0ZW1BdHRycywKICAgICAgICAgICAgICAgIG9uOiB0aGlzLml0ZW1MaXN0ZW5lcnMsCiAgICAgICAgICAgICAgICAvLyBhdHRyczogdGhpcy5hdHRycywKICAgICAgICAgICAgICAgIGtleXk6ICJrZXktcmF3MC0iLmNvbmNhdCh0aGlzLmNvbXB1dGVkS2V5KChfZWw5MCA9IGVsKSA9PT0gbnVsbCB8fCBfZWw5MCA9PT0gdm9pZCAwIHx8IChfZWw5MCA9IF9lbDkwLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbDkwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw5MC5rZXkpKQogICAgICAgICAgICAgIH0pLCBbCiAgICAgICAgICAgICAgLy8gaGVhZGVycywKICAgICAgICAgICAgICAoKF9lbDkxID0gZWwpID09PSBudWxsIHx8IF9lbDkxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWw5MS5zd2l0Y2gpID09PSB0cnVlID8gKGhJbm5lckh0bWwgPT09IG51bGwgfHwgaElubmVySHRtbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaElubmVySHRtbC5jaGlsZHJlbikgfHwgaElubmVySHRtbCA6ICgoX2lubmVySHRtbDMgPSBpbm5lckh0bWwpID09PSBudWxsIHx8IF9pbm5lckh0bWwzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaW5uZXJIdG1sMy5jaGlsZHJlbikgfHwgaW5uZXJIdG1sXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KE9iamVjdC5lbnRyaWVzKCgoX29wdGlvbnMyNCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMjQuc2xvdHMpIHx8IHt9KS5tYXAoZnVuY3Rpb24gKF9yZWY4KSB7CiAgICAgICAgICAgICAgICB2YXIgX2VsOTI7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjkgPSBfc2xpY2VkVG9BcnJheShfcmVmOCwgMiksCiAgICAgICAgICAgICAgICAgIHNsb3ROYW1lID0gX3JlZjlbMF0sCiAgICAgICAgICAgICAgICAgIHNsb3RWYWwgPSBfcmVmOVsxXTsKICAgICAgICAgICAgICAgIHJldHVybiBoXygidGVtcGxhdGUiLCB7CiAgICAgICAgICAgICAgICAgIHNsb3Q6IHNsb3ROYW1lCiAgICAgICAgICAgICAgICB9LCBbaF8oIldCQyIsIHsKICAgICAgICAgICAgICAgICAga2V5eTogImtleS1zbG90cy0iLmNvbmNhdChzbG90TmFtZSwgIi0iKS5jb25jYXQoX3RoaXMxNC5jb21wdXRlZEtleSgoX2VsOTIgPSBlbCkgPT09IG51bGwgfHwgX2VsOTIgPT09IHZvaWQgMCB8fCAoX2VsOTIgPSBfZWw5Mi5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw5MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsOTIua2V5KSksCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgaXRlbTogc2xvdFZhbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KV0pOwogICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAvLyBsZXQgb3B0aW9uTGc9IHRoaXMub2JqTGFuZyh7Li4ub3B0aW9uc30sdGhpcy5sYW5nKSwKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndHR0dHR0dHR0dHR0Jyx0aGlzLiRyZWZzW2VsPy5vcHRpb25zPy5yZWZdPy4kbGlzdGVuZXJzKQoKICAgICAgICAgICAgICB0aGlzLnZOb2Rlcy5yYXcwID0gcmF3MDsKICAgICAgICAgICAgICBtYWluID0gaF8oY29tcCwgLy8gb3B0aW9ucywKICAgICAgICAgICAgICBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgLy8gcmVmOiAnbWFpbkh0bWwnLAogICAgICAgICAgICAgICAgcmVmOiAicmF3SHRtbCIKICAgICAgICAgICAgICB9LCBvcHRpb25zKSwge30sIHsKICAgICAgICAgICAgICAgIC8vIC4uLih0aGlzLm1lbnV8fG9wdGlvbnM/Lm1lbnU/LmFjdGl2ZSk/KG9wdGlvbnM/Lm1lbnU/LmFjdGl2ZVJvb3RPcHRpb25zfHxvcHRpb25zPy5tZW51Py5hY3RpdmVPcHRpb25zICk6e30gLAoKICAgICAgICAgICAgICAgIC8vIC4uLih0aGlzLm9iakxhbmcob3B0aW9ucyx0aGlzLmxhbmcpICksCiAgICAgICAgICAgICAgICAvLyAuLi4oZWwuc3dpdGNoPT09dHJ1ZT9lbD8uaG9wdGlvbnM6e30pLAogICAgICAgICAgICAgICAgLy8gcHJvcHM6ey4uLihvcHRpb25zPy5wcm9wc3x8e30pLHJ1bGVzOnRoaXMuaXRlbVJ1bGVzKG9wdGlvbnMpfSwKICAgICAgICAgICAgICAgIC8vIGF0dHJzOnRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9LAogICAgICAgICAgICAgICAgLy8gYXR0cnM6ey4uLnRoaXMuaXRlbUF0dHJzKGVsKX0sCiAgICAgICAgICAgICAgICAvLyBvbjp7Li4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9KX0sCiAgICAgICAgICAgICAgICAvLyAvLyBhdHRyczp7Li4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRhdHRyc3x8e30pfSwKICAgICAgICAgICAgICAgIC8vIGF0dHJzOnsuLi50aGlzLiRhdHRycywuLi4odGhpcy4kcmVmc1tlbD8ub3B0aW9ucz8ucmVmXT8uJGF0dHJzfHx7fSksLi4uKG9wdGlvbnM/LmF0dHJzfHx7fSl9LAogICAgICAgICAgICAgICAgLy8gb246ey4uLih0aGlzLiRyZWZzW2VsPy5vcHRpb25zPy5yZWZdPy4kbGlzdGVuZXJzfHx7fSksLi4uKG9wdGlvbnM/Lm9ufHx7fSl9LAogICAgICAgICAgICAgICAgLy8gb246ey4uLnRoaXMuaXRlbUxpc3RlbmVycyhlbCksLi4uKHRoaXMuJHJlZnNbZWw/Lm9wdGlvbnM/LnJlZl0/LiRsaXN0ZW5lcnN8fHt9KX0sCiAgICAgICAgICAgICAgICBvbjogdGhpcy5pdGVtTGlzdGVuZXJzCiAgICAgICAgICAgICAgICAvLyBhdHRyczogdGhpcy5hdHRycwoKICAgICAgICAgICAgICAgIC8vIGtleXk6YG1haW4ta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX1gLAogICAgICAgICAgICAgIH0pLCBbCiAgICAgICAgICAgICAgLy8gcmV0dXJuIGhfKCdzcGFuJyxtYWluKQoKICAgICAgICAgICAgICAvLyBtYWluID0gW2dsb2JhbEhlYWRlclZOLGhlYWRlcnMsIG1haW4sZm9vdGVycyxnbG9iYWxGb290ZXJWTl0KICAgICAgICAgICAgICAvLyBoZWFkZXIsCgogICAgICAgICAgICAgIC8vIGVsPy5zd2l0Y2g9PT10cnVlP2hJbm5lckh0bWw/LmNoaWxkcmVuIHx8IGhJbm5lckh0bWw6aW5uZXJIdG1sPy5jaGlsZHJlbiB8fCBpbm5lckh0bWwsCiAgICAgICAgICAgICAgaW5zaWRlSGVhZGVyc1ZOLCAoKF9pbm5lckh0bWw0ID0gaW5uZXJIdG1sKSA9PT0gbnVsbCB8fCBfaW5uZXJIdG1sNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2lubmVySHRtbDQuY2hpbGRyZW4pIHx8IGlubmVySHRtbF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShPYmplY3QuZW50cmllcygoKF9vcHRpb25zMjUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczI1LnNsb3RzKSB8fCB7fSkubWFwKGZ1bmN0aW9uIChfcmVmMTApIHsKICAgICAgICAgICAgICAgIHZhciBfZWw5MzsKICAgICAgICAgICAgICAgIHZhciBfcmVmMTEgPSBfc2xpY2VkVG9BcnJheShfcmVmMTAsIDIpLAogICAgICAgICAgICAgICAgICBzbG90TmFtZSA9IF9yZWYxMVswXSwKICAgICAgICAgICAgICAgICAgc2xvdFZhbCA9IF9yZWYxMVsxXTsKICAgICAgICAgICAgICAgIHJldHVybiBoXygidGVtcGxhdGUiLCB7CiAgICAgICAgICAgICAgICAgIHNsb3Q6IHNsb3ROYW1lCiAgICAgICAgICAgICAgICB9LCBbaF8oIldCQyIsIHsKICAgICAgICAgICAgICAgICAga2V5eTogImtleS1zbG90cy0iLmNvbmNhdChzbG90TmFtZSwgIi0iKS5jb25jYXQoX3RoaXMxNC5jb21wdXRlZEtleSgoX2VsOTMgPSBlbCkgPT09IG51bGwgfHwgX2VsOTMgPT09IHZvaWQgMCB8fCAoX2VsOTMgPSBfZWw5My5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWw5MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsOTMua2V5KSksCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgaXRlbTogc2xvdFZhbAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KV0pOwogICAgICAgICAgICAgIH0pKSwgWwogICAgICAgICAgICAgIC8vIC4uLk9iamVjdC5lbnRyaWVzKG9wdGlvbnM/LnNsb3RzIHx8IHt9KS5tYXAoKFtzbG90TmFtZSwgc2xvdFZhbF0pID0+IGhfKCd0ZW1wbGF0ZScsIHsgc2xvdDogc2xvdE5hbWUgfSwgW3RoaXMudG9XQkNfKHNsb3RWYWwsaF8pXSkpLAoKICAgICAgICAgICAgICAvLyBlbC5zd2l0Y2g9PT10cnVlP2hGb290ZXI6Zm9vdGVyLAogICAgICAgICAgICAgIGV4dENoaWxkcmVuLCBpbnNpZGVGb290ZXJzVk4KICAgICAgICAgICAgICAvLyBmb290ZXIKCiAgICAgICAgICAgICAgLyogdGhpcy50b1dCQ18odGhpcy50b1dCQyhsb2FkRGVmYXVsdENvbXApKXx8ICovXSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyByZXR1cm4gbWFpbgoKICAgICAgICAgICAgaWYgKGV4dGVybmFsV3JhcHBlck9iaikgewogICAgICAgICAgICAgIG1haW4gPSBoXyhleHRlcm5hbFdyYXBwZXJPYmouY29tcCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICByZWY6ICJleHRlcm5hbEh0bWwiCiAgICAgICAgICAgICAgfSwgZXh0ZXJuYWxXcmFwcGVyT2JqLm9wdGlvbnMpLCBbbWFpbl0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgoX29wdGlvbnMyNiA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zMjYgIT09IHZvaWQgMCAmJiBfb3B0aW9uczI2LnRvKSB7CiAgICAgICAgICAgICAgdmFyIF9vcHRpb25zMjc7CiAgICAgICAgICAgICAgbWFpbiA9IGhfKCJXQkxpbmsiLCB7CiAgICAgICAgICAgICAgICByZWY6ICJsaW5rSHRtbCIsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICB0bzogKF9vcHRpb25zMjcgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczI3LnRvLAogICAgICAgICAgICAgICAgICBzdHlsZV86IHt9LAogICAgICAgICAgICAgICAgICBhdHRyczoge30sCiAgICAgICAgICAgICAgICAgIGh0bWw6IG1haW4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gfQoKICAgICAgICAgIC8vIGlmKCEoZm9vdGVyJiZoZWFkZXIpKXsKICAgICAgICAgIC8vIAltYWluPVtoZWFkZXIsbWFpbixmb290ZXJdCiAgICAgICAgICAvLyB9CgogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dsb2JhbEZvb3RlclZOICwgZ2xvYmFsSGVhZGVyVk4nLGdsb2JhbEZvb3RlclZOICwgZ2xvYmFsSGVhZGVyVk4pCiAgICAgICAgICBpZiAoZ2xvYmFsRm9vdGVyVk4gfHwgZ2xvYmFsSGVhZGVyVk4pIHsKICAgICAgICAgICAgdmFyIF9lbDk0OwogICAgICAgICAgICBtYWluID0gaF8oImRpdiIsIHsKICAgICAgICAgICAgICByZWY6ICJnbG9iYWxIdG1sIiwKICAgICAgICAgICAgICBrZXk6IChfZWw5NCA9IGVsKSA9PT0gbnVsbCB8fCBfZWw5NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsOTQuc3dpdGNoCiAgICAgICAgICAgIH0sIFtnbG9iYWxIZWFkZXJWTiwgbWFpbiwgZ2xvYmFsRm9vdGVyVk5dKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgoX29wdGlvbnMyOCA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zMjggIT09IHZvaWQgMCAmJiBfb3B0aW9uczI4Lm1lbnUpIHsKICAgICAgICAgICAgdmFyIF9vcHRpb25zMjksIF90aGlzJCRyZWZzLCBfb3B0aW9uczMwOwogICAgICAgICAgICAvLyAJCWFsZXJ0KDExMTEpCgogICAgICAgICAgICAvLyAJCW1haW49aF8oJ1ZNZW51JywgewogICAgICAgICAgICAvLyAgICAgLy8ga2V5OiBge2l9LXt0aGlzPy5maWx0ZXJfPy5maWx0ZXJlZENvbH1gLAoKICAgICAgICAgICAgLy8gICAgIC8vIHJlZjogYG1lbnUte2l9YCwgLy8gcmF3SHRtbCB0byB0aGUgbWVudQogICAgICAgICAgICAvLyAgICAgLy8gcHJvcHM6IHsKICAgICAgICAgICAgLy8gICAgIC8vICAgb2Zmc2V0WTogdHJ1ZSwKICAgICAgICAgICAgLy8gICAgIC8vICAgY2xvc2VPbkNvbnRlbnRDbGljazogIXRydWUsCiAgICAgICAgICAgIC8vICAgICAvLyAgIGNvbnRlbnRDbGFzczogJ2dyZXknLAogICAgICAgICAgICAvLyAgICAgLy8gICBjbG9zZURlbGF5OiAxMCwKICAgICAgICAgICAgLy8gICAgIC8vIH0sCiAgICAgICAgICAgIC8vICAgICAvLyAuLi4odGhpcz8uZmlsdGVyXz8uY29sRmlsdE1lbnUgfHwge30pCgogICAgICAgICAgICAvLyAgIH0sIFsKICAgICAgICAgICAgLy8gICAgIGhfKCd0ZW1wbGF0ZScsIHsgc2xvdDogJ2FjdGl2YXRvcicgfSwgW21haW4KICAgICAgICAgICAgLy8gICAgIF0pLAogICAgICAgICAgICAvLyAJJ3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3MnCiAgICAgICAgICAgIC8vICAgICAvLyBoXygnVkxpc3RJdGVtJywgW2hfKCdXQkMnLCB7CiAgICAgICAgICAgIC8vICAgICAvLyAgIGNsYXNzOiAnbWItNScsCiAgICAgICAgICAgIC8vICAgICAvLyAgIHByb3BzOiB7IGl0ZW06ICdjb2xGaWx0ZWRPYmpDb250ZW50JyB9CiAgICAgICAgICAgIC8vICAgICAvLyB9KV0pCgogICAgICAgICAgICAvLyAgIF0pCiAgICAgICAgICAgIC8vIAl9CgogICAgICAgICAgICB2YXIgZGVmYXVsdE1lbnVPcHRpb25zID0gewogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAvLyB2YWx1ZTpvcHRpb25zLm1lbnUudmlzaWJpbGl0eSwgLyogeW91ciBtb2RlbCBmb3IgY29udHJvbGxpbmcgdGhlIG1lbnUgdmlzaWJpbGl0eSAqLywKICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSAvKiB5b3VyIG1vZGVsIGZvciBjb250cm9sbGluZyB0aGUgbWVudSB2aXNpYmlsaXR5ICovLAogICAgICAgICAgICAgICAgb2Zmc2V0WTogdHJ1ZSwKICAgICAgICAgICAgICAgIGNsb3NlT25Db250ZW50Q2xpY2s6ICF0cnVlLAogICAgICAgICAgICAgICAgLy8gICBjb250ZW50Q2xhc3M6ICd5ZWxsb3cnLAogICAgICAgICAgICAgICAgY2xvc2VEZWxheTogMTAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBhY3RpdmVPcHRpb25zID0gKF9vcHRpb25zMjkgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczI5ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMjkgPSBfb3B0aW9uczI5Lm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zMjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMjkuYWN0aXZlT3B0aW9uczsKICAgICAgICAgICAgdGhpcy5tZW51ID0gKChfdGhpcyQkcmVmcyA9IHRoaXMuJHJlZnNbIm1lbnVIdG1sIl0pID09PSBudWxsIHx8IF90aGlzJCRyZWZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcy5pc0FjdGl2ZSkgfHwgZmFsc2U7CgogICAgICAgICAgICAvLyBpZih0aGlzPy4kcmVmcz8uW2BtZW51YF0/LmlzQWN0aXZlKQogICAgICAgICAgICAvLyB0aGlzLiRyZWZzW2BtZW51SHRtbGBdPXtpc0FjdGl2ZSA6IHRoaXMubWVudX0KCiAgICAgICAgICAgIHZhciB2dWV0aWZ5Q29tcG9uZW50c1dpdGhBY3RpdmF0b3JTbG90ID0gWyJWTWVudSIsICJWRGlhbG9nIiwgIlZUb29sdGlwIiwgIlZIb3ZlciIsICJWRHJvcGRvd24iLCAiVkRhdGVQaWNrZXIiLCAiVkV4cGFuc2lvblBhbmVsIiwgIlZCb3R0b21TaGVldCJdOwoKICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBvcHRpb25zPy5tZW51Py5hY3RpdmUgIT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIC8vICAgb3B0aW9ucz8ubWVudT8uYWN0aXZlPXRydWUKICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgaWYgKHZ1ZXRpZnlDb21wb25lbnRzV2l0aEFjdGl2YXRvclNsb3QuaW5jbHVkZXMoKF9vcHRpb25zMzAgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczMwID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMzAgPSBfb3B0aW9uczMwLm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zMzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMzAuY29tcCkpIHsKICAgICAgICAgICAgICB2YXIgX29wdGlvbnMzMSwgX3RoaXMkbWVudSwgX29wdGlvbnMzMiwgX29wdGlvbnMzMywgX29wdGlvbnMzNCwgX29wdGlvbnMzNSwgX29wdGlvbnMzNiwgX29wdGlvbnMzNywgX29wdGlvbnMzODsKICAgICAgICAgICAgICBtYWluID0gaF8oKF9vcHRpb25zMzEgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczMxID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMzEgPSBfb3B0aW9uczMxLm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zMzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMzEuY29tcCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICByZWY6ICJtZW51SHRtbCIKICAgICAgICAgICAgICB9LCAoX3RoaXMkbWVudSA9IHRoaXMubWVudSkgIT09IG51bGwgJiYgX3RoaXMkbWVudSAhPT0gdm9pZCAwICYmIF90aGlzJG1lbnUuYWN0aXZlID8gKF9vcHRpb25zMzIgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczMyID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMzIgPSBfb3B0aW9uczMyLm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zMzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMzIub3B0aW9ucyA6IChfb3B0aW9uczMzID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMzMyA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczMzID0gX29wdGlvbnMzMy5tZW51KSA9PT0gbnVsbCB8fCBfb3B0aW9uczMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczMzLmFjdGl2ZU9wdGlvbnMpLCBbCiAgICAgICAgICAgICAgLy8gaF8oJ3NwYW4nLCB7IH0sIFsKICAgICAgICAgICAgICBoXygidGVtcGxhdGUiLCB7CiAgICAgICAgICAgICAgICBzbG90OiAiYWN0aXZhdG9yIgogICAgICAgICAgICAgIH0sIFtoXygoKF9vcHRpb25zMzQgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczM0LmNvbXApIHx8ICJWQ2FyZCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5tZW51ID8gKF9vcHRpb25zMzUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczM1ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zMzUgPSBfb3B0aW9uczM1Lm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zMzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMzUuYWN0aXZlUm9vdE9wdGlvbnMgOiAoX29wdGlvbnMzNiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMzYgPT09IHZvaWQgMCB8fCAoX29wdGlvbnMzNiA9IF9vcHRpb25zMzYubWVudSkgPT09IG51bGwgfHwgX29wdGlvbnMzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMzNi5vcHRpb25zKSwge30sIHsKICAgICAgICAgICAgICAgIG9uOiBfZGVmaW5lUHJvcGVydHkoe30sICgoX29wdGlvbnMzNyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMzcgPT09IHZvaWQgMCB8fCAoX29wdGlvbnMzNyA9IF9vcHRpb25zMzcubWVudSkgPT09IG51bGwgfHwgX29wdGlvbnMzNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMzNy5ldmVudCkgfHwgImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczE0LiRyZWZzWyJtZW51SHRtbCJdLmlzQWN0aXZlID0gIV90aGlzMTQuJHJlZnNbIm1lbnVIdG1sIl0uaXNBY3RpdmUsCiAgICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSB0aGUgbWVudQogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygzMzMzMzMzMzMsIG9wdGlvbnM/Lm1lbnUsIHRoaXMuJHJlZnNbYG1lbnVIdG1sYF0sIHRoaXMuJHJlZnNbYG1lbnVIdG1sYF0uaXNBY3RpdmUsIHRoaXMubWVudSwgb3B0aW9ucz8ubWVudT8ub3B0aW9ucy5wcm9wcy52YWx1ZSkKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5tZW51ID0gIV90aGlzMTQubWVudTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kcmVmc1sibWVudUh0bWwiXS5pc0FjdGl2ZSA9IF90aGlzMTQubWVudTsKICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucy5tZW51Lm9wdGlvbnMucHJvcHMudmFsdWUgPSAhb3B0aW9ucz8ubWVudT8ub3B0aW9ucy5wcm9wcy52YWx1ZQoKICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiB0aGlzLm1lbnUgPT0gJ2Jvb2xlYW4nKSB7IG9wdGlvbnMubWVudS5oaWRlID0gIW9wdGlvbnM/Lm1lbnU/LmhpZGUgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KSwgW21haW5dKV0pLCBoXygiV0JDIiwgewogICAgICAgICAgICAgICAgLy8gY2xhc3M6J3llbGxvdycsCiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBpdGVtOiAoX29wdGlvbnMzOCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMzgubWVudS5jb250ZW50CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAvLyBvcHRpb25zPy5tZW51Py5oaWRlID8gaF8oJ1dCQycsIHsgcHJvcHM6IHsgaXRlbTogb3B0aW9ucz8ubWVudT8uY29udGVudCB9IH0pIDogbnVsbCwKICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgX29wdGlvbnMzOSwgX29wdGlvbnM0MCwgX29wdGlvbnM0MSwgX29wdGlvbnM0MiwgX29wdGlvbnM0MywgX29wdGlvbnM0NCwgX29wdGlvbnM0NSwgX29wdGlvbnM0NiwgX29wdGlvbnM0OCwgX29wdGlvbnM0OTsKICAgICAgICAgICAgICAvLyB0aGlzLm1lbnUgPT0gb3B0aW9ucz8ubWVudT8uYWN0aXZlfHxmYWxzZQoKICAgICAgICAgICAgICBtYWluID0gaF8oKChfb3B0aW9uczM5ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMzOSA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczM5ID0gX29wdGlvbnMzOS5tZW51KSA9PT0gbnVsbCB8fCBfb3B0aW9uczM5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczM5LmNvbXApIHx8ICJkaXYiLCBfb2JqZWN0U3ByZWFkKHt9LCAhKChfb3B0aW9uczQwID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM0MCAhPT0gdm9pZCAwICYmIChfb3B0aW9uczQwID0gX29wdGlvbnM0MC5tZW51KSAhPT0gbnVsbCAmJiBfb3B0aW9uczQwICE9PSB2b2lkIDAgJiYgX29wdGlvbnM0MC5hY3RpdmUpID8gKF9vcHRpb25zNDEgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczQxID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNDEgPSBfb3B0aW9uczQxLm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zNDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNDEub3B0aW9ucyA6IChfb3B0aW9uczQyID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM0MiA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczQyID0gX29wdGlvbnM0Mi5tZW51KSA9PT0gbnVsbCB8fCBfb3B0aW9uczQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczQyLmFjdGl2ZU9wdGlvbnMpLCBbaF8oKChfb3B0aW9uczQzID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM0My5jb21wKSB8fCAiZGl2IiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCAoX29wdGlvbnM0NCA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zNDQgIT09IHZvaWQgMCAmJiAoX29wdGlvbnM0NCA9IF9vcHRpb25zNDQubWVudSkgIT09IG51bGwgJiYgX29wdGlvbnM0NCAhPT0gdm9pZCAwICYmIF9vcHRpb25zNDQuYWN0aXZlID8gKF9vcHRpb25zNDUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczQ1ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNDUgPSBfb3B0aW9uczQ1Lm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zNDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNDUuYWN0aXZlUm9vdE9wdGlvbnMgOiB7fSksIHt9LCB7CiAgICAgICAgICAgICAgICBvbjogX2RlZmluZVByb3BlcnR5KHt9LCAoKF9vcHRpb25zNDYgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczQ2ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNDYgPSBfb3B0aW9uczQ2Lm1lbnUpID09PSBudWxsIHx8IF9vcHRpb25zNDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNDYuZXZlbnQpIHx8ICJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9vcHRpb25zNDc7CiAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdhYWFhJytvcHRpb25zPy5tZW51Py5hY3RpdmUpCiAgICAgICAgICAgICAgICAgIG9wdGlvbnMubWVudS5hY3RpdmUgPSAhKChfb3B0aW9uczQ3ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM0NyAhPT0gdm9pZCAwICYmIChfb3B0aW9uczQ3ID0gX29wdGlvbnM0Ny5tZW51KSAhPT0gbnVsbCAmJiBfb3B0aW9uczQ3ICE9PSB2b2lkIDAgJiYgX29wdGlvbnM0Ny5hY3RpdmUpOwogICAgICAgICAgICAgICAgICBfdGhpczE0LmtleV8gPSAoIiIuY29uY2F0KF90aGlzMTQua2V5XykgKyAiXyIpLnJlcGxhY2UoIl9fXyIsICJfIik7CgogICAgICAgICAgICAgICAgICAvLyBpZiAob3B0aW9ucz8ubWVudT8uYWN0aXZlID09ICd1bmRlZmluZWQnKQogICAgICAgICAgICAgICAgICAvLyB7CiAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnMubWVudS5hY3RpdmUgPSBmYWxzZQoKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KSwgW21haW5dKSwgKF9vcHRpb25zNDggPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczQ4ICE9PSB2b2lkIDAgJiYgKF9vcHRpb25zNDggPSBfb3B0aW9uczQ4Lm1lbnUpICE9PSBudWxsICYmIF9vcHRpb25zNDggIT09IHZvaWQgMCAmJiBfb3B0aW9uczQ4LmFjdGl2ZSA/IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICBpdGVtOiAoX29wdGlvbnM0OSA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNDkgPT09IHZvaWQgMCB8fCAoX29wdGlvbnM0OSA9IF9vcHRpb25zNDkubWVudSkgPT09IG51bGwgfHwgX29wdGlvbnM0OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM0OS5jb250ZW50CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkgOiBudWxsXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyB0aGlzLnZOb2Rlcy5tYWluID0gbWFpbjsKCiAgICAgICAgICBpZiAoKF9lbCRvcHRpb25zMTA0ID0gZWwub3B0aW9ucykgIT09IG51bGwgJiYgX2VsJG9wdGlvbnMxMDQgIT09IHZvaWQgMCAmJiBfZWwkb3B0aW9uczEwNC5nbG9iYWwpIHsKICAgICAgICAgICAgdmFyIF9lbCRvcHRpb25zMTA1LCBfZWwkb3B0aW9uczEwNiwgX2VsJG9wdGlvbnMxMDc7CiAgICAgICAgICAgIGdsb2JhbFsoX2VsJG9wdGlvbnMxMDUgPSBlbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWwkb3B0aW9uczEwNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsJG9wdGlvbnMxMDUuZ2xvYmFsXSA9IHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHk7CiAgICAgICAgICAgIGdsb2JhbFsoKF9lbCRvcHRpb25zMTA2ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTA2Lmdsb2JhbCkgKyAiX3ZtX2NvbnRleHQiXSA9IHRoaXM7CiAgICAgICAgICAgIGdsb2JhbFsoKF9lbCRvcHRpb25zMTA3ID0gZWwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsJG9wdGlvbnMxMDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbCRvcHRpb25zMTA3Lmdsb2JhbCkgKyAiX3ZuIl0gPSBtYWluOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoKF9vcHRpb25zNTAgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczUwICE9PSB2b2lkIDAgJiYgX29wdGlvbnM1MC53cmFwKSB7CiAgICAgICAgICB2YXIgX29wdGlvbnM1MSwgX29wdGlvbnM1MzsKICAgICAgICAgIHZhciB0aGVXcmFwT3B0aW9uczsKICAgICAgICAgIHZhciB0aGVXcmFwSGVhZGVyOwogICAgICAgICAgdmFyIHRoZVdyYXBGb290ZXI7CiAgICAgICAgICB2YXIgdGhlV3JhcE9wdGlvbnNIZWFkZXJzOwogICAgICAgICAgdmFyIHRoZVdyYXBPcHRpb25zRm9vdGVyczsKICAgICAgICAgIHZhciB0aGVXcmFwID0gb3B0aW9ucy53cmFwOwogICAgICAgICAgaWYgKHR5cGVvZiAoKF9vcHRpb25zNTEgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczUxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczUxLndyYXApID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIHZhciBfb3B0aW9uczUyOwogICAgICAgICAgICB0aGVXcmFwID0gKF9vcHRpb25zNTIgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczUyLndyYXA7CiAgICAgICAgICB9IGVsc2UgaWYgKCgoX29wdGlvbnM1MyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNTMud3JhcCkgaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgICAgICAgdmFyIF9vcHRpb25zNTQsIF9vcHRpb25zNTUsIF9vcHRpb25zNTYsIF9vcHRpb25zNTcsIF9vcHRpb25zNTgsIF9vcHRpb25zNTk7CiAgICAgICAgICAgIHRoZVdyYXAgPSAoKF9vcHRpb25zNTQgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczU0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczU0LndyYXAuY29tcCkgfHwgbnVsbDsKICAgICAgICAgICAgdGhlV3JhcE9wdGlvbnMgPSAoKF9vcHRpb25zNTUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczU1ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNTUgPSBfb3B0aW9uczU1LndyYXApID09PSBudWxsIHx8IF9vcHRpb25zNTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNTUub3B0aW9ucykgfHwge307CiAgICAgICAgICAgIHRoZVdyYXBPcHRpb25zSGVhZGVycyA9IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgaXRlbTogKF9vcHRpb25zNTYgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczU2ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNTYgPSBfb3B0aW9uczU2LndyYXApID09PSBudWxsIHx8IF9vcHRpb25zNTYgPT09IHZvaWQgMCB8fCAoX29wdGlvbnM1NiA9IF9vcHRpb25zNTYub3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM1NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM1Ni5oZWFkZXJzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGVXcmFwT3B0aW9uc0Zvb3RlcnMgPSBoXygiV0JDIiwgewogICAgICAgICAgICAgIGl0ZW06IChfb3B0aW9uczU3ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM1NyA9PT0gdm9pZCAwIHx8IChfb3B0aW9uczU3ID0gX29wdGlvbnM1Ny53cmFwKSA9PT0gbnVsbCB8fCBfb3B0aW9uczU3ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNTcgPSBfb3B0aW9uczU3Lm9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNTcuZm9vdGVycwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhlV3JhcEhlYWRlciA9IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgaXRlbTogKF9vcHRpb25zNTggPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczU4ID09PSB2b2lkIDAgfHwgKF9vcHRpb25zNTggPSBfb3B0aW9uczU4LndyYXApID09PSBudWxsIHx8IF9vcHRpb25zNTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNTguaGVhZGVyCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGVXcmFwRm9vdGVyID0gaF8oIldCQyIsIHsKICAgICAgICAgICAgICBpdGVtOiAoX29wdGlvbnM1OSA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNTkgPT09IHZvaWQgMCB8fCAoX29wdGlvbnM1OSA9IF9vcHRpb25zNTkud3JhcCkgPT09IG51bGwgfHwgX29wdGlvbnM1OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM1OS5mb290ZXIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyB0aGVXcmFwSGVhZGVyID0gb3B0aW9ucz8ud3JhcD8uaGVhZGVyIDsKICAgICAgICAgICAgLy8gdGhlV3JhcEZvb3RlciA9IG9wdGlvbnM/LndyYXA/LmZvb3RlciA7CiAgICAgICAgICB9CiAgICAgICAgICBtYWluID0gaF8odGhlV3JhcCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIHJlZjogIndyYXBIdG1sIgogICAgICAgICAgfSwgdGhlV3JhcE9wdGlvbnMgfHwge30pLCBbdGhlV3JhcEhlYWRlciwgdGhlV3JhcE9wdGlvbnNIZWFkZXJzLCBtYWluLCB0aGVXcmFwT3B0aW9uc0Zvb3RlcnMsIHRoZVdyYXBGb290ZXJdKTsKICAgICAgICB9CgogICAgICAgIC8vIHRoaXMudk5vZGVzPSB7CiAgICAgICAgLy8gICBtYWluOiBtYWluLAogICAgICAgIC8vICAgaGVhZGVyOiBnbG9iYWxIZWFkZXJWTiwKICAgICAgICAvLyAgIGZvb3RlcjogZ2xvYmFsRm9vdGVyVk4sCiAgICAgICAgLy8gICBoZWFkZXJzOiBpbnNpZGVIZWFkZXJzVk4sCiAgICAgICAgLy8gICBmb290ZXJzOiBpbnNpZGVIZWFkZXJzVk4sCgogICAgICAgIC8vIH0KCiAgICAgICAgLy8gcmV0dXJuIG1haW4KCiAgICAgICAgLy8gbWFpbj1tYWluPy5jaGlsZHJlbnx8bWFpbgoKICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgICAgLy8vLy8vLy8vLy8vL2JlYXV0aWZ5IHRoZSBtYWluIGVsIC8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAgIC8vIGxldCB2Tm9kZXM9e30KCiAgICAgICAgdmFyIHJhdyA9IG1haW47CgogICAgICAgIC8vIGlmIChoZWFkZXJzIHx8IGZvb3RlcnMpIHsKICAgICAgICAvLyAJbGV0IG1haW5MaXN0ID0gW2dsb2JhbEhlYWRlclZOXQogICAgICAgIC8vIAlpZiAoaGVhZGVycykgewogICAgICAgIC8vIAkJbWFpbkxpc3QucHVzaChoZWFkZXJzKQogICAgICAgIC8vIAkJLy8gdk5vZGVzLmhlYWRlcnM9aGVhZGVycwogICAgICAgIC8vIAl9CiAgICAgICAgLy8gCW1haW5MaXN0LnB1c2gobWFpbikKICAgICAgICAvLyAJaWYgKGZvb3RlcnMpIHsKICAgICAgICAvLyAJCW1haW5MaXN0LnB1c2goZm9vdGVycykKICAgICAgICAvLyAJCS8vIHZOb2Rlcy5mb290ZXJzPWZvb3RlcnMKICAgICAgICAvLyAJCS8vIHZOb2Rlcy5mb290ZXJzPWZvb3RlcnMKICAgICAgICAvLyAJfQoKICAgICAgICAvLyAJbWFpbiA9IG1haW5MaXN0CiAgICAgICAgLy8gfQogICAgICAgIC8vIGVsc2UgewogICAgICAgIC8vIAltYWluID0gW2dsb2JhbEhlYWRlclZOLGhlYWRlcnMsIG1haW4sZm9vdGVyc10KICAgICAgICAvLyB9CgogICAgICAgIC8vIG1haW4gPSBbZ2xvYmFsSGVhZGVyVk4saGVhZGVycywgbWFpbixmb290ZXJzLGdsb2JhbEZvb3RlclZOXQoKICAgICAgICAvLyBtYWluLnB1c2goZ2xvYmFsRm9vdGVyVk4pCgogICAgICAgIC8vIG1haW49W2dsb2JhbEhlYWRlclZOLCBtYWluLGdsb2JhbEZvb3RlclZOXQogICAgICAgIC8vIGlmKGVsLnN3aXRjaD09PXRydWUpCiAgICAgICAgLy8gCXsKICAgICAgICAvLyAJCW1haW4ucHVzaChoRm9vdGVyKX0KICAgICAgICAvLyAJZWxzZXsKICAgICAgICAvLyAJCW1haW4ucHVzaChmb290ZXIpCiAgICAgICAgLy8gCX0KCiAgICAgICAgLy8gaWYgKGVsPy5zd2l0Y2gpIHsKICAgICAgICAvLyAJbWFpbiA9IGhfKCdkaXYnLCB7ICB9LCBtYWluKQogICAgICAgIC8vIH0KICAgICAgICAvLyBtYWluPVtoZWFkZXJzLG1haW4sZm9vdGVyc10KCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Zub2RlZWVlZWVlZWVlZWVlZWVlZWVlZWUnLG1haW4pCiAgICAgICAgLy8gdGhpcy52Tm9kZXNbJ2h0bWxIdG1sJ10gPSBoXygnV0JDJywgewogICAgICAgIC8vICAgcHJvcHM6IHsgaXRlbTogaCA9PiB0aGlzLnRvVkNNKGgsIHRoaXMuaHRtbChlbCkgfHwgJ2FhYWFhYWFhYWFhYWEnKSB9CiAgICAgICAgLy8gfSk7CgogICAgICAgIHZhciBtYWluVG9SZW5kZXIgPSBtYWluOwogICAgICAgIGlmICh0eXBlb2YgKChfb3B0aW9uczYwID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM2MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM2MC5jbG9zZSkgPT0gImJvb2xlYW4iIHx8IHR5cGVvZiAoKF9vcHRpb25zNjEgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczYxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczYxLmZsb2F0KSA9PSAiYm9vbGVhbiIgfHwgdHlwZW9mICgoX29wdGlvbnM2MiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNjIuZHJhZykgPT0gImJvb2xlYW4iKSB7CiAgICAgICAgICAvLyAgdGhpcy52Tm9kZXMuZm9jdXNPbiA9IHRoaXMuZm9jdXNPbihlbCwgaF8sIG1haW4pOwogICAgICAgICAgbWFpbiA9IHRoaXMuZm9jdXNPbihlbCwgaF8sIG1haW4pOwogICAgICAgIH0KICAgICAgICB0aGlzLnZOb2Rlcy5tYWluID0gbWFpbjsKICAgICAgICBpZiAoISgoX2VsOTUgPSBlbCkgIT09IG51bGwgJiYgX2VsOTUgIT09IHZvaWQgMCAmJiBfZWw5NS5vdXRwdXQpICYmICgoX29wdGlvbnM2MyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNjMubW9kZSkgIT0gImRldiIpIHsKICAgICAgICAgIG1haW5Ub1JlbmRlciA9IG1haW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfdGhpcyQkcmVmczIsIF9vcHRpb25zODAsIF9lbGwkb3B0aW9uczY3LCBfZWxsJG9wdGlvbnM2OCwgX2VsbCRvcHRpb25zNjksIF9vcHRpb25zODEsIF9vcHRpb25zODIsIF9vcHRpb25zODMsIF9vcHRpb25zODQsIF9vcHRpb25zODUsIF9vcHRpb25zODYsIF9vcHRpb25zODcsIF9vcHRpb25zODgsIF9vcHRpb25zODksIF9vcHRpb25zOTAsIF9vcHRpb25zOTEsIF9vcHRpb25zOTIsIF9vcHRpb25zOTMsIF9vcHRpb25zOTQsIF9vcHRpb25zOTUsIF9vcHRpb25zOTYsIF9vcHRpb25zOTcsIF9vcHRpb25zOTgsIF9vcHRpb25zOTksIF9lbDk3OwogICAgICAgICAgLy8gbGV0IG91dHB1dEFycmF5ID0gWydtYWluJ107CgogICAgICAgICAgLy8gdGhpcy52Tm9kZXMubWFpbiA9IG1haW47CgogICAgICAgICAgLy8gaWYgKG9wdGlvbnM/Lm1vZGUgPT0gJ2RldicpCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBfb3B0aW9uczY0LCBfb3B0aW9uczY1LCBfb3B0aW9uczY2LCBfb3B0aW9uczY3LCBfb3B0aW9uczY4LCBfb3B0aW9uczY5LCBfb3B0aW9uczcwLCBfb3B0aW9uczcxLCBfb3B0aW9uczcyLCBfb3B0aW9uczczLCBfb3B0aW9uczc0LCBfb3B0aW9uczc1LCBfb3B0aW9uczc2LCBfb3B0aW9uczc3LCBfb3B0aW9uczc4OwogICAgICAgICAgICBvcHRpb25zLnJhdyA9ICgoX29wdGlvbnM2NCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNjQucmF3KSB8fCB0cnVlOwogICAgICAgICAgICBvcHRpb25zLnJhdzAgPSAoKF9vcHRpb25zNjUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczY1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczY1LnJhdzApIHx8IHRydWU7CiAgICAgICAgICAgIG9wdGlvbnMuY2xvc2UgPSAoKF9vcHRpb25zNjYgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczY2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczY2LmNsb3NlKSB8fCB0cnVlOwogICAgICAgICAgICBvcHRpb25zLmZsb2F0ID0gKChfb3B0aW9uczY3ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM2NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM2Ny5mbG9hdCkgfHwgZmFsc2UsCiAgICAgICAgICAgIC8vIHsgZml4ZWQ6ICF0cnVlLCBkaXNwQnRuOiB0cnVlIH07CiAgICAgICAgICAgIG9wdGlvbnMuZHJhZyA9ICgoX29wdGlvbnM2OCA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNjguZHJhZykgfHwgZmFsc2UsIG9wdGlvbnMuZ0Zsb2F0ID0gKChfb3B0aW9uczY5ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM2OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM2OS5nRmxvYXQpIHx8IGZhbHNlLAogICAgICAgICAgICAvLyB7IGZpeGVkOiAhdHJ1ZSwgZGlzcEJ0bjogdHJ1ZSB9OwogICAgICAgICAgICBvcHRpb25zLndiY1Byb3BzID0gKChfb3B0aW9uczcwID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3MC53YmNQcm9wcykgfHwgdHJ1ZTsKICAgICAgICAgICAgb3B0aW9ucy5pdGVtU3JjID0gKChfb3B0aW9uczcxID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3MS5pdGVtU3JjKSB8fCB0cnVlOwogICAgICAgICAgICBvcHRpb25zLmFsbE9wdGlvbnMgPSAoKF9vcHRpb25zNzIgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczcyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczcyLmFsbE9wdGlvbnMpIHx8IHRydWU7CiAgICAgICAgICAgIG9wdGlvbnMuZ0F0dHJzID0gKChfb3B0aW9uczczID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3My5nQXR0cnMpIHx8IHRydWU7CiAgICAgICAgICAgIG9wdGlvbnMuaEF0dHJzID0gKChfb3B0aW9uczc0ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3NC5oQXR0cnMpIHx8IHRydWU7CiAgICAgICAgICAgIG9wdGlvbnMudlByb3BzID0gKChfb3B0aW9uczc1ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3NS52UHJvcHMpIHx8IHRydWU7CiAgICAgICAgICAgIG9wdGlvbnMuaHRtbFNyYyA9ICgoX29wdGlvbnM3NiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zNzYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zNzYuaHRtbFNyYykgfHwgdHJ1ZTsKICAgICAgICAgICAgb3B0aW9ucy53YmNTcmMgPSAoKF9vcHRpb25zNzcgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczc3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczc3LndiY1NyYykgfHwgdHJ1ZTsKICAgICAgICAgICAgb3B0aW9ucy53YmNTeW4gPSAoKF9vcHRpb25zNzggPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczc4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczc4LndiY1N5bikgfHwgdHJ1ZTsKICAgICAgICAgICAgLy8gb3B0aW9ucy5mb2N1c09uID0gb3B0aW9ucz8uZm9jdXNPbiB8fCBmYWxzZTsKICAgICAgICAgICAgLy8gb3B0aW9ucy5yYXdIdG1sID0gb3B0aW9ucz8ucmF3SHRtbCB8fCB0cnVlOwogICAgICAgICAgICBbInJhd0h0bWwiLCAibWFpbkh0bWwiLCAiZXh0ZXJuYWxIdG1sIiwgImxpbmtIdG1sIiwgImdsb2JhbEh0bWwiLCAibWVudUh0bWwiLCAid3JhcEh0bWwiXQogICAgICAgICAgICAvLyBPYmplY3Qua2V5cyh0aGlzLiRyZWZzKS4KICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB2YXIgX29wdGlvbnM3OTsKICAgICAgICAgICAgICBvcHRpb25zW2VdID0gKChfb3B0aW9uczc5ID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM3OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM3OVtlXSkgfHwgdHJ1ZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIG9wdGlvbnMuYWxsID1vcHRpb25zPy5hbGx8fHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gdGhpcy52Tm9kZXNbJ21haW5IdG1sJ10gPSBoXygnV0JDJywgewogICAgICAgICAgLy8gICBwcm9wczogeyBpdGVtOiB0aGlzLnRvVkNNKGhfLCB0aGlzLiRyZWZzPy5bdGhpcy5yZWZOYW1lXT8ub3V0ZXJIVE1MKSB9CiAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICB0aGlzLnZOb2Rlc1sibWFpbkh0bWwiXSA9IHRoaXMudG9WQ00oaF8sIChfdGhpcyQkcmVmczIgPSB0aGlzLiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmczIgPT09IHZvaWQgMCB8fCAoX3RoaXMkJHJlZnMyID0gX3RoaXMkJHJlZnMyW3RoaXMucmVmTmFtZV0pID09PSBudWxsIHx8IF90aGlzJCRyZWZzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMyLm91dGVySFRNTCk7CiAgICAgICAgICB2YXIgZWxsID0gdGhpcy5jbG9uZShlbCk7CiAgICAgICAgICBpZiAoKChfb3B0aW9uczgwID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnM4MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnM4MC5tb2RlKSAhPSAiZGV2IikgewogICAgICAgICAgICB2YXIgX2VsbCRvcHRpb25zMzQsIF9lbGwkb3B0aW9uczM1LCBfZWxsJG9wdGlvbnMzNiwgX2VsbCRvcHRpb25zMzcsIF9lbGwkb3B0aW9uczM4LCBfZWxsJG9wdGlvbnMzOSwgX2VsbCRvcHRpb25zNDAsIF9lbGwkb3B0aW9uczQxLCBfZWxsJG9wdGlvbnM0MiwgX2VsbCRvcHRpb25zNDMsIF9lbGwkb3B0aW9uczQ0LCBfZWxsJG9wdGlvbnM0NSwgX2VsbCRvcHRpb25zNDYsIF9lbGwkb3B0aW9uczQ3LCBfZWxsJG9wdGlvbnM0OCwgX2VsbCRvcHRpb25zNDksIF9lbGwkb3B0aW9uczUwLCBfZWxsJG9wdGlvbnM1MSwgX2VsbCRvcHRpb25zNTIsIF9lbGwkb3B0aW9uczUzLCBfZWxsJG9wdGlvbnM1NCwgX2VsbCRvcHRpb25zNTUsIF9lbGwkb3B0aW9uczU2LCBfZWxsJG9wdGlvbnM1NywgX2VsbCRvcHRpb25zNTgsIF9lbGwkb3B0aW9uczU5LCBfZWxsJG9wdGlvbnM2MCwgX2VsbCRvcHRpb25zNjEsIF9lbGwkb3B0aW9uczYyLCBfZWxsJG9wdGlvbnM2MywgX2VsbCRvcHRpb25zNjQsIF9lbGwkb3B0aW9uczY1LCBfZWxsJG9wdGlvbnM2NjsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBlbGwub3V0cHV0OwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgZGVsZXRlIGVsbC5hc0NoaWxkOwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczM0ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczM0ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczM0Lml0ZW1TcmM7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMzUgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMzUgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMzUucmF3OwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczM2ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczM2ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczM2LnJhdzA7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMzcgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMzcgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMzcuYWxsT3B0aW9uczsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnMzOCA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnMzOCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnMzOC5nQXR0cnM7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zMzkgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zMzkgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zMzkuaEF0dHJzOwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczQwID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczQwID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczQwLnZQcm9wczsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM0MSA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM0MSA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM0MS5odG1sU3JjOwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczQyID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczQyID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczQyLndiY1NyYzsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM0MyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM0MyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM0My53YmNTeW47CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNDQgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNDQgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNDQud2JjUHJvcHM7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNDUgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNDUgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNDUuZ2xvYmFsSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM0NiA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM0NiA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM0Ni5leHRlcm5hbEh0bWw7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNDcgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNDcgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNDcubGlua0h0bWw7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNDggPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNDggPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNDgucmF3SHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM0OSA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM0OSA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM0OS5tYWluSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM1MCA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM1MCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM1MC5tZW51SHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM1MSA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM1MSA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM1MS53cmFwSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM1MiA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM1MiA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM1Mi5hbGw7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNTMgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNTMgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNTMuY2xvc2U7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNTQgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNTQgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNTQuY2xvc2VDb250ZW50OwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczU1ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczU1ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczU1LmZsb2F0OwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczU2ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczU2ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczU2LmZsb2F0Q29udGVudDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM1NyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM1NyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM1Ny5kcmFnOwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczU4ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczU4ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczU4LmRyYWdDb250ZW50OwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczU5ID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczU5ID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczU5LmZvY3VzT25PcHRpb25zOwogICAgICAgICAgICBlbGwgPT09IG51bGwgfHwgZWxsID09PSB2b2lkIDAgfHwgKF9lbGwkb3B0aW9uczYwID0gZWxsLm9wdGlvbnMpID09PSBudWxsIHx8IF9lbGwkb3B0aW9uczYwID09PSB2b2lkIDAgfHwgZGVsZXRlIF9lbGwkb3B0aW9uczYwLmV4dGVybmFsSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2MSA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2MSA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2MS5nbG9iYWw7CiAgICAgICAgICAgIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNjIgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNjIgPT09IHZvaWQgMCB8fCBkZWxldGUgX2VsbCRvcHRpb25zNjIuaXNWYWxpZDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2MyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2MyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2My5saW5rSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2NCA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2NCA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2NC5tYWluSHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2NSA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2NSA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2NS5tZW51SHRtbDsKICAgICAgICAgICAgZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2NiA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2NiA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfZWxsJG9wdGlvbnM2Ni5tb2RlOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy52Tm9kZXNbIm1haW5EYXRhIl0gPSBoXygiSnNvblZpZXdlciIsIHsKICAgICAgICAgICAgdGl0bGU6IGVsbCwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB2YWx1ZTogZWxsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy52Tm9kZXNbIm1haW5EYXRhXyJdID0gaF8oIldCRGF0YVZpZXdlciIsIHsKICAgICAgICAgICAgdGl0bGU6IGVsbCwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB2YWx1ZTogZWxsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy52Tm9kZXNbImh0bWxEYXRhIl0gPSBoXygiSnNvblZpZXdlciIsIHsKICAgICAgICAgICAgdGl0bGU6IGVsbCwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB2YWx1ZTogZWxsID09PSBudWxsIHx8IGVsbCA9PT0gdm9pZCAwIHx8IChfZWxsJG9wdGlvbnM2NyA9IGVsbC5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZWxsJG9wdGlvbnM2NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VsbCRvcHRpb25zNjcuaHRtbAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudk5vZGVzWyJodG1sRGF0YV8iXSA9IGhfKCJXQkRhdGFWaWV3ZXIiLCB7CiAgICAgICAgICAgIHRpdGxlOiBlbGwsCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgdmFsdWU6IGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNjggPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbGwkb3B0aW9uczY4Lmh0bWwKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnZOb2Rlc1sibWFpbkNvZGUiXSA9IHRoaXMudG9WQ00oaF8sIGVsbCk7CiAgICAgICAgICB0aGlzLnZOb2Rlc1siaHRtbENvZGUiXSA9IHRoaXMudG9WQ00oaF8sIGVsbCA9PT0gbnVsbCB8fCBlbGwgPT09IHZvaWQgMCB8fCAoX2VsbCRvcHRpb25zNjkgPSBlbGwub3B0aW9ucykgPT09IG51bGwgfHwgX2VsbCRvcHRpb25zNjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbGwkb3B0aW9uczY5Lmh0bWwpOwogICAgICAgICAgWyJyYXdIdG1sIiwgImV4dGVybmFsSHRtbCIsICJsaW5rSHRtbCIsICJnbG9iYWxIdG1sIiwgIm1lbnVIdG1sIiwgIndyYXBIdG1sIl0KICAgICAgICAgIC8vIE9iamVjdC5rZXlzKHRoaXMuJHJlZnMpCiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZSA9PSAibWFpbkh0bWwiKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC52Tm9kZXNbZV0gPSBoXygiV0JDIiwgewogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24gaXRlbShoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMTQkJHJlZnM7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQudG9WQ00oaCwgKF90aGlzMTQkJHJlZnMgPSBfdGhpczE0LiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpczE0JCRyZWZzID09PSB2b2lkIDAgfHwgKF90aGlzMTQkJHJlZnMgPSBfdGhpczE0JCRyZWZzW190aGlzMTQucmVmTmFtZV0pID09PSBudWxsIHx8IF90aGlzMTQkJHJlZnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMTQkJHJlZnMub3V0ZXJIVE1MKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGUgPT0gInJhd0h0bWwiKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC52Tm9kZXNbZV0gPSBoXygiV0JDIiwgewogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24gaXRlbShoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMTQkJHJlZnMyOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LnRvVkNNKGgsIChfdGhpczE0JCRyZWZzMiA9IF90aGlzMTQuJHJlZnMpID09PSBudWxsIHx8IF90aGlzMTQkJHJlZnMyID09PSB2b2lkIDAgfHwgKF90aGlzMTQkJHJlZnMyID0gX3RoaXMxNCQkcmVmczJbInJhd0h0bWwiXSkgPT09IG51bGwgfHwgX3RoaXMxNCQkcmVmczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMTQkJHJlZnMyLm91dGVySFRNTCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczE0LnZOb2Rlc1tlXSA9IGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMxNCQkcmVmczM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC50b1ZDTShoLCAoX3RoaXMxNCQkcmVmczMgPSBfdGhpczE0LiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpczE0JCRyZWZzMyA9PT0gdm9pZCAwIHx8IChfdGhpczE0JCRyZWZzMyA9IF90aGlzMTQkJHJlZnMzW2VdKSA9PT0gbnVsbCB8fCBfdGhpczE0JCRyZWZzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMxNCQkcmVmczMub3V0ZXJIVE1MKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIC8vIHRoaXMudk5vZGVzW2VdID0gaF8oJ1dCQycsIHsKICAgICAgICAgICAgICAvLyAgIHByb3BzOiB7IGl0ZW06IGggPT4gdGhpcy50b1ZDTShoLCB0aGlzLiRyZWZzPy5bdGhpcy5yZWZOYW1lXT8ub3V0ZXJIVE1MKSB9CiAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoZ2xvYmFsSGVhZGVyVk4pIHsKICAgICAgICAgICAgdGhpcy52Tm9kZXMuaGVhZGVyID0gZ2xvYmFsSGVhZGVyVk47CiAgICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2hlYWRlcicpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGdsb2JhbEZvb3RlclZOKSB7CiAgICAgICAgICAgIHRoaXMudk5vZGVzLmZvb3RlciA9IGdsb2JhbEZvb3RlclZOOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdmb290ZXInKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpbnNpZGVIZWFkZXJzVk4pIHsKICAgICAgICAgICAgdGhpcy52Tm9kZXMuaGVhZGVycyA9IGluc2lkZUhlYWRlcnNWTjsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnaGVhZGVycycpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGluc2lkZUZvb3RlcnNWTikgewogICAgICAgICAgICB0aGlzLnZOb2Rlcy5mb290ZXJzID0gaW5zaWRlRm9vdGVyc1ZOOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdmb290ZXJzJyk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBpZiAoaEhlYWRlcikgewogICAgICAgICAgLy8gCXRoaXMudk5vZGVzLmhIZWFkZXIgPSBoSGVhZGVyCiAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdoSGVhZGVyJykKICAgICAgICAgIC8vIH0KICAgICAgICAgIC8vIGlmIChoRm9vdGVyKSB7CiAgICAgICAgICAvLyAJdGhpcy52Tm9kZXMuaEZvb3RlciA9IGhGb290ZXIKICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2hGb290ZXInKQogICAgICAgICAgLy8gfQoKICAgICAgICAgIGlmIChleHRDaGlsZHJlbikgewogICAgICAgICAgICB0aGlzLnZOb2Rlcy5leHRDaGlsZHJlbiA9IGV4dENoaWxkcmVuOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdleHRDaGlsZHJlbicpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczgxID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM4MSAhPT0gdm9pZCAwICYmIF9vcHRpb25zODEucmF3MCkgewogICAgICAgICAgICB0aGlzLnZOb2Rlcy5yYXcwID0gcmF3MDsKICAgICAgICAgICAgLy8gdGhpcy52Tm9kZXMucmF3MEh0bWwgPSBoID0+IGgoJ1ZDTScsIHsgcHJvcHM6IHsgdmFsdWU6IHRoaXMuJHJlZnM/LnJhdzBIdG1sPy5vdXRlckhUTUwgfSB9KQogICAgICAgICAgICAvLyB0aGlzLnZOb2Rlcy5yYXcwSHRtbCA9IGggPT4gdGhpcy50b1ZDTShoLCB0aGlzLiRyZWZzPy5yYXcwSHRtbD8ub3V0ZXJIVE1MKQoKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgncmF3MCcpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczgyID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM4MiAhPT0gdm9pZCAwICYmIF9vcHRpb25zODIucmF3KSB7CiAgICAgICAgICAgIHRoaXMudk5vZGVzLnJhdyA9IHJhdzsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgncmF3Jyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoKF9vcHRpb25zODMgPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczgzICE9PSB2b2lkIDAgJiYgX29wdGlvbnM4My5jbG9zZSkgewogICAgICAgICAgICAvLyB0aGlzLnZOb2Rlcy5jbG9zZSA9IGNsb3NlOwogICAgICAgICAgICB0aGlzLnZOb2Rlcy5jbG9zZSA9IHRoaXMuY2xvc2UoZWwsIGhfKTsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnY2xvc2UnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgoX29wdGlvbnM4NCA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zODQgIT09IHZvaWQgMCAmJiBfb3B0aW9uczg0LmZsb2F0IHx8IHR5cGVvZiAoKF9vcHRpb25zODUgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczg1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczg1LmZsb2F0KSA9PT0gImJvb2xlYW4iKSB7CiAgICAgICAgICAgIC8vIGxldCBmbG9hdCA9IHRoaXMuY2xvc2UuZmxvYXQoZWwsaF8pOwogICAgICAgICAgICB0aGlzLnZOb2Rlcy5mbG9hdCA9IHRoaXMuZmxvYXQoZWwsIGhfKTsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnZmxvYXQnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgoX29wdGlvbnM4NiA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zODYgIT09IHZvaWQgMCAmJiBfb3B0aW9uczg2LmRyYWcgfHwgdHlwZW9mICgoX29wdGlvbnM4NyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zODcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zODcuZHJhZykgPT09ICJib29sZWFuIikgewogICAgICAgICAgICAvLyBsZXQgZmxvYXQgPSB0aGlzLmNsb3NlLmZsb2F0KGVsLGhfKTsKICAgICAgICAgICAgdGhpcy52Tm9kZXMuZHJhZyA9IHRoaXMuZHJhZyhlbCwgaF8pOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdmbG9hdCcpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczg4ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM4OCAhPT0gdm9pZCAwICYmIF9vcHRpb25zODguZ0Zsb2F0IHx8IHR5cGVvZiAoKF9vcHRpb25zODkgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfb3B0aW9uczg5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczg5LmdGbG9hdCkgPT09ICJib29sZWFuIikgewogICAgICAgICAgICB2YXIgZ0Zsb2F0ID0gdGhpcy5nRmxvYXQoZWwsIGhfKTsKICAgICAgICAgICAgdGhpcy52Tm9kZXMuZ0Zsb2F0ID0gZ0Zsb2F0OwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdmbG9hdCcpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczkwID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5MCAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTAud2JjUHJvcHMpIHsKICAgICAgICAgICAgdmFyIHdiY1Byb3BzID0gdGhpcy53YmNQcm9wcyhlbCwgaF8pOwogICAgICAgICAgICB0aGlzLnZOb2Rlcy53YmNQcm9wcyA9IHdiY1Byb3BzOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCd3YmNQcm9wcycpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczkxID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5MSAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTEuZ0F0dHJzKSB7CiAgICAgICAgICAgIHZhciBnQXR0cnMgPSB0aGlzLmdBdHRycyhlbCwgaF8pOwogICAgICAgICAgICB0aGlzLnZOb2Rlcy5nQXR0cnMgPSBnQXR0cnM7CiAgICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2dBdHRycycpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczkyID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5MiAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTIuYWxsT3B0aW9ucykgewogICAgICAgICAgICB2YXIgYWxsT3B0aW9ucyA9IHRoaXMuYWxsT3B0aW9ucyhlbCwgaF8pOwogICAgICAgICAgICB0aGlzLnZOb2Rlcy5hbGxPcHRpb25zID0gYWxsT3B0aW9uczsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnYWxsT3B0aW9ucycpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczkzID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5MyAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTMuaXRlbVNyYykgewogICAgICAgICAgICB2YXIgaXRlbVNyYyA9IHRoaXMuaXRlbVNyYyhlbCwgZWwsIGhfKTsKICAgICAgICAgICAgdGhpcy52Tm9kZXMuaXRlbVNyYyA9IGl0ZW1TcmM7CiAgICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2l0ZW1TcmMnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgoX29wdGlvbnM5NCA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zOTQgIT09IHZvaWQgMCAmJiBfb3B0aW9uczk0LmhBdHRycykgewogICAgICAgICAgICB2YXIgaEF0dHJzID0gdGhpcy5oQXR0cnMoZWwsIGhfKTsKICAgICAgICAgICAgaWYgKGhBdHRycykgdGhpcy52Tm9kZXMuaEF0dHJzID0gaEF0dHJzOwogICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCdoQXR0cnMnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICgoX29wdGlvbnM5NSA9IG9wdGlvbnMpICE9PSBudWxsICYmIF9vcHRpb25zOTUgIT09IHZvaWQgMCAmJiBfb3B0aW9uczk1LnZQcm9wcykgewogICAgICAgICAgICB2YXIgdlByb3BzID0gdGhpcy52UHJvcHMoZWwsIGhfKTsKICAgICAgICAgICAgaWYgKHZQcm9wcykgewogICAgICAgICAgICAgIHRoaXMudk5vZGVzLnZQcm9wcyA9IHZQcm9wczsKICAgICAgICAgICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCd2UHJvcHMnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczk2ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5NiAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTYuaHRtbFNyYykgewogICAgICAgICAgICB2YXIgaHRtbFNyYyA9IHRoaXMuaHRtbFNyYyhlbCwgaF8pOwogICAgICAgICAgICBpZiAoaHRtbFNyYykgewogICAgICAgICAgICAgIHRoaXMudk5vZGVzLmh0bWxTcmMgPSBodG1sU3JjOwogICAgICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2h0bWxTcmMnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKChfb3B0aW9uczk3ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5NyAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTcud2JjU3JjKSB7CiAgICAgICAgICAgIHZhciB3YmNTcmMgPSB0aGlzLndiY1NyYyhlbCwgaF8pOwogICAgICAgICAgICBpZiAod2JjU3JjKSB7CiAgICAgICAgICAgICAgdGhpcy52Tm9kZXMud2JjU3JjID0gd2JjU3JjOwogICAgICAgICAgICAgIC8vIG91dHB1dEFycmF5LnB1c2goJ3diY1NyYycpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoKF9vcHRpb25zOTggPSBvcHRpb25zKSAhPT0gbnVsbCAmJiBfb3B0aW9uczk4ICE9PSB2b2lkIDAgJiYgX29wdGlvbnM5OC53YmNTeW4pIHsKICAgICAgICAgICAgdmFyIHdiY1N5biA9IHRoaXMud2JjU3luKGVsLCBoXyk7CiAgICAgICAgICAgIHRoaXMudk5vZGVzLndiY1N5biA9IHdiY1N5bjsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnd2JjU3luJyk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBpZiAob3B0aW9ucz8uZm9jdXNPbikgewogICAgICAgICAgLy8gICBsZXQgZm9jdXNPbiA9IHRoaXMuZm9jdXNPbihlbCwgaF8sbWFpblRvUmVuZGVyKTsKICAgICAgICAgIC8vICAgdGhpcy52Tm9kZXMuZm9jdXNPbiA9IGZvY3VzT247CiAgICAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2ZvY3VzT24nKTsKICAgICAgICAgIC8vIH0KCiAgICAgICAgICB2YXIgYWxsOwogICAgICAgICAgaWYgKChfb3B0aW9uczk5ID0gb3B0aW9ucykgIT09IG51bGwgJiYgX29wdGlvbnM5OSAhPT0gdm9pZCAwICYmIF9vcHRpb25zOTkuYWxsKSB7CiAgICAgICAgICAgIHZhciBfZWw5NjsKICAgICAgICAgICAgdmFyIGFsbE9iaiA9IFtdOwogICAgICAgICAgICBhbGxPYmogPSBPYmplY3Qua2V5cyh0aGlzLnZOb2RlcykubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgdmFyIF90aGlzMTQkdk5vZGVzOwogICAgICAgICAgICAgIGlmICgoX3RoaXMxNCR2Tm9kZXMgPSBfdGhpczE0LnZOb2RlcykgIT09IG51bGwgJiYgX3RoaXMxNCR2Tm9kZXMgIT09IHZvaWQgMCAmJiBfdGhpczE0JHZOb2Rlc1tlXSAmJiBlICE9ICJhbGwiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaF8oIlZDYXJkIiwgewogICAgICAgICAgICAgICAgICBjbGFzczogIiAgcGEtMTAgbWEtMiAgIiwKICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICIxcHggc29saWQgYmxhY2sgIgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBbaF8oImg0IiwgewogICAgICAgICAgICAgICAgICBjbGFzczogIiBtYS01IHRleHQtcmlnaHQiCiAgICAgICAgICAgICAgICB9LCBbZV0pLCBlLmVuZHNXaXRoKCJIdG1sIikgPyBoXygiV0JDIiwgewogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIGl0ZW06IF90aGlzMTQudk5vZGVzW2VdCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pIDogX3RoaXMxNC52Tm9kZXNbZV0KICAgICAgICAgICAgICAgIC8vIGhfKAogICAgICAgICAgICAgICAgLy8gICAnZGl2JywKICAgICAgICAgICAgICAgIC8vICAge30sCiAgICAgICAgICAgICAgICAvLyAgIEFycmF5LmlzQXJyYXkodGhpcy52Tm9kZXNbZV0pCiAgICAgICAgICAgICAgICAvLyAgICAgPyB0aGlzLnZOb2Rlc1tlXQogICAgICAgICAgICAgICAgLy8gICAgIDogW3RoaXMudk5vZGVzW2VdXQogICAgICAgICAgICAgICAgLy8gKSwKICAgICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGFsbCA9IGhfKCJWQ2FyZCIsIHsKICAgICAgICAgICAgICBjbGFzczogIiBtYS0xNSBwYS0xNSIsCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIGJvcmRlcjogIjEwcHggZGFzaGVkIGJsYWNrIiwKICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogIiIuY29uY2F0KHRoaXMuckNvbG9yKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgW2hfKCJoMiIsIHsKICAgICAgICAgICAgICBjbGFzczogInRleHQtY2VudGVyIgogICAgICAgICAgICB9LCBbIiIuY29uY2F0KCgoX2VsOTYgPSBlbCkgPT09IG51bGwgfHwgX2VsOTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDk2Lm5hbWUpIHx8ICIiLCAiIENvbXBvbmVudCBQcm9wZXJ0aWVzIildKSwgYWxsT2JqXSk7CiAgICAgICAgICAgIHRoaXMudk5vZGVzLmFsbCA9IGFsbDsKICAgICAgICAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnYWxsJyk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gaWYgKG9wdGlvbnM/Lm1vZGUgPT0gJ2RldicpIHsKICAgICAgICAgIC8vICAgb3V0cHV0QXJyYXkgPSBbJ2FsbCddOwogICAgICAgICAgLy8gfQogICAgICAgICAgLy8gZWxzZSBpZiAoZWw/Lm91dHB1dCA9PSAnYWxsJykgewoKICAgICAgICAgIC8vIAlhbGVydCgzMzMrZWw/Lm91dHB1dCkKICAgICAgICAgIC8vIAlvdXRwdXRBcnJheSA9IE9iamVjdC5rZXlzKHZOb2RlcykgfQogICAgICAgICAgLy8gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbD8ub3V0cHV0KSkgeyBvdXRwdXRBcnJheSA9IGVsPy5vdXRwdXQgfQoKICAgICAgICAgIC8vIHJldHVybiBtYWluVG9SZW5kZXIKCiAgICAgICAgICAvLyBsZXQgdGhlT3V0cHV0ID0gdGhpcy5jbG9uZShlbD8ub3V0cHV0IHx8IHt9KQoKICAgICAgICAgIGlmICgoX2VsOTcgPSBlbCkgIT09IG51bGwgJiYgX2VsOTcgIT09IHZvaWQgMCAmJiBfZWw5Ny5vdXRwdXQpIHsKICAgICAgICAgICAgdmFyIF9lbDk4LCBfZWw5OTsKICAgICAgICAgICAgdmFyIHRoZU91dHB1dCA9ICgoX2VsOTggPSBlbCkgPT09IG51bGwgfHwgX2VsOTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDk4Lm91dHB1dCkgfHwge307CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGVPdXRwdXQwMDAwMCA6Pj4gJywgdGhlT3V0cHV0KTsKICAgICAgICAgICAgLy8gbGV0IHRoZU91dHB1dCA9IGVsPy5vdXRwdXQgfHwge30KCiAgICAgICAgICAgIHZhciBvdXRwdXRXQkNPYmo7CiAgICAgICAgICAgIHZhciBvYmo7CgogICAgICAgICAgICAvLyBpZiAodHlwZW9mIHRoZU91dHB1dCA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIC8vICAgLy8gdGhpcy52Tm9kZXM9dk5vZGVzCgogICAgICAgICAgICAvLyAgIG9iaiA9IGVsLm91dHB1dChoXywgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSk7ZWw/Lm91dHB1dAogICAgICAgICAgICAvLyAgIC8vIGFsZXJ0KDExMTExMSkKCiAgICAgICAgICAgIC8vICAgLy8gbWFpblRvUmVuZGVyID0gdGhpcy50b1dCQ18oZWwub3V0cHV0KGhfLCB0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KSwgaF8pOwogICAgICAgICAgICAvLyAgIC8vIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IGVsLm91dHB1dChoXywgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSkgfX0pOwogICAgICAgICAgICAvLyAgIC8vIG1haW5Ub1JlbmRlciA9IGVsLm91dHB1dChoXywgdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSkKICAgICAgICAgICAgLy8gICAvLyByZXR1cm4gbWFpblRvUmVuZGVyCiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gZWxzZQoKICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbiBmKHZhbCkgewogICAgICAgICAgICAgIHZhciBfdGhpczE0JHZOb2RlczI7CiAgICAgICAgICAgICAgcmV0dXJuICgoX3RoaXMxNCR2Tm9kZXMyID0gX3RoaXMxNC52Tm9kZXMpID09PSBudWxsIHx8IF90aGlzMTQkdk5vZGVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMxNCR2Tm9kZXMyWyIiLmNvbmNhdCh2YWwpXSkgfHwgdmFsOwogICAgICAgICAgICB9OwogICAgICAgICAgICBvYmogPSB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpOwogICAgICAgICAgICBvdXRwdXRXQkNPYmogPSB7CiAgICAgICAgICAgICAgY29tcDogInNwYW4iLAogICAgICAgICAgICAgIC8vIGRpdmU6dHJ1ZSwKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICByZWY6ICJyZWZlcmVuY2UiLAogICAgICAgICAgICAgICAgY2xhc3M6ICJ5ZWxsb3ciLAogICAgICAgICAgICAgICAga2V5OiAib3V0cHV0LW9iaiIuY29uY2F0KHRoaXMuY29tcHV0ZWRLZXkoKF9lbDk5ID0gZWwpID09PSBudWxsIHx8IF9lbDk5ID09PSB2b2lkIDAgfHwgKF9lbDk5ID0gX2VsOTkub3B0aW9ucykgPT09IG51bGwgfHwgX2VsOTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lbDk5LmtleSksICItIikuY29uY2F0KGVsLmxlbmd0aCksCiAgICAgICAgICAgICAgICBodG1sOiBvYmogLy90aGF0LmRhdGEub3BvdGlvbnMuaHRtbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgd2F0Y2g6IFtbZnVuY3Rpb24gKHRoYXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LmRhdGEub3B0aW9ucy5odG1sOwogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0aGF0LCBuZXdWYWwsIG9sZFZhbCkgewogICAgICAgICAgICAgICAgLy8gYWxlcnQoImNoYW5nZWQiKTsKICAgICAgICAgICAgICAgIHRoYXQuZGF0YS5vcHRpb25zLmNsYXNzID0gImdyZWVuIjsKICAgICAgICAgICAgICAgIHRoYXQuZGF0YS5vcHRpb25zLmtleSArPSAxOwogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZXA6IHRydWUKICAgICAgICAgICAgICB9XV0sCiAgICAgICAgICAgICAgdHJhY2tlcjogZnVuY3Rpb24gdHJhY2tlcih0aGF0KSB7CiAgICAgICAgICAgICAgICAvLyB0aGF0LmRhdGEub3B0aW9ucy5odG1sID0gW3RoaXMudk5vZGVzWyJtYWluIl0sIFsnPFZDYXJkfHllbGxvdyBwYS0xNT4nLCB0aGlzLnZOb2Rlc1sibWFpbiJdLCB0aGlzLnZOb2Rlc1snbWFpbkh0bWwnXSwgdGhpcy52Tm9kZXNbJ3diY1Byb3BzJ11dXQogICAgICAgICAgICAgICAgdGhhdC5kYXRhLm9wdGlvbnMuaHRtbCA9IG9iajsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG1haW5Ub1JlbmRlciA9IGhfKCJXQkMiLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIGl0ZW06IG91dHB1dFdCQ09iagogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICgoKF9vcHRpb25zMTAwID0gb3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMxMDAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zMTAwLmdDbG9zZSkgPT09IG51bGwpIHsKICAgICAgICAgIG1haW5Ub1JlbmRlciA9IG51bGw7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKChfb3B0aW9uczEwMSA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTAxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczEwMS5nQ2xvc2UpID09ICJib29sZWFuIiB8fCB0eXBlb2YgKChfb3B0aW9uczEwMiA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTAyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczEwMi5nRmxvYXQpID09ICJib29sZWFuIiB8fCB0eXBlb2YgKChfb3B0aW9uczEwMyA9IG9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zMTAzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9uczEwMy5nKSA9PSAiYm9vbGVhbiIpIHsKICAgICAgICAgIC8vICB0aGlzLnZOb2Rlcy5mb2N1c09uID0gdGhpcy5mb2N1c09uKGVsLCBoXywgbWFpbik7CiAgICAgICAgICBtYWluVG9SZW5kZXIgPSB0aGlzLmdsb2JhbEZvY3VzT24oZWwsIGhfLCBtYWluVG9SZW5kZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWFpblRvUmVuZGVyOwogICAgICAgIC8vIHJldHVybiBoXygnZGl2Jywgey4uLihzZWxlY3RJdGVtT3B0aW9uc3x8e30pLG9uOiB7ICdtb3VzZWRvd24nOiB0aGlzLmhhbmRsZU1vdXNlRG93biwgbW91c2V1cDogdGhpcy5oYW5kbGVNb3VzZVVwIH0gfSwgW21haW5Ub1JlbmRlcl0pCiAgICAgIH0sCiAgICAgIHN0clRvQ29tcHM6IGZ1bmN0aW9uIHN0clRvQ29tcHMoc3RyKSB7CiAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICJzdHJpbmciKSB7CiAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgICB2YXIgY3VycmVudExldmVsID0gcmVzdWx0OwogICAgICAgICAgdmFyIGN1cnJlbnRTdHIgPSAiIjsKICAgICAgICAgIHZhciBicmFja2V0Q291bnQgPSAwOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGNoYXIgPSBzdHJbaV07CiAgICAgICAgICAgIGlmIChjaGFyID09PSAifCIgJiYgYnJhY2tldENvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdHIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY3VycmVudExldmVsLnB1c2goY3VycmVudFN0cik7CiAgICAgICAgICAgICAgICBjdXJyZW50U3RyID0gIiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGN1cnJlbnRMZXZlbC5wdXNoKFtdKTsKICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBjdXJyZW50TGV2ZWxbY3VycmVudExldmVsLmxlbmd0aCAtIDFdOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICIrIiAmJiBicmFja2V0Q291bnQgPT09IDApIHsKICAgICAgICAgICAgICBpZiAoY3VycmVudFN0ci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwucHVzaChjdXJyZW50U3RyKTsKICAgICAgICAgICAgICAgIGN1cnJlbnRTdHIgPSAiIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gIigiKSB7CiAgICAgICAgICAgICAgYnJhY2tldENvdW50Kys7CiAgICAgICAgICAgICAgY3VycmVudFN0ciArPSBjaGFyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICIpIikgewogICAgICAgICAgICAgIGJyYWNrZXRDb3VudC0tOwogICAgICAgICAgICAgIGN1cnJlbnRTdHIgKz0gY2hhcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjdXJyZW50U3RyICs9IGNoYXI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChjdXJyZW50U3RyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgY3VycmVudExldmVsLnB1c2goY3VycmVudFN0cik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXBkYXRlSW5wdXRWYWx1ZTogZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZShldmVudCkgewogICAgICAgIC8vIGFsZXJ0KCdjaGFuZ2VkJykKCiAgICAgICAgLy8gLy9jb25zb2xlLmxvZyg4ODg4ODg4ODg4ODg4ODg4ODg4OCxldmVudCkKCiAgICAgICAgaWYgKF90eXBlb2YoZXZlbnQpID09ICJvYmplY3QiICYmIGV2ZW50ICE9PSBudWxsICYmIGV2ZW50ICE9PSB2b2lkIDAgJiYgZXZlbnQudGFyZ2V0KSB7CiAgICAgICAgICB2YXIgX2V2ZW50JHRhcmdldCwgX2V2ZW50JHRhcmdldDMsIF9ldmVudCR0YXJnZXQ0OwogICAgICAgICAgLy8gYWxlcnQoJ2NoYW5nZWQwJykKICAgICAgICAgIGlmICgoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCB8fCAoX2V2ZW50JHRhcmdldCA9IGV2ZW50LnRhcmdldCkgPT09IG51bGwgfHwgX2V2ZW50JHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHRhcmdldC50eXBlKSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICAgIHZhciBfZXZlbnQkdGFyZ2V0MjsKICAgICAgICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zWyd2YWwnXSA9IGV2ZW50Py50YXJnZXQ/LmNoZWNrZWQgfHwgZmFsc2U7CiAgICAgICAgICAgIHRoaXMuaXRlbV8ub3B0aW9ucy5hdHRyc1siY2hlY2tlZCJdID0gKGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgfHwgKF9ldmVudCR0YXJnZXQyID0gZXZlbnQudGFyZ2V0KSA9PT0gbnVsbCB8fCBfZXZlbnQkdGFyZ2V0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHRhcmdldDIuY2hlY2tlZCkgfHwgZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBlbHNlIHsKICAgICAgICAgIC8vIAkvLyB0aGlzLml0ZW1fLm9wdGlvbnNbJ3ZhbCddID0odHlwZW9mIHRoaXMuaXRlbS5vcHRpb25zWyd2YWwnXT09J2Jvb2xlYW4nKT8gIXRoaXMuaXRlbS5vcHRpb25zWyd2YWwnXTpldmVudDsKICAgICAgICAgIC8vIAlpZiAoZXZlbnQ/LnRhcmdldD8udmFsdWUpIHsgdGhpcy5pdGVtXy5vcHRpb25zWyd2YWwnXSA9IGV2ZW50LnRhcmdldC52YWx1ZTsgfQogICAgICAgICAgLy8gCS8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9KHR5cGVvZiB0aGlzLml0ZW0ub3B0aW9uc1sndmFsJ109PSdib29sZWFuJyk/ICF0aGlzLml0ZW0ub3B0aW9uc1sndmFsdWUnXTpldmVudDsKICAgICAgICAgIC8vIAllbHNlIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9IGV2ZW50OwogICAgICAgICAgLy8gfQogICAgICAgICAgdGhpcy5pdGVtXy5vcHRpb25zWyJ2YWwiXSA9IChldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwIHx8IChfZXZlbnQkdGFyZ2V0MyA9IGV2ZW50LnRhcmdldCkgPT09IG51bGwgfHwgX2V2ZW50JHRhcmdldDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR0YXJnZXQzLnZhbHVlKSB8fCAoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCB8fCAoX2V2ZW50JHRhcmdldDQgPSBldmVudC50YXJnZXQpID09PSBudWxsIHx8IF9ldmVudCR0YXJnZXQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnQkdGFyZ2V0NC5jaGVja2VkKSB8fCBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIF90aGlzJGl0ZW1fNzsKICAgICAgICAgIGlmICgodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW1fNyA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV83LmNvbXApID09ICJWQ2hlY2tib3giKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyRpdGVtXzg7CiAgICAgICAgICAgIC8vIGFsZXJ0KCdjaGVja2VkJykKICAgICAgICAgICAgLy8gYWxlcnQodikKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coMjIyMjIyMjIyMjIyMjIyMjIsIGV2ZW50KQoKICAgICAgICAgICAgLy8gaWYgKHRoaXM/Lml0ZW1fPy5vcHRpb25zPy5wcm9wcyl7CiAgICAgICAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9ICF0aGlzLml0ZW1fLm9wdGlvbnMucHJvcHNbJ3ZhbHVlJ107CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5yYXdIdG1sLmxhenlWYWx1ZSA9ICF0aGlzLiRyZWZzLnJhd0h0bWwubGF6eVZhbHVlOwogICAgICAgICAgICB0aGlzLml0ZW1fLm9wdGlvbnNbInZhbCJdID0gISh0aGlzICE9PSBudWxsICYmIHRoaXMgIT09IHZvaWQgMCAmJiAoX3RoaXMkaXRlbV84ID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV84ICE9PSB2b2lkIDAgJiYgKF90aGlzJGl0ZW1fOCA9IF90aGlzJGl0ZW1fOC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzggIT09IHZvaWQgMCAmJiBfdGhpcyRpdGVtXzhbInZhbCJdKSB8fCBmYWxzZTsKCiAgICAgICAgICAgIC8vIGFsZXJ0KHRoaXMuaXRlbV8ub3B0aW9uc1sndmFsJ10rOTk5OTk5KQogICAgICAgICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMuYXR0cnNbJ2NoZWNrZWQnXSA9IGV2ZW50Py50YXJnZXQ/LmNoZWNrZWQgfHwgZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBhbGVydChldmVudCArICdjaGFuZ2VkMScpCgogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd6enp6enp6enp6enp6enp6enp6Jyx0aGlzLiRyZWZzLnJhd0h0bWwpCiAgICAgICAgICAgIHRoaXMuaXRlbV8ub3B0aW9uc1sidmFsIl0gPSBldmVudCB8fCAiIjsKICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy5yYXdIdG1sLmxhenlWYWx1ZSA9IGV2ZW50IHx8ICcnOwogICAgICAgICAgICAvLyBpZiAodGhpcz8uaXRlbV8/Lm9wdGlvbnM/LnByb3BzKSB7CiAgICAgICAgICAgIC8vIAl0aGlzLml0ZW1fLm9wdGlvbnMucHJvcHNbJ3ZhbHVlJ10gPSBldmVudCB8fCAnJzsKCiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zLmlzVmFsaWQgPSB0aGlzLiRyZWZzLnJhd0h0bWwudmFsaWQ7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gdGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnJ1bGVzPVt0aGlzLml0ZW1fLm9wdGlvbnMucHJvcHMucnVsZXNbMF0odGhpcy5pdGVtQWNjZXNzZWJpbGl0eSxldmVudCldCiAgICAgICAgICAvLyBydWxlcy5wdXNoKGUodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSx0aGlzLmxhbmcpKQoKICAgICAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9uc1sndmFsJ10gPSh0eXBlb2YgdGhpcy5pdGVtLm9wdGlvbnNbJ3ZhbCddPT0nYm9vbGVhbicpPyAhdGhpcy5pdGVtLm9wdGlvbnNbJ3ZhbCddOmV2ZW50fHxmYWxzZTsKICAgICAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9KHR5cGVvZiB0aGlzLml0ZW0ub3B0aW9uc1sndmFsJ109PSdib29sZWFuJyk/ICF0aGlzLml0ZW0ub3B0aW9uc1sndmFsdWUnXTpldmVudHx8ZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyB1cGRhdGVPYmplY3RQYXJzZUl0KHZhbCwgZWwgKSB7CiAgICAgIC8vIAlsZXQgdGhlSXRlbVRvRXZhbDsKICAgICAgLy8gCXRyeSB7CiAgICAgIC8vIAkJLy8gdGhlSXRlbVRvRXZhbCA9IHN0clRvT2JqKHZhbCk7CiAgICAgIC8vIAkJZWwgPSBzdHJUb09iaih2YWwpOwogICAgICAvLyAJfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgLy8gCQlhbGVydCgnIicgKyB2YWwgKyAnIiBjYW4gbm90IGJlIHBhcnNlZDogJyArIGVycm9yKTsKICAgICAgLy8gCQkvLyB0aGlzLm1haW5JdGVtVGV4dEFyZWEucnVsZXMgPSBbCiAgICAgIC8vIAkJCS8vIGAiJHt2YWx9IiBjYW4gbm90IGJlIHBhcnNlZDogJHtlcnJvcn1gLAogICAgICAvLyAJCS8vIF07CiAgICAgIC8vIAl9CiAgICAgIC8vIAkvLyByZXR1cm4gdGhlSXRlbVRvRXZhbAogICAgICAvLyB9LAogICAgICBnZXRVcmxSZXNwb25zZTogZnVuY3Rpb24gZ2V0VXJsUmVzcG9uc2UoZWwpIHsKICAgICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSwgcmVzcG9uc2U7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZWwgOj4+ICIsIGVsKTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUuJGh0dHAuZ2V0KGVsKTsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQudDApOwogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZURhdGEpOwogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgLy8gQXNzdW1pbmcgJ2ZldGNoRGF0YScgaXMgYW4gYXN5bmMgbWV0aG9kIGluIHlvdXIgVnVlIGluc3RhbmNlCiAgICAgIC8vIGFzeW5jIGZldGNoRGF0YShlbCkgewogICAgICAvLyAJcmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXJsUmVzcG9uc2UoZWwpOwogICAgICAvLyB9CiAgICAgIC8vCiAgICAgIHRvVkNNOiBmdW5jdGlvbiB0b1ZDTShoLCBzcmMpIHsKICAgICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CiAgICAgICAgaWYgKCFzcmMpIHsKICAgICAgICAgIHJldHVybiAiZW1wdHkgY29kZSI7CiAgICAgICAgfQogICAgICAgIHZhciBodG1sQ29kZSA9IHNyYzsKICAgICAgICBodG1sQ29kZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY2xvbmUoc3JjKSk7CiAgICAgICAgaWYgKHR5cGVvZiBzcmMgPT0gInN0cmluZyIpIHsKICAgICAgICAgIHZhciBfc3JjJHJlcGxhY2U7CiAgICAgICAgICBodG1sQ29kZSA9IHNyYyA9PT0gbnVsbCB8fCBzcmMgPT09IHZvaWQgMCB8fCAoX3NyYyRyZXBsYWNlID0gc3JjLnJlcGxhY2UoLzxzcGFuLio/PiguKj8pPFwvc3Bhbj4vZywgIiQxIikgLy8gS2VlcCBpbm5lckhUTUwgb2Ygc3BhbgogICAgICAgICAgLy8gLnJlcGxhY2UoLzxzcGFuLio/Pnw8XC9zcGFuPi9nLCAiIikgLy8gUmVtb3ZlIGFsbCBzcGFuIHRhZ3MKICAgICAgICAgICkgPT09IG51bGwgfHwgX3NyYyRyZXBsYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3JjJHJlcGxhY2UucmVwbGFjZSgvPCEtLS4qPy0tPi9nLCAiIik7CiAgICAgICAgfQogICAgICAgIC8vIGVsc2UgaWYgKHRoaXMuaXNQbGFpbk9iamVjdChzcmMpKXsKICAgICAgICAvLyB9CgogICAgICAgIHJldHVybiBoKCJWQ29udGFpbmVyIiwgewogICAgICAgICAgY2xhc3M6ICJncmV5ICAiLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgcmVzaXplOiAiYm90aCIsCiAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgaGVpZ2h0OiAiMTAwJSIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICAgIGJvcmRlcjogMAogICAgICAgICAgfQogICAgICAgIH0sIFtoKCJhIiwgewogICAgICAgICAgb246IHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIC8vIGFsZXJ0KCJDb250ZW50IGNvcGllZCIpOwogICAgICAgICAgICAgIF90aGlzMTYuY29weVRvQ2xpcGJvYXJkKGh0bWxDb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFsiQ29weSJdKSwgaCgiVkNNIiwgewogICAgICAgICAgLy8gc3R5bGU6IHsgYm9yZGVyOiAnMXB4IHNvbGlkIGJsYWNrJywgcGFkZGluZzogJzVweCcsIGJhY2tncm91bmRDb2xvcjogJ3JlZCcsIGRpc3BsYXk6ICdibG9jaycgfSwKICAgICAgICAgIHRhYlNpemU6IDQsCiAgICAgICAgICBtb2RlOiAidGV4dC9odG1sIiwKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNsb25lKGh0bWxDb2RlKSwKICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgIHRhYlNpemU6IDQsCiAgICAgICAgICAgICAgbGluZVdyYXBwaW5nOiB0cnVlLAogICAgICAgICAgICAgIC8vIEVuYWJsZSBsaW5lIHdyYXBwaW5nCiAgICAgICAgICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LAogICAgICAgICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICAgICAgICBsaW5lOiB0cnVlLAogICAgICAgICAgICAgIGZvbGRHdXR0ZXI6IHRydWUsCiAgICAgICAgICAgICAgc3R5bGVTZWxlY3RlZFRleHQ6IHRydWUsCiAgICAgICAgICAgICAgLy8ga2V5TWFwOiAic3VibGltZSIsCiAgICAgICAgICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSwKICAgICAgICAgICAgICBzaG93Q3Vyc29yV2hlblNlbGVjdGluZzogdHJ1ZSwKICAgICAgICAgICAgICAvLyB0aGVtZTogIm1vbm9rYWkiLAogICAgICAgICAgICAgIGV4dHJhS2V5czogewogICAgICAgICAgICAgICAgQ3RybDogImF1dG9jb21wbGV0ZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGhpbnRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICBjb21wbGV0ZVNpbmdsZTogIWZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgYm9yZGVyOiAiMXB4IHNvbGlkICNlZWUiLAogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAibW9ub3NwYWNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiMzAwcHgiCiAgICAgICAgICB9CiAgICAgICAgfSldKTsKICAgICAgfSwKICAgICAgLy8gICAgIG91dHB1dFJlbmRlcihoXywgZWwpIHsKICAgICAgLy8gICAgICAgbGV0IG1haW5Ub1JlbmRlciA9IHRoaXMudG9XQkNfKGVsLCBoXywgdGhpcy5jaGlsZHJlbl8sIHRoaXMud3JhcF8pOwogICAgICAvLyAgICAgICByZXR1cm4gbWFpblRvUmVuZGVyCiAgICAgIC8vICAgICAgIC8vIHRoaXMudk5vZGVzLm1haW4gPSBtYWluVG9SZW5kZXI7CiAgICAgIC8vICAgICAgIC8vIHRoaXMudk5vZGVzLmhlYWRlciA9IHRoaXMuZ2xvYmFsSGVhZGVyVk4oZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gdGhpcy52Tm9kZXMuZm9vdGVyID0gdGhpcy5nbG9iYWxGb290ZXJWTihlbCwgaF8pOwogICAgICAvLyAgICAgICAvLyB0aGlzLnZOb2Rlcy5oZWFkZXJzID0gdGhpcy5pbnNpZGVIZWFkZXJzVk4oZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gdGhpcy52Tm9kZXMuZm9vdGVycyA9IHRoaXMuaW5zaWRlRm9vdGVyc1ZOKGVsLCBoXyk7CiAgICAgIC8vICAgICAgIC8vIFsncmF3SHRtbCcsICdtYWluSHRtbCcsICdleHRlcm5hbEh0bWwnLCAnbGlua0h0bWwnLCAnZ2xvYmFsSHRtbCcsICdtZW51SHRtbCcsICd3cmFwSHRtbCddCiAgICAgIC8vICAgICAgIC8vICAgLy8gT2JqZWN0LmtleXModGhpcy4kcmVmcykKICAgICAgLy8gICAgICAgLy8gICAuZm9yRWFjaChlID0+IHsKICAgICAgLy8gICAgICAgLy8gICAgIGlmKGU9PSdtYWluSHRtbCcpewogICAgICAvLyAgICAgICAvLyAgICAgICB0aGlzLnZOb2Rlc1tlXSA9IGggPT4gdGhpcy50b1ZDTShoLCB0aGlzLiRyZWZzPy5bdGhpcy5yZWZOYW1lXT8ub3V0ZXJIVE1MKQogICAgICAvLyAgICAgICAvLyAgICAgfQogICAgICAvLyAgICAgICAvLyAgICAgZWxzZXsKICAgICAgLy8gICAgICAgLy8gICAgICAgdGhpcy52Tm9kZXNbZV0gPSBoID0+IHRoaXMudG9WQ00oaCwgdGhpcy4kcmVmcz8uW2VdPy5vdXRlckhUTUwpCiAgICAgIC8vICAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICAgIC8vICAgfSkKICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCBjbG9zZSA9IHRoaXMuZmxvYXRDbG9zZURyYWcoZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICB0aGlzLnZOb2Rlcy5jbG9zZSA9IGNsb3NlOwogICAgICAvLyAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2Nsb3NlJyk7CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCBmbG9hdCA9IHRoaXMuZmxvYXQoZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICB0aGlzLnZOb2Rlcy5mbG9hdCA9IGZsb2F0OwogICAgICAvLyAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2Zsb2F0Jyk7CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCB3YmNQcm9wcyA9IHRoaXMud2JjUHJvcHMoZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICB0aGlzLnZOb2Rlcy53YmNQcm9wcyA9IHdiY1Byb3BzOwogICAgICAvLyAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ3diY1Byb3BzJyk7CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCBnQXR0cnMgPSB0aGlzLmdBdHRycyhlbCwgaF8pOwogICAgICAvLyAgICAgICAvLyAgIHRoaXMudk5vZGVzLmdBdHRycyA9IGdBdHRyczsKICAgICAgLy8gICAgICAgLy8gICAvLyBvdXRwdXRBcnJheS5wdXNoKCdnQXR0cnMnKTsKICAgICAgLy8gICAgICAgLy8gfQogICAgICAvLyAgICAgICAvLyB7CiAgICAgIC8vICAgICAgIC8vICAgbGV0IGFsbE9wdGlvbnMgPSB0aGlzLmFsbE9wdGlvbnMoZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICB0aGlzLnZOb2Rlcy5hbGxPcHRpb25zID0gYWxsT3B0aW9uczsKICAgICAgLy8gICAgICAgLy8gICAvLyBvdXRwdXRBcnJheS5wdXNoKCdhbGxPcHRpb25zJyk7CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCBpdGVtU3JjID0gdGhpcy5pdGVtU3JjKGVsLCBlbCwgaF8pOwogICAgICAvLyAgICAgICAvLyAgIHRoaXMudk5vZGVzLml0ZW1TcmMgPSBpdGVtU3JjOwogICAgICAvLyAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2l0ZW1TcmMnKTsKICAgICAgLy8gICAgICAgLy8gfQogICAgICAvLyAgICAgICAvLyB7CiAgICAgIC8vICAgICAgIC8vICAgbGV0IGhBdHRycyA9IHRoaXMuaEF0dHJzKGVsLCBoXyk7CiAgICAgIC8vICAgICAgIC8vICAgaWYgKGhBdHRycykgdGhpcy52Tm9kZXMuaEF0dHJzID0gaEF0dHJzOwogICAgICAvLyAgICAgICAvLyAgIC8vIG91dHB1dEFycmF5LnB1c2goJ2hBdHRycycpOwogICAgICAvLyAgICAgICAvLyB9CiAgICAgIC8vICAgICAgIC8vIHsKICAgICAgLy8gICAgICAgLy8gICBsZXQgdlByb3BzID0gdGhpcy52UHJvcHMoZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICBpZiAodlByb3BzKSB7CiAgICAgIC8vICAgICAgIC8vICAgICB0aGlzLnZOb2Rlcy52UHJvcHMgPSB2UHJvcHM7CiAgICAgIC8vICAgICAgIC8vICAgICAvLyBvdXRwdXRBcnJheS5wdXNoKCd2UHJvcHMnKTsKICAgICAgLy8gICAgICAgLy8gICB9CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgLy8gewogICAgICAvLyAgICAgICAvLyAgIGxldCBodG1sU3JjID0gdGhpcy5odG1sU3JjKGVsLCBoXyk7CiAgICAgIC8vICAgICAgIC8vICAgaWYgKGh0bWxTcmMpIHsKICAgICAgLy8gICAgICAgLy8gICAgIHRoaXMudk5vZGVzLmh0bWxTcmMgPSBodG1sU3JjOwogICAgICAvLyAgICAgICAvLyAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnaHRtbFNyYycpOwogICAgICAvLyAgICAgICAvLyAgIH0KICAgICAgLy8gICAgICAgLy8gfQogICAgICAvLyAgICAgICAvLyB7CiAgICAgIC8vICAgICAgIC8vICAgbGV0IHdiY1NyYyA9IHRoaXMud2JjU3JjKGVsLCBoXyk7CiAgICAgIC8vICAgICAgIC8vICAgaWYgKHdiY1NyYykgewogICAgICAvLyAgICAgICAvLyAgICAgdGhpcy52Tm9kZXMud2JjU3JjID0gd2JjU3JjOwogICAgICAvLyAgICAgICAvLyAgICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnd2JjU3JjJyk7CiAgICAgIC8vICAgICAgIC8vICAgfQogICAgICAvLyAgICAgICAvLyB9CiAgICAgIC8vICAgICAgIC8vIHsKICAgICAgLy8gICAgICAgLy8gICBsZXQgd2JjU3luID0gdGhpcy53YmNTeW4oZWwsIGhfKTsKICAgICAgLy8gICAgICAgLy8gICB0aGlzLnZOb2Rlcy53YmNTeW4gPSB3YmNTeW47CiAgICAgIC8vICAgICAgIC8vICAgLy8gb3V0cHV0QXJyYXkucHVzaCgnd2JjU3luJyk7CiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgbGV0IHRoZU91dHB1dCA9IHRoaXMuY2xvbmUoZWw/Lm91dHB1dCB8fCB7fSkKICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ3RoZU91dHB1dDAwMDAwIDo+PiAnLCB0aGVPdXRwdXQpOwogICAgICAvLyAgICAgICAvLyBsZXQgdGhlT3V0cHV0ID0gZWw/Lm91dHB1dCB8fCB7fQogICAgICAvLyAgICAgICBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bYCR7dmFsfWBdIHx8IHZhbAogICAgICAvLyAgICAgICBsZXQgb2JqID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKQogICAgICAvLyAgICAgICBjb25zb2xlLmxvZygndGhlT3V0cHV0MTExMTEgOj4+ICcsIG9iaik7CiAgICAgIC8vICAgICAgIG1haW5Ub1JlbmRlciA9IHRoaXMudG9XQkNfKG9iaiwgaF8pOwogICAgICAvLyAgICAgICAvLyBtYWluVG9SZW5kZXIgPWhfKCdkaXYnLFsgaF8oJ1dCQycsIHsKICAgICAgLy8gICAgICAgLy8gICBrZXl5OiBgYXJyLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgIC8vICAgICAgIC8vICAgcHJvcHM6IHsKICAgICAgLy8gICAgICAgLy8gICAgIGl0ZW06IG9iaiwKICAgICAgLy8gICAgICAgLy8gICB9LAogICAgICAvLyAgICAgICAvLyB9KV0pCiAgICAgIC8vICAgICAgIHJldHVybiBtYWluVG9SZW5kZXIKICAgICAgLy8gICAgICAgLy8gaWYgKHRoaXMuaXNQbGFpbk9iamVjdCh0aGVPdXRwdXQpKSB7CiAgICAgIC8vICAgICAgIC8vICAgdGhlT3V0cHV0ID0gT2JqZWN0LmtleXModGhlT3V0cHV0KS5zb3J0KCkubWFwKGtleT0+dGhlT3V0cHV0W2tleV0pCiAgICAgIC8vICAgICAgIC8vIH0KICAgICAgLy8gIC8qICAgICAgbGV0IG8gPSB7IHJhdzogdGhpcy5tYWluIH0KICAgICAgLy8gICAgICAgICAgIHRoaXMucHJvamVjdCh0aGVPdXRwdXQsIG8pCiAgICAgIC8vICAgICAgICAgICBtYWluVG9SZW5kZXIgPSB0aGVPdXRwdXQgKi8KICAgICAgLy8gICAgICAgaWYgKHR5cGVvZiB0aGVPdXRwdXQgPT0gJ2Z1bmN0aW9uJykgewogICAgICAvLyAgICAgICAgIC8vIHRoaXMudk5vZGVzPXZOb2RlcwogICAgICAvLyAgICAgICAgIC8vIGFsZXJ0KDExMTExMSkKICAgICAgLy8gICAgICAgICBtYWluVG9SZW5kZXIgPSB0aGlzLnRvV0JDXyhlbC5vdXRwdXQoaF8sIHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpLCBoXyk7CiAgICAgIC8vICAgICAgICAgLy8gbWFpblRvUmVuZGVyID0gaF8oJ1dCQycsIHsgcHJvcHM6IHsgaXRlbTogZWwub3V0cHV0KGhfLCB0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KSB9fSk7CiAgICAgIC8vICAgICAgICAgLy8gbWFpblRvUmVuZGVyID0gZWwub3V0cHV0KGhfLCB0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KQogICAgICAvLyAgICAgICAgIHJldHVybiBtYWluVG9SZW5kZXIKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICAvLyBlbHNlIGlmKHRydWUpewogICAgICAvLyAgICAgICAvLyAgICAgICAgICAgICBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bYCR7dmFsfWBdIHx8IHZhbAogICAgICAvLyAgICAgICAvLyAgIHJldHVybiB0aGlzLnRvV0JDXyh0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpLCBoXykKICAgICAgLy8gICAgICAgLy8gfQogICAgICAvLyAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoZU91dHB1dCkpIHsKICAgICAgLy8gICAgICAgICAvLyBsZXQgYXJyID0gW10KICAgICAgLy8gICAgICAgICAvLyBmb3IgKGxldCBlIG9mIHRoZU91dHB1dCkgewogICAgICAvLyAgICAgICAgIC8vICAgYWxlcnQoZSkKICAgICAgLy8gICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdldHR0dHR0dHR0dHR0dHR0dHR0dHR0dCA6Pj4gJywgZSk7CiAgICAgIC8vICAgICAgICAgLy8gICBpZiAodGhpcy52Tm9kZXM/LltlXSkgeyBhcnIucHVzaCh0aGlzLnZOb2Rlc1tlXSkgfQogICAgICAvLyAgICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgICAvLyByZXR1cm4gYXJyCiAgICAgIC8vICAgICAgICAgLy8gcmV0dXJuIFt0aGlzLnZOb2Rlc1sibWFpbiJdLCB0aGlzLnZOb2Rlc1snbWFpbkh0bWwnXSx0aGlzLnZOb2Rlc1snd2JjUHJvcHMnXSxdCiAgICAgIC8vICAgICAgICAgLy8gcmV0dXJuIGhfKCdXQkMnLCB7CiAgICAgIC8vICAgICAgICAgLy8gICBrZXl5OiBgd2JodG1sLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgIC8vICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgIC8vICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihlLCBmKSwKICAgICAgLy8gICAgICAgICAvLyAgIH0sCiAgICAgIC8vICAgICAgICAgLy8gfSkKICAgICAgLy8gICAgICAgICBsZXQgb2JqID0gdGhlT3V0cHV0Lm1hcCgoZSkgPT4gewogICAgICAvLyAgICAgICAgICAgaWYgKHRoaXMudk5vZGVzPy5bYCR7ZX1gXSkgeyByZXR1cm4gdGhpcy52Tm9kZXNbYCR7ZX1gXSB9CiAgICAgIC8vICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZSA9PSAnc3RyaW5nJykgeyByZXR1cm4gZSB9CiAgICAgIC8vICAgICAgICAgICBlbHNlIHsKICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9XQkNfKHRoaXMudHJhbnNmT2JqKGUsIGYpLCBoXykKICAgICAgLy8gICAgICAgICAgICAgLy8gcmV0dXJuIGhfKCdXQkMnLCB7CiAgICAgIC8vICAgICAgICAgICAgIC8vICAga2V5eTogYHdiaHRtbC1rZXktJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfS0ke2VsLmxlbmd0aH1gLAogICAgICAvLyAgICAgICAgICAgICAvLyAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgIC8vICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihlLCBmKSwKICAgICAgLy8gICAgICAgICAgICAgLy8gICB9LAogICAgICAvLyAgICAgICAgICAgICAvLyB9KQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgIH0pCiAgICAgIC8vICAgICAgICAgbWFpblRvUmVuZGVyID0gb2JqCiAgICAgIC8vICAgICAgICAgLy8gIGxldCBmID0gKHZhbCkgPT4gewogICAgICAvLyAgICAgICAgIC8vICAgIGlmICh2YWwgPT0gJ3diY1Byb3BzJykgewogICAgICAvLyAgICAgICAgIC8vICAgICAgIHJldHVybiB0aGlzLndiY1Byb3BzKGVsLCBoXykKICAgICAgLy8gICAgICAgICAvLyAgICB9CiAgICAgIC8vICAgICAgICAgLy8gICAgaWYgKHZhbCA9PSAncmF3JykgewogICAgICAvLyAgICAgICAgIC8vICAgICAgcmV0dXJuIHRoaXMubWFpbgogICAgICAvLyAgICAgICAgIC8vICAgIH0KICAgICAgLy8gICAgICAgICAvLyAgICByZXR1cm4gdGhpcy52Tm9kZXM/Llt2YWxdIHx8IHZhbAogICAgICAvLyAgICAgICAgIC8vICB9CiAgICAgIC8vICAgICAgICAgLy8gbGV0IG8gPSB7Li4udGhpcy52Tm9kZXMscmF3OnRoaXMubWFpbn0KICAgICAgLy8gICAgICAgICAvLyAgIGxldCBvYmogPSB0aGlzLnByb2plY3QodGhlT3V0cHV0LCBvKQogICAgICAvLyAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9IHRoZU91dHB1dAogICAgICAvLyAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7CiAgICAgIC8vICAgICAgICAgLy8gICBrZXl5OiBgYXJyLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RofWAsCiAgICAgIC8vICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgIC8vICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihvYmosIGYpLAogICAgICAvLyAgICAgICAgIC8vICAgfSwKICAgICAgLy8gICAgICAgICAvLyB9KQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGVsc2UgaWYgKAogICAgICAvLyAgICAgICAgIFsnYm9vbGVhbicsICdzdHJpbmcnLCAnbnVtYmVyJ10uaW5jbHVkZXModHlwZW9mIHRoZU91dHB1dCkKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgaWYgKHRoZU91dHB1dC5lbmRzV2l0aCgnSHRtbCcpKSB7CiAgICAgIC8vICAgICAgICAgICBhbGVydCh0aGVPdXRwdXQpCiAgICAgIC8vICAgICAgICAgICAvLyBsZXQgb2JqID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKQogICAgICAvLyAgICAgICAgICAgLy8gbWFpblRvUmVuZGVyID0gIHRoaXMudHJhbnNmT2JqKHRoZU91dHB1dCwgZikKICAgICAgLy8gICAgICAgICAgIG1haW5Ub1JlbmRlciA9IGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHRoaXMudHJhbnNmT2JqKGVsLm91dHB1dCwgZikgfSB9KQogICAgICAvLyAgICAgICAgICAgLy8gbWFpblRvUmVuZGVyID0gaF8oJ1dCQycsIHsKICAgICAgLy8gICAgICAgICAgIC8vICAga2V5eTogYGFyci1rZXktJHt0aGlzLmNvbXB1dGVkS2V5KGVsPy5vcHRpb25zPy5rZXkpfS0ke2VsLmxlbmd0aH1gLAogICAgICAvLyAgICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgICAgLy8gICAgIGl0ZW06IG9iaiwKICAgICAgLy8gICAgICAgICAgIC8vICAgfSwKICAgICAgLy8gICAgICAgICAgIC8vIH0pCiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIGVsc2UKICAgICAgLy8gICAgICAgICAgIGlmICh0aGlzLnZOb2Rlcz8uW3RoZU91dHB1dF0pIHsgbWFpblRvUmVuZGVyID0gdGhpcy52Tm9kZXM/Llt0aGVPdXRwdXRdIH0KICAgICAgLy8gICAgICAgICAgIGVsc2UgewogICAgICAvLyAgICAgICAgICAgICBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgewogICAgICAvLyAgICAgICAgICAgICAgIGtleXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGgKICAgICAgLy8gICAgICAgICAgICAgICAgIH1gLAogICAgICAvLyAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLnRyYW5zZk9iaihlbC5vdXRwdXQsIGYpLAogICAgICAvLyAgICAgICAgICAgICAgIH0sCiAgICAgIC8vICAgICAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNQbGFpbk9iamVjdCh0aGVPdXRwdXQpKSB7CiAgICAgIC8vICAgICAgICAgLy8gcmV0dXJuIGhfKCdXQkMnLCB7IHByb3BzOiB7IGl0ZW06IHsgY29tcDogJ2xpJywgb3B0aW9uczogeyBodG1sOiBbdGhpcy52Tm9kZXM/Lm1haW4sIHRoaXMudk5vZGVzPy53YmNQcm9wc10gfSB9IH0gfSkKICAgICAgLy8gICAgICAgICAgIC8vIGFsZXJ0KCdvdXRwdXR0dHR0dHR0dHR0dCcpCiAgICAgIC8vICAgICAgICAgICAvLyBhbGVydCh0aGVPdXRwdXQpCiAgICAgIC8vICAgICAgICAgbGV0IG9iaiA9IHt9CiAgICAgIC8vICAgICAgICAgT2JqZWN0LmVudHJpZXModGhlT3V0cHV0KS5mb3JFYWNoKChba2V5LCB2YWxdKSA9PiB7CiAgICAgIC8vICAgICAgICAgICBpZiAodGhpcy52Tm9kZXM/LltgJHt2YWx9YF0pIHsgb2JqW2tleV0gPSB0aGlzLnZOb2Rlc1tgJHt2YWx9YF0gfQogICAgICAvLyAgICAgICAgICAgLy8gZWxzZSB7IG9ialtrZXldID0gZX0KICAgICAgLy8gICAgICAgICAgIGVsc2UgewogICAgICAvLyAgICAgICAgICAgICBvYmpba2V5XSA9IHRoaXMudG9XQkNfKHRyYW5zZk9iaih2YWwsIGYpLCBoXykKICAgICAgLy8gICAgICAgICAgICAgLy8gb2JqW2tleV0gPSBoXygnV0JDJywgeyBwcm9wczogeyBpdGVtOiB0aGlzLnRyYW5zZk9iaih2YWwsIGYpIH0gfSkKICAgICAgLy8gICAgICAgICAgICAgLy8gb2JqW2tleV0gPSBoXygnV0JDJywgewogICAgICAvLyAgICAgICAgICAgICAvLyAgIGtleXk6IGB3Ymh0bWwta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgLy8gICAgICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgICAgICAvLyAgICAgaXRlbTogdGhpcy50cmFuc2ZPYmoodmFsLCBmKSwKICAgICAgLy8gICAgICAgICAgICAgLy8gICB9LAogICAgICAvLyAgICAgICAgICAgICAvLyB9KQogICAgICAvLyAgICAgICAgICAgfQogICAgICAvLyAgICAgICAgIH0pCiAgICAgIC8vICAgICAgICAgICAgIC8vICAgYWxlcnQoa2V5KQogICAgICAvLyAgICAgICAgICAgICAvLyBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bdmFsXSB8fCB2YWwKICAgICAgLy8gICAgICAgICAgICAgLy8gbGV0IG9iaiA9IHRoaXMudHJhbnNmT2JqKHRoZU91dHB1dCwgZikKICAgICAgLy8gICAgICAgICAgIC8vICAgaWYgKHR5cGVvZiB2YWw9PSdzdHJpbmcnICYmIHRoaXMudk5vZGVzPy5bdmFsXSkgewogICAgICAvLyAgICAgICAgICAgLy8gICAgIG9ialtrZXldID0gdGhpcy52Tm9kZXNbdmFsXQogICAgICAvLyAgICAgICAgICAgLy8gICB9CiAgICAgIC8vICAgICAgICAgICAvLyAgIGVsc2UgeyBvYmpba2V5XSA9IHRoaXMudHJhbnNmT2JqKHRoZU91dHB1dCwgZikgfQogICAgICAvLyAgICAgICAgICAgLy8gfSkKICAgICAgLy8gICAgICAgICAgIC8vIG1haW5Ub1JlbmRlcj1vYmoKICAgICAgLy8gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvYmpqampqampqampqamogOj4+ICcsIG9iaik7CiAgICAgIC8vICAgICAgICAgICAvLyBsZXQgZiA9ICh2YWwpID0+IHRoaXMudk5vZGVzPy5bdmFsXSB8fCB2YWwKICAgICAgLy8gICAgICAgICAgIC8vIGxldCBvYmogPSB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgIC8vICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgeyBwcm9wczogeyBpdGVtOiBvYmogfSB9KQogICAgICAvLyAgICAgICAgICAgLy8gbGV0IHRoZU91dHB1dHQ9dGhpcy5jbG9uZShlbD8ub3V0cHV0IHx8IHt9KQogICAgICAvLyAgICAgICAgICAgLy8gbGV0IG8gPSB0aGlzLnZOb2RlcwogICAgICAvLyAgICAgICAgICAgLy8gdGhpcy5wcm9qZWN0KHRoZU91dHB1dHQsIG8pCiAgICAgIC8vICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSB0aGVPdXRwdXR0CiAgICAgIC8vICAgICAgICAgLy8gbWFpblRvUmVuZGVyID1vYmoKICAgICAgLy8gICAgICAgICBtYWluVG9SZW5kZXIgPXRoaXMudG9XQkNfKCBvYmogLGhfKQogICAgICAvLyAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9aF8oJ1dCQycsIHsgcHJvcHM6IHsgaXRlbTogb2JqIH0gfSkpCiAgICAgIC8vICAgICAgICAgICAvLyBtYWluVG9SZW5kZXIgPSBoXygnV0JDJywgewogICAgICAvLyAgICAgICAgICAgLy8gICBrZXl5OiBgd2JodG1sLWtleS0ke3RoaXMuY29tcHV0ZWRLZXkoZWw/Lm9wdGlvbnM/LmtleSl9LSR7ZWwubGVuZ3RoIH1gLAogICAgICAvLyAgICAgICAgICAgLy8gICBwcm9wczogewogICAgICAvLyAgICAgICAgICAgLy8gICAgIGl0ZW06IG9iaiwKICAgICAgLy8gICAgICAgICAgIC8vICAgfSwKICAgICAgLy8gICAgICAgICAgIC8vIH0pOwogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICAgIGVsc2UgewogICAgICAvLyAgICAgICAgIGFsZXJ0KHRoZU91dHB1dCkKICAgICAgLy8gICAgICAgICBsZXQgb2JqID0gdGhpcy50cmFuc2ZPYmoodGhlT3V0cHV0LCBmKQogICAgICAvLyAgICAgICAgIC8vIG1haW5Ub1JlbmRlciA9ICB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgIC8vICAgICAgICAgLy8gbWFpblRvUmVuZGVyID0gdGhlT3V0cHV0LmVuZHNXaXRoKCdIdG1sJykgPyBoXygnV0JDJywgeyBwcm9wczogeyBpdGVtOiB0aGlzLnZOb2Rlc1t0aGVPdXRwdXRdIH0gfSkgOiB0aGlzLnRyYW5zZk9iaih0aGVPdXRwdXQsIGYpCiAgICAgIC8vICAgICAgICAgbWFpblRvUmVuZGVyID0gaF8oJ1dCQycsIHsKICAgICAgLy8gICAgICAgICAgIGtleXk6IGBhcnIta2V5LSR7dGhpcy5jb21wdXRlZEtleShlbD8ub3B0aW9ucz8ua2V5KX0tJHtlbC5sZW5ndGh9YCwKICAgICAgLy8gICAgICAgICAgIHByb3BzOiB7CiAgICAgIC8vICAgICAgICAgICAgIGl0ZW06IG9iaiwKICAgICAgLy8gICAgICAgICAgIH0sCiAgICAgIC8vICAgICAgICAgfSkKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICAgIC8vICBlbHNlIGlmICh0aGVPdXRwdXQpIHsKICAgICAgLy8gICAgICAgICAvLyAgIG1haW5Ub1JlbmRlciA9IGhfKAogICAgICAvLyAgICAgICAgIC8vICAgICAnVkNhcmQnLAogICAgICAvLyAgICAgICAgIC8vICAgICB7fSwKICAgICAgLy8gICAgICAgICAvLyAgICAgdGhlT3V0cHV0Lm1hcCgKICAgICAgLy8gICAgICAgICAvLyAgICAgICAoZSkgPT4KICAgICAgLy8gICAgICAgICAvLyAgICAgICAgIHRoaXMudk5vZGVzPy5bZV0gfHwKICAgICAgLy8gICAgICAgICAvLyAgICAgICAgIGhfKCdWQ2FyZCcsIHsgY2xhc3M6ICdyZWQgcGEtMTAgbWEtMTAnIH0sIFsKICAgICAgLy8gICAgICAgICAvLyAgICAgICAgICAgYFRoZSBvdXRwdXQgaXRlbSAiJHtlfSIgaXMgbm90IGFjdGl2YXRlZCBpbiBvcHRpb25zLmAsCiAgICAgIC8vICAgICAgICAgLy8gICAgICAgICBdKQogICAgICAvLyAgICAgICAgIC8vICAgICApCiAgICAgIC8vICAgICAgICAgLy8gICApO2FwcAogICAgICAvLyAgICAgICAgIC8vIH0KICAgICAgLy8gICAgICAgcmV0dXJuIG1haW5Ub1JlbmRlcgogICAgICAvLyAgICAgfQogICAgICB1cGRhdGVLZXk6IGZ1bmN0aW9uIHVwZGF0ZUtleShrZXkpIHsKICAgICAgICBpZiAoa2V5ICE9PSBudWxsICYmIGtleSAhPT0gdm9pZCAwICYmIGtleS5pbmNsdWRlcygiXyIpKSB7CiAgICAgICAgICByZXR1cm4ga2V5LnJlcGxhY2UoIl8iLCAiLSIpOwogICAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBudWxsICYmIGtleSAhPT0gdm9pZCAwICYmIGtleS5pbmNsdWRlcygiLSIpKSB7CiAgICAgICAgICByZXR1cm4ga2V5LnJlcGxhY2UoIi0iLCAiXyIpOwogICAgICAgIH0gZWxzZSBpZiAoa2V5KSB7CiAgICAgICAgICByZXR1cm4ga2V5ICsgIl8iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yYW5kb21LZXkoImtleSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IF9vYmplY3RTcHJlYWQoe30sIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY29tcG9uZW50cykgfHwge30pLAogICAgdnVldGlmeTogKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy52dWV0aWZ5KSB8fCB2dWV0aWZ5LAogICAgcm91dGVyOiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvdXRlcikgfHwgcm91dGVyLAogICAgc3RvcmU6IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc3RvcmUpIHx8IHN0b3JlLAogICAgLy8gYmVmb3JlVXBkYXRlKCkgIHsKICAgIC8vIAlpZiAodGhpcy5pdGVtIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAvLyAJCWNvbnNvbGUubG9nKCdzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3MnLCB0aGlzLml0ZW0sIHRoaXMuaXRlbT8udHJhY2tlcikKICAgIC8vIAkJaWYgKHRoaXMuaXRlbT8udHJhY2tlcikgewogICAgLy8gCQkJLy8gY29uc29sZS5sb2coJ3RoaXMuaXRlbT8udHJhY2tlcicsdGhpcy5pdGVtKQogICAgLy8gCQkJdGhpcy5pdGVtLnRyYWNrZXIodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSk7CiAgICAvLyAJCX0KICAgIC8vIAl9CiAgICAvLyB9LAogICAgLy8gIG9uOnsndXBkYXRlOml0ZW1fLm9wdGlvbnMucHJvcHMudmFsdWUnOiAobmV3VmFsdWUpID0+IHsKICAgIC8vIAlhbGVydCg4ODg4ODg4ODg4ODg4ODg4ODg4KQogICAgLy8gICAgIC8vIHRoaXMuY29udGVudCA9IG5ld1ZhbHVlOwogICAgLy8gICB9fSwKICAgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHZhciBfdGhpcyQkc3RvcmU0LCBfdGhpcyR3cmFwLCBfdGhpcyR3cmFwMiwgX3RoaXMkaXRlbTI7CiAgICAgIC8vIHRoaXMuYWxlcnRPYmpzPXRoaXMuaXRlbV8KCiAgICAgIC8vICdtb3VzZWRvd24nOiAsIG1vdXNldXA6IHRoaXMuaGFuZGxlTW91c2VVcAogICAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCB0aGlzLmhhbmRsZU1vdXNlRG93bik7CiAgICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCB0aGlzLmhhbmRsZU1vdXNlVXApOwoKICAgICAgLy8gdGhpcy5pdGVtXyA9IHRoaXMudG9XQkModGhpcy5pdGVtKQogICAgICAvLyB0aGlzLml0ZW1fID0gdGhpcy5jbG9uZSh0aGlzLml0ZW0pCiAgICAgIC8vIHRoaXMuaXRlbV8gPSB0aGlzLml0ZW0KCiAgICAgIC8vIGlmKHRoaXMuZGl2ZSkKICAgICAgLy8gewogICAgICAvLyAJdGhpcy5pdGVtXyA9IHRoaXMuZ2VuZXJhbFZhbCgKICAgICAgLy8gCQl0aGlzLml0ZW1fLAogICAgICAvLyAJCXRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgIC8vIAkJLy8gdGhpcy5sZwogICAgICAvLyAJCXRoaXMubGFuZwogICAgICAvLyAJCS8vIGxnCiAgICAgIC8vIAkJKTsKICAgICAgLy8gCX0KICAgICAgLy8gZWxzZSB7CiAgICAgIC8vIAl0aGlzLml0ZW1fID0gdGhpcy5pdGVtCiAgICAgIC8vIH0KCiAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXSA9IG5ld1ZhbHVlOwoKICAgICAgLy8gdGhpcy5pdGVtLm9wdGlvbnMuYXR0cnM9e3ZhbHVlOm5ld1ZhbHVlfTsKCiAgICAgIC8vIHJ1bGVzPXRoaXMuZ2VuZXJhbFZhbCh0aGlzLmNsb25lKHRoaXM/Lml0ZW1fPy5vcHRpb25zPy5wcm9wcz8ucnVsZXN8fFtdKSx7fSx0aGlzLmxhbmcpCgogICAgICAvLyB0aGlzLml0ZW1fPXRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0pKQogICAgICAvLyB0aGlzLndiY0l0ZW09dGhpcy50b1dCQyh0aGlzLmNsb25lKHRoaXMuaXRlbSkpLAogICAgICAvLyB0aGlzLml0ZW0wID0gdGhpcy5pdGVtOwogICAgICAvLyB0aGlzLml0ZW1fID0gdGhpcy50b1dCQyh0aGlzLmNsb25lKHRoaXMuaXRlbSkpOwogICAgICAvLyB0aGlzLml0ZW1fID0gIHRoaXMudG9XQkModGhpcy5pdGVtKTsKCiAgICAgIC8vIHRoaXMuaXRlbV8gPSB0aGlzLmdlbmVyYWxWYWwoCiAgICAgIC8vIAl0aGlzLndiY0l0ZW0sCiAgICAgIC8vIAl0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LAogICAgICAvLyAJLy8gdGhpcy5sZwogICAgICAvLyAJLy8gdGhpcy5sYW5nCiAgICAgIC8vIAl0aGlzLmxhbmcKICAgICAgLy8gKTsKCiAgICAgIC8vIC8vY29uc29sZS5sb2codGhpcy5leHRLZXkpCiAgICAgIHRoaXMuZXh0S2V5XyA9IHRoaXMuZXh0S2V5OwogICAgICB0aGlzLmJhc2VLZXkgPSAiIi5jb25jYXQoKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5leHRLZXlfKSB8fCAiIiwgIi0iKS5jb25jYXQodGhpcyAhPT0gbnVsbCAmJiB0aGlzICE9PSB2b2lkIDAgJiYgKF90aGlzJCRzdG9yZTQgPSB0aGlzLiRzdG9yZSkgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlNCAhPT0gdm9pZCAwICYmIChfdGhpcyQkc3RvcmU0ID0gX3RoaXMkJHN0b3JlNC5zdGF0ZSkgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlNCAhPT0gdm9pZCAwICYmIF90aGlzJCRzdG9yZTQubG9nZ2VkSW4gPyAxIDogMCwgIi0iKS5jb25jYXQodGhpcy5yYW5kb21LZXkoIiIuY29uY2F0KHRoaXMubGFuZykpLCAiLSIpOwogICAgICB0aGlzLndyYXBfID0gdGhpcyAhPT0gbnVsbCAmJiB0aGlzICE9PSB2b2lkIDAgJiYgdGhpcy53cmFwID8gewogICAgICAgIGNvbXA6ICgoX3RoaXMkd3JhcCA9IHRoaXMud3JhcCkgPT09IG51bGwgfHwgX3RoaXMkd3JhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3JhcC5jb21wKSB8fCB0aGlzLndyYXAsCiAgICAgICAgb3B0aW9uczogKChfdGhpcyR3cmFwMiA9IHRoaXMud3JhcCkgPT09IG51bGwgfHwgX3RoaXMkd3JhcDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdyYXAyLm9wdGlvbnMpIHx8IHt9CiAgICAgIH0gOiBudWxsOwogICAgICAvLyAvL2NvbnNvbGUubG9nKCdlZWVlZWVlZWVlZWVlZScsdGhpcy5leHRLZXksdGhpcy5leHRLZXlfLHRoaXMud3JhcF8pCgogICAgICB0aGlzLmNoaWxkcmVuXyA9IHRoaXMuY2hpbGRyZW47CgogICAgICAvLyB0aGlzLmNoaWxkcmVuXyA9IHRoaXMuZ2VuZXJhbFZhbCgKICAgICAgLy8gCXRoaXMuY2hpbGRyZW4gfHwgbnVsbCwKICAgICAgLy8gCXRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgIC8vIAl0aGlzLmxhbmcKICAgICAgLy8gKQoKICAgICAgLy8gaWYgKHRoaXMuaXRlbV8gaW5zdGFuY2VvZiBPYmplY3QpIHsKICAgICAgaWYgKHRoaXMuaXNQbGFpbk9iamVjdCh0aGlzLml0ZW1fKSkgewogICAgICAgIHZhciBfdGhpcyRpdGVtXzksIF90aGlzJGl0ZW1fMTEsIF90aGlzJGl0ZW1fMTIsIF90aGlzJGl0ZW1fMTMsIF90aGlzJGl0ZW1fMTQsIF90aGlzJGl0ZW1fMTUsIF90aGlzJGl0ZW1fMTYsIF90aGlzJGl0ZW1fMTcsIF90aGlzJGl0ZW1fMTgsIF90aGlzJGl0ZW1fMTk7CiAgICAgICAgaWYgKChfdGhpcyRpdGVtXzkgPSB0aGlzLml0ZW1fKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzkgIT09IHZvaWQgMCAmJiBfdGhpcyRpdGVtXzkub3B0aW9ucykgewogICAgICAgICAgdmFyIF90aGlzJGl0ZW1fMTA7CiAgICAgICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8xMCA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMTAgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8xMCA9IF90aGlzJGl0ZW1fMTAub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8xMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8xMC52YWw7CiAgICAgICAgfQogICAgICAgIHRoaXMuYmFzZUtleSArPSAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW1fMTEgPSB0aGlzLml0ZW1fKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzExID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW1fMTEgPSBfdGhpcyRpdGVtXzExLm9wdGlvbnMpID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGl0ZW1fMTEua2V5KSB8fCAiIjsKCiAgICAgICAgLy8gaWYgKHRoaXMuaXRlbV8ub3B0aW9ucz8uaEF0dHJzKXsKICAgICAgICAvLyAgIGxldCBoQXR0cnMgPSBodG1sX3Jlc3NvdXJjZXMuaHRtbF90YWdzW3RoaXMuaXRlbV8uY29tcF0uYXR0cnM7CiAgICAgICAgLy8gICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMuYXR0cnMgPSB7IC4uLnRoaXMuaXRlbV8ub3B0aW9ucz8uYXR0cnMgfHwge30gfQogICAgICAgIC8vICAgT2JqZWN0LmtleXMoaEF0dHJzKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgLy8gICAgIHRoaXMuaXRlbV8ub3B0aW9ucy5hdHRyc1trZXldID8/PSAnJzsKICAgICAgICAvLyAgIH0pCiAgICAgICAgLy8gfQoKICAgICAgICAvLyB0aGlzLmRpdmU9dGhpcy5pdGVtXz8uZGl2ZQoKICAgICAgICAvLyBpZiAodGhpcz8uaXRlbV8/Lm9wdGlvbnM/LnByb3BzKSB7CiAgICAgICAgLy8gLy8gCXRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wcy52YWx1ZSA9IHRoaXMuaXRlbV8ub3B0aW9ucz8udmFsOwogICAgICAgIC8vIAl0aGlzLml0ZW1fLm9wdGlvbnMudmFsPXRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wcy52YWx1ZSA7CiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmICh0aGlzPy5pdGVtXz8ub3B0aW9ucykgewogICAgICAgIC8vIH0KCiAgICAgICAgLy8gaWYgKCF0aGlzPy5pdGVtXz8ub3B0aW9ucz8udmFsKSB7IHRoaXMuaXRlbV8ub3B0aW9ucy52YWwgPSB0aGlzLml0ZW1fPy5vcHRpb25zXz8ucHJvcHM/LnZhbHVlIHx8ICcnIH0KICAgICAgICBpZiAodHlwZW9mICgoX3RoaXMkaXRlbV8xMiA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMTIgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8xMiA9IF90aGlzJGl0ZW1fMTIub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8xMiA9PT0gdm9pZCAwIHx8IChfdGhpcyRpdGVtXzEyID0gX3RoaXMkaXRlbV8xMi5wcm9wcykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8xMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8xMi52YWx1ZSkgPT0gImJvb2xlYW4iKSB7CiAgICAgICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMudmFsID0gdGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnZhbHVlOwogICAgICAgICAgdGhpcy5pdGVtXy5vcHRpb25zLnByb3BzLnZhbHVlID0gdGhpcy5pdGVtXy5vcHRpb25zLnZhbDsKICAgICAgICB9CgogICAgICAgIC8vIGlmKHRoaXMuaXRlbV8ub3B0aW9ucyYmIXRoaXMuaXRlbV8/Lm9wdGlvbnM/LmtleSl7CiAgICAgICAgLy8gCS8vY29uc29sZS5sb2coNTU1NTU1NTU1NTU1NSx0aGlzLml0ZW1fKQogICAgICAgIC8vIAl0aGlzLml0ZW1fLm9wdGlvbnNbJ2tleSddPWAke3RoaXM/LmV4dEtleXx8dGhpcy5yYW5kb21LZXkoJ29iaicpfS0ke3RoaXMua2V5X31gCgogICAgICAgIC8vIH0KCiAgICAgICAgLy8gaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnMpIHsKICAgICAgICAvLyAJdGhpcy5pdGVtXy5vcHRpb25zLnJlZiA9ICdyYXdIdG1sJwogICAgICAgIC8vIAl0aGlzLml0ZW1fLnJlZiA9ICgpID0+IHRoaXM/LiRyZWZzPy5yYXdIdG1sCgogICAgICAgIC8vIH0KCiAgICAgICAgLy8gaWYgKG9wdGlvbnM/LmtleSkgewoKICAgICAgICAvLyAJdGhpcy5iYXNlS2V5ICs9IGAtJHtvcHRpb25zPy5rZXl9YAoKICAgICAgICAvLyB9CgogICAgICAgIHZhciBkaXI7CiAgICAgICAgaWYgKCgoX3RoaXMkaXRlbV8xMyA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMTMgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8xMyA9IF90aGlzJGl0ZW1fMTMub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8xMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8xMy5ydGwpID09PSB0cnVlKSB7CiAgICAgICAgICBkaXIgPSAicnRsIjsKICAgICAgICB9IGVsc2UgaWYgKCgoX3RoaXMkaXRlbV8xNCA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMTQgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8xNCA9IF90aGlzJGl0ZW1fMTQub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8xNC5ydGwpID09PSBmYWxzZSkgewogICAgICAgICAgZGlyID0gImx0ciI7CiAgICAgICAgfSBlbHNlIGRpciA9IHRoaXMubGFuZyA9PSAiYXIiID8gInJ0bCIgOiAibHRyIjsKICAgICAgICBpZiAoKF90aGlzJGl0ZW1fMTUgPSB0aGlzLml0ZW1fKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzE1ICE9PSB2b2lkIDAgJiYgKF90aGlzJGl0ZW1fMTUgPSBfdGhpcyRpdGVtXzE1Lm9wdGlvbnMpICE9PSBudWxsICYmIF90aGlzJGl0ZW1fMTUgIT09IHZvaWQgMCAmJiAoX3RoaXMkaXRlbV8xNSA9IF90aGlzJGl0ZW1fMTUucHJvcHMpICE9PSBudWxsICYmIF90aGlzJGl0ZW1fMTUgIT09IHZvaWQgMCAmJiAoX3RoaXMkaXRlbV8xNSA9IF90aGlzJGl0ZW1fMTUuc3R5bGUpICE9PSBudWxsICYmIF90aGlzJGl0ZW1fMTUgIT09IHZvaWQgMCAmJiBfdGhpcyRpdGVtXzE1W3RoaXMubGFuZ10pIHsKICAgICAgICAgIHRoaXMuaXRlbV8ub3B0aW9ucy5zdHlsZVt0aGlzLmxhbmddLmRpcmVjdGlvbiA9IGRpcjsKICAgICAgICB9IGVsc2UgaWYgKChfdGhpcyRpdGVtXzE2ID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8xNiAhPT0gdm9pZCAwICYmIChfdGhpcyRpdGVtXzE2ID0gX3RoaXMkaXRlbV8xNi5vcHRpb25zKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzE2ICE9PSB2b2lkIDAgJiYgX3RoaXMkaXRlbV8xNi5zdHlsZSkgewogICAgICAgICAgdGhpcy5pdGVtXy5vcHRpb25zLnN0eWxlLmRpcmVjdGlvbiA9IGRpcjsKICAgICAgICB9IGVsc2UgaWYgKChfdGhpcyRpdGVtXzE3ID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8xNyAhPT0gdm9pZCAwICYmIF90aGlzJGl0ZW1fMTcub3B0aW9ucykgewogICAgICAgICAgdGhpcy5pdGVtXy5vcHRpb25zLnN0eWxlID0gewogICAgICAgICAgICBkaXJlY3Rpb246IGRpcgogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaWYgKChfdGhpcyRpdGVtXzE4ID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8xOCAhPT0gdm9pZCAwICYmIChfdGhpcyRpdGVtXzE4ID0gX3RoaXMkaXRlbV8xOC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzE4ICE9PSB2b2lkIDAgJiYgX3RoaXMkaXRlbV8xOC5nbG9iYWwpIHsKICAgICAgICAgIHZhciBfdGhpcyRpdGVtXyRvcHRpb25zLCBfdGhpcyRpdGVtXyRvcHRpb25zMjsKICAgICAgICAgIGdsb2JhbFsoX3RoaXMkaXRlbV8kb3B0aW9ucyA9IHRoaXMuaXRlbV8ub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8kb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8kb3B0aW9ucy5nbG9iYWxdID0gdGhpcy5pdGVtQWNjZXNzZWJpbGl0eTsKICAgICAgICAgIGdsb2JhbFsoKF90aGlzJGl0ZW1fJG9wdGlvbnMyID0gdGhpcy5pdGVtXy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXyRvcHRpb25zMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8kb3B0aW9uczIuZ2xvYmFsKSArICJfdm12dWV0aWYiXSA9IHRoaXM7CiAgICAgICAgfQogICAgICAgIGlmICgoX3RoaXMkaXRlbV8xOSA9IHRoaXMuaXRlbV8pICE9PSBudWxsICYmIF90aGlzJGl0ZW1fMTkgIT09IHZvaWQgMCAmJiBfdGhpcyRpdGVtXzE5LmluaXQpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLml0ZW1fPy5pbml0Jyx0aGlzLml0ZW1fKQoKICAgICAgICAgIC8vIGFsZXJ0KCdpbml0ICAgOTk5OTk5OTk5OTk5OTk5OTk5JykKICAgICAgICAgIHRoaXMuaXRlbV8uaW5pdCh0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KTsKICAgICAgICB9CgogICAgICAgIC8vIGxldCBkaXI7CiAgICAgICAgLy8gaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnJ0bD09PXRydWUpIHtkaXIgPSdydGwnfQogICAgICAgIC8vIGVsc2UgaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnJ0bD09PWZhbHNlKSB7ZGlyID0nbHRyJ30KICAgICAgICAvLyBlbHNlIGRpciA9IHRoaXMubGFuZyA9PSAnYXInPyAncnRsJyA6ICdsdHInOwoKICAgICAgICAvLyAJaWYgKHRoaXMuaXRlbV8/Lm9wdGlvbnM/LnByb3BzPy5zdHlsZT8uW3RoaXMubGFuZ10pIHsKICAgICAgICAvLyAJCXRoaXMuaXRlbV8ub3B0aW9ucy5zdHlsZVt0aGlzLmxhbmddLmRpcmVjdGlvbiA9IGRpcjsKICAgICAgICAvLyAJfQogICAgICAgIC8vIAllbHNlIGlmKHRoaXM/Lml0ZW1fPy5vcHRpb25zPy5zdHlsZSl7dGhpcy5pdGVtXy5vcHRpb25zLnN0eWxlLmRpcmVjdGlvbiA9IGRpcjt9CiAgICAgICAgLy8gCWVsc2UgaWYodGhpcz8uaXRlbV8/Lm9wdGlvbnMpe3RoaXMuaXRlbV8ub3B0aW9ucy5zdHlsZT17ZGlyZWN0aW9uIDogZGlyfSB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdGhpcy5pdGVtXzsKICAgICAgfQoKICAgICAgLy8gdGhpcy5pdGVtXyA9IHRoaXMuZ2VuZXJhbFZhbCgKICAgICAgLy8gCXRoaXMud2JjSXRlbSwKICAgICAgLy8gCXRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgIC8vIAkvLyB0aGlzLmxnCiAgICAgIC8vIAkvLyB0aGlzLmxhbmcKICAgICAgLy8gCXRoaXMubGFuZwogICAgICAvLyApOwoKICAgICAgdGhpcy5yQ29sb3IgPSAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJGl0ZW0yID0gdGhpcy5pdGVtKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbTIuckNvbG9yKSB8fCB0aGlzLnJhbmRvbUNvbG9yKCk7CiAgICAgIC8vIHRoaXMuc2VsZWN0ID0gbnVsbDsKCiAgICAgIC8vIGZsb2F0OiF0cnVlLAogICAgICAvLyBpdGVtU3JjOnRydWUsCiAgICAgIC8vIGFsbDp0cnVlLAogICAgICAvLyBnQXR0cnM6dHJ1ZSwKICAgICAgLy8gaXRlbVNyYzp0cnVlLAogICAgICAvLyB3YmNTeW46dHJ1ZSwKICAgICAgLy8gd2JjU3JjOnRydWUsCiAgICAgIC8vIGh0bWxTcmM6dHJ1ZSwKICAgICAgLy8gYWxsT3B0aW9uczp0cnVlLAogICAgICAvLyBnQXR0cnM6dHJ1ZSwKICAgICAgLy8gd2JjUHJvcHM6IHRydWUsCiAgICAgIC8vIHZQcm9wczogdHJ1ZSwKICAgICAgLy8gcmF3OiB0cnVlLAogICAgICAvLyBtYWluOiB0cnVlLAogICAgICAvLyBoZWFkZXJzOiB0cnVlLAogICAgICAvLyBmb290ZXJzOiB0cnVlLAogICAgICAvLyB3cmFwcGVkUmF3OiB0cnVlLAoKICAgICAgLy8gdGhpcy4kc3RvcmUud2F0Y2goCiAgICAgIC8vIAkoKSA9PiB0aGlzLmxhbmcsInZ1ZSI6ICJeMi43LjE2IgogICAgICAvLyAJKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4gewogICAgICAvLyAJCS8vIHRoaXMubGcgPSBuZXdWYWx1ZTsKICAgICAgLy8gCQl0aGlzLiRjb29raWVzLnNldCgnbGcnLCBuZXdWYWx1ZSk7CgogICAgICAvLyAJCXRoaXMud2JjSXRlbSA9IHRoaXMudG9XQkModGhpcy5jbG9uZSh0aGlzLml0ZW0wKSksCiAgICAgIC8vIAkJCXRoaXMuaXRlbV8gPSB0aGlzLmdlbmVyYWxWYWwoCiAgICAgIC8vIAkJCQkvLyBvcHRpb25zLAogICAgICAvLyAJCQkJdGhpcy53YmNJdGVtLAogICAgICAvLyAJCQkJdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwKICAgICAgLy8gCQkJCS8vIHRoaXMubGcKICAgICAgLy8gCQkJCS8vIHRoaXMubGFuZwogICAgICAvLyAJCQkJdGhpcy5sYW5nCiAgICAgIC8vIAkJCSk7CiAgICAgIC8vIAl9LAogICAgICAvLyAJewogICAgICAvLyAJCWltbWVkaWF0ZTogdHJ1ZSwgLy8gVG8gdHJpZ2dlciB0aGUgaGFuZGxlciBpbW1lZGlhdGVseSBvbiBpbml0aWFsIG1vdW50CiAgICAgIC8vIAl9CiAgICAgIC8vICk7CiAgICB9LAogICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdmFyIF90aGlzJGl0ZW1fMjAsCiAgICAgICAgX3RoaXMkaXRlbV8yMSwKICAgICAgICBfdGhpczE3ID0gdGhpcywKICAgICAgICBfdGhpcyRpdGVtXzI1OwogICAgICB0aGlzLm5hbWVFbCA9ICh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8yMCA9IHRoaXMuaXRlbV8pID09PSBudWxsIHx8IF90aGlzJGl0ZW1fMjAgPT09IHZvaWQgMCB8fCAoX3RoaXMkaXRlbV8yMCA9IF90aGlzJGl0ZW1fMjAub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8yMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaXRlbV8yMC5nbG9iYWwpIHx8IHRoaXMucmFuZG9tS2V5KCIiLCAzKS50b0xvd2VyQ2FzZSgpOwogICAgICBnbG9iYWxbdGhpcy5uYW1lRWxdID0gdGhpcy5pdGVtQWNjZXNzZWJpbGl0eTsKCiAgICAgIC8vIEdldCBhbGwgY29va2llIGtleXMKCiAgICAgIC8vIEZldGNoIGFuZCBzZXQgdGhlIHZhbHVlcyBmb3IgZWFjaCBrZXkKCiAgICAgIC8vIGlmKHRoaXMudHJhbnNmb3JtKQogICAgICAvLyB7CiAgICAgIC8vIAl0aGlzLml0ZW1fID0gdGhpcy5nZW5lcmFsVmFsKAogICAgICAvLyAJCXRoaXMuaXRlbSwKICAgICAgLy8gCQl0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LAogICAgICAvLyAJCS8vIHRoaXMubGcKICAgICAgLy8gCQl0aGlzLmxhbmcKICAgICAgLy8gCQkvLyBsZwogICAgICAvLyAJCSk7CiAgICAgIC8vIAl9CiAgICAgIC8vIGVsc2UgewogICAgICAvLyAJdGhpcy5pdGVtXyA9IHRoaXMuaXRlbQogICAgICAvLyB9CgogICAgICAvLyB0aGlzLml0ZW1fID0gdGhpcy5nZW5lcmFsVmFsKHRoaXMuaXRlbSx0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5KQoKICAgICAgdGhpcy5pdGVtXyA9IHRoaXMuaXRlbTsKICAgICAgdGhpcy53aWtpXyA9IHRoaXMud2lraTsKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICBpZiAodGhpcy53aWtpKSB7CiAgICAgICAgaWYgKHRoaXMud2lraS5pbmNsdWRlcygiLCIpKSB7CiAgICAgICAgICB0aGlzLml0ZW1fID0gdGhpcy53aWtpLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB3YmNXaWtpT2JqID09PSBudWxsIHx8IHdiY1dpa2lPYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdiY1dpa2lPYmpbZV07CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHdpa2kgPSB3YmNXaWtpT2JqID09PSBudWxsIHx8IHdiY1dpa2lPYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdiY1dpa2lPYmpbdGhpcy53aWtpX107CiAgICAgICAgICB0aGlzLml0ZW1fID0gd2lraSB8fCB0aGlzLml0ZW07CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGlmICgoX3RoaXMkaXRlbV8yMSA9IHRoaXMuaXRlbV8pICE9PSBudWxsICYmIF90aGlzJGl0ZW1fMjEgIT09IHZvaWQgMCAmJiBfdGhpcyRpdGVtXzIxLmRpdmUpIHsKICAgICAgICB0aGlzLml0ZW1fID0gdGhpcy5nZW5lcmFsVmFsKHRoaXMuaXRlbV8sIHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgICAgLy8gdGhpcy5sZwogICAgICAgIHRoaXMubGFuZwogICAgICAgIC8vIGxnCiAgICAgICAgKTsKICAgICAgfQogICAgICBpZiAodGhpcy5pc1BsYWluT2JqZWN0KHRoaXMuaXRlbV8pKSB7CiAgICAgICAgdmFyIF90aGlzJGl0ZW1fMjIsIF90aGlzJGl0ZW1fMjMsIF90aGlzJGl0ZW1fMjQ7CiAgICAgICAgdGhpcy5pdGVtTGlzdGVuZXJzID0gKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwIHx8IChfdGhpcyRpdGVtXzIyID0gdGhpcy5pdGVtXykgPT09IG51bGwgfHwgX3RoaXMkaXRlbV8yMiA9PT0gdm9pZCAwIHx8IChfdGhpcyRpdGVtXzIyID0gX3RoaXMkaXRlbV8yMi5vcHRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtXzIyLm9uKSB8fCB7fTsKICAgICAgICAvLyB0aGlzLmF0dHJzID0gdGhpcz8uaXRlbV8/Lm9wdGlvbnM/LmF0dHJzIHx8IHt9CgogICAgICAgIC8vIGlmICh0aGlzLml0ZW1fPy5pbml0KSB7CiAgICAgICAgLy8gCS8vIGNvbnNvbGUubG9nKCd0aGlzLml0ZW1fPy5pbml0Jyx0aGlzLml0ZW1fKQoKICAgICAgICAvLyAJLy8gYWxlcnQoJ2luaXQgICA5OTk5OTk5OTk5OTk5OTk5OTknKQogICAgICAgIC8vIAl0aGlzLml0ZW1fLmluaXQodGhpcy5pdGVtQWNjZXNzZWJpbGl0eSk7CiAgICAgICAgLy8gfQoKICAgICAgICB0aGlzLnJlZk5hbWUgPSAibWFpbl8iICsgdGhpcy5yYW5kb21LZXkoIiIsIDMpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgLy8gbGV0IHJlZk5hbWU9J3Jhd0h0bWwnCiAgICAgICAgaWYgKChfdGhpcyRpdGVtXzIzID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8yMyAhPT0gdm9pZCAwICYmIF90aGlzJGl0ZW1fMjMub3B0aW9ucyAmJiAhKChfdGhpcyRpdGVtXzI0ID0gdGhpcy5pdGVtXykgIT09IG51bGwgJiYgX3RoaXMkaXRlbV8yNCAhPT0gdm9pZCAwICYmIChfdGhpcyRpdGVtXzI0ID0gX3RoaXMkaXRlbV8yNC5vcHRpb25zKSAhPT0gbnVsbCAmJiBfdGhpcyRpdGVtXzI0ICE9PSB2b2lkIDAgJiYgX3RoaXMkaXRlbV8yNC5yZWYpKSB7CiAgICAgICAgICB0aGlzLml0ZW1fLm9wdGlvbnMucmVmID0gdGhpcy5yZWZOYW1lOwogICAgICAgIH0KICAgICAgICB0aGlzLml0ZW1fLmFzQ2hpbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMxNy5pdGVtQWNjZXNzZWJpbGl0eTsKICAgICAgICB9OwoKICAgICAgICAvLyB0aGlzLml0ZW1fLm9wdGlvbnMucmVmID8/PSdyYXdIdG1sJwogICAgICAgIC8vIHRoaXMuaXRlbV8ucmVmID0gKCkgPT4gdGhpcz8uJHJlZnNbdGhpcy5pdGVtXz8ub3B0aW9ucz8ucmVmXQogICAgICB9CgogICAgICAvLyB0aGlzLml0ZW0wID0gdGhpcy5pdGVtOwogICAgICAvLyB0aGlzLndiY0l0ZW0gPSB0aGlzLnRvV0JDKHRoaXMuY2xvbmUodGhpcy5pdGVtMCkpOwogICAgICAvLyB0aGlzLml0ZW1fID0gdGhpcy5pdGVtMDsKCiAgICAgIC8vIHRoaXMuaXRlbV8gPSB0aGlzLmdlbmVyYWxWYWwoCiAgICAgIC8vIAl0aGlzLndiY0l0ZW0sCiAgICAgIC8vIAl0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LAogICAgICAvLyAJLy8gdGhpcy5sZwogICAgICAvLyAJLy8gdGhpcy5sYW5nCiAgICAgIC8vIAkvLyB0aGlzLmxhbmcKICAgICAgLy8gKTsKCiAgICAgIC8vIHRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wc1sndmFsdWUnXT10aGlzPy5pdGVtXz8ub3B0aW9ucz8udmFsfHxmYWxzZQoKICAgICAgLy8gaWYodGhpcz8uaXRlbT8ub3B0aW9ucz8udmFsKXsgdGhpcy5pdGVtLm9wdGlvbnMudmFsPXRoaXMuaXRlbT8ub3B0aW9ucz8ucHJvcHM/LnZhbHVlfHwnJyB9CgogICAgICAvLyAgaWYodGhpcy5pdGVtXz8ub3B0aW9ucz8ucHJvcHM/LnZhbHVlKXt0aGlzLml0ZW1fLm9wdGlvbnMudmFsPXRoaXMuaXRlbV8ub3B0aW9ucy5wcm9wcy52YWx1ZTt9CgogICAgICAvLyAgICAgICAgIHRoaXMuJHdhdGNoKAogICAgICAvLyAgICAgICAgICAgICAvLyAnaXRlbV8ub3B0aW9ucy5wcm9wcycsCiAgICAgIC8vICAgICAgICAgICAgICAgICAvLyB0aGlzcz0+dGhpc3MuaXRlbV8sCiAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzcz0+ewoKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc3M/Ll9kYXRhPy5pdGVtXz8ub3B0aW9ucz8uaHRtbAogICAgICAvLyAgICAgICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgLy8gICAgICAgICAgICAgLy8gYWxlcnQoOTk5OTk5OTk5OTkpCgogICAgICAvLyAgICAgICAgICAgICAvLyBhbGVydCgnY2hhbmdlZCBmcm9tZ2dnZ2cgJyArIG9sZFZhbCArICcgdG8gJyArIG5ld1ZhbCk7CiAgICAgIC8vICAgICAgICAgICAgIC8vIG5ld1ZhbC5vcHRpb25zLmtleT10aGlzLnJhbmRvbUtleSgnYXV0bycpOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLml0ZW1fLm9wdGlvbnMua2V5ID0gdGhpcy5yYW5kb21LZXkoJ2F0dHInKQogICAgICAvLyAgICAgICAgIH0sCiAgICAgIC8vIC8vIHsgZGVlcDogdHJ1ZSB9CgogICAgICAvLyAgICAgKQogICAgICAvLyAgICAgICAgICAgICAgICAgIHRoaXMuJHdhdGNoKAogICAgICAvLyAgICAgICAgICAgICAvLyAnaXRlbV8ub3B0aW9ucy5wcm9wcycsCiAgICAgIC8vICAgICAgICAgICAgICAgICAvLyB0aGlzcz0+dGhpc3MuaXRlbV8sCiAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzcz0+ewoKICAgICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc3M/Ll9kYXRhPy5pdGVtXz8ub3B0aW9ucz8ubGFuZwogICAgICAvLyAgICAgICAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgLy8gICAgICAgICAgICAgLy8gYWxlcnQoODg4ODg4ODgpCgogICAgICAvLyAgICAgICAgICAgICAvLyBhbGVydCgnY2hhbmdlZCBmcm9tZ2dnZ2cgJyArIG9sZFZhbCArICcgdG8gJyArIG5ld1ZhbCk7CiAgICAgIC8vICAgICAgICAgICAgIC8vIG5ld1ZhbC5vcHRpb25zLmtleT10aGlzLnJhbmRvbUtleSgnYXV0bycpOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLml0ZW1fLm9wdGlvbnMua2V5ID0gdGhpcy5yYW5kb21LZXkoJ2F0dHInKQogICAgICAvLyAgICAgICAgIH0sCiAgICAgIC8vIC8vIHsgZGVlcDogdHJ1ZSB9CgogICAgICAvLyAgICAgKQoKICAgICAgLy8gZGVidWdnZXI7CgogICAgICAvLyBjb25zb2xlLmxvZygnZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnLHRoaXMuaXRlbSkKCiAgICAgIC8vIHRoaXMud2F0Y2hfID0gdGhpcy5nZW5lcmFsVmFsKAogICAgICAvLyAJdGhpcy5pdGVtPy53YXRjaCwKICAgICAgLy8gCXRoaXMuaXRlbUFjY2Vzc2ViaWxpdHksCiAgICAgIC8vIAkvLyB0aGlzLmxnCiAgICAgIC8vIAkvLyB0aGlzLmxhbmcKICAgICAgLy8gCS8vIGxnCiAgICAgIC8vICk7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcigoKF90aGlzJGl0ZW1fMjUgPSB0aGlzLml0ZW1fKSA9PT0gbnVsbCB8fCBfdGhpcyRpdGVtXzI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpdGVtXzI1LndhdGNoKSB8fCBbXSksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICB2YXIgYVdhdGNoID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYwMDAwMDAwJyx0aGlzLml0ZW0sYVdhdGNoKQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmMTExMTExMScsYVdhdGNoWzBdKQogICAgICAgICAgLy8gYVdhdGNoWzBdPShhKT0+YVdhdGNoWzBdKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgICAgdmFyIHRoZVdhdGNoZWQ7CiAgICAgICAgICB2YXIgYVdhdGNoX2Z1bmMgPSBmdW5jdGlvbiBhV2F0Y2hfZnVuYyhuZXdWYWwsIG9sZFZhbCkgewogICAgICAgICAgICByZXR1cm4gYVdhdGNoWzFdKF90aGlzMTcuaXRlbUFjY2Vzc2ViaWxpdHksIG5ld1ZhbCwgb2xkVmFsKTsKICAgICAgICAgIH07CiAgICAgICAgICAvLyBsZXQgYVdhdGNoX2Z1bmMgPSAgYVdhdGNoWzFdOwogICAgICAgICAgaWYgKGFXYXRjaFswXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIHRoZVdhdGNoZWQgPSBmdW5jdGlvbiB0aGVXYXRjaGVkKCkgewogICAgICAgICAgICAgIHJldHVybiBhV2F0Y2hbMF0oX3RoaXMxNy5pdGVtQWNjZXNzZWJpbGl0eSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIC8vIHRoaXMuJHdhdGNoKCgpPT4gYVdhdGNoWzBdKHRoaXMuaXRlbUFjY2Vzc2ViaWxpdHkpLGFXYXRjaF9mdW5jLC4uLmFXYXRjaC5zbGljZSgyKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhV2F0Y2hbMF0gPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgdGhlV2F0Y2hlZCA9ICJpdGVtQWNjZXNzZWJpbGl0eS4iICsgYVdhdGNoWzBdOwogICAgICAgICAgICAvLyB0aGlzLiR3YXRjaCgnaXRlbUFjY2Vzc2ViaWxpdHkuJythV2F0Y2hbMF0sLi4uYVdhdGNoLnNsaWNlKDEpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhV2F0Y2hbMF0pKSB7CiAgICAgICAgICAgIHRoZVdhdGNoZWQgPSBmdW5jdGlvbiB0aGVXYXRjaGVkKCkgewogICAgICAgICAgICAgIHJldHVybiBhV2F0Y2hbMF0ubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlKF90aGlzMTcuaXRlbUFjY2Vzc2ViaWxpdHkpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZSA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYyMjIyMjIyJyx0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LGUpCiAgICAgICAgICAgICAgICAgIHJldHVybiBldmFsKCJ0aGlzLml0ZW1BY2Nlc3NlYmlsaXR5LiIgKyBlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMTcuJHdhdGNoLmFwcGx5KF90aGlzMTcsIFt0aGVXYXRjaGVkLCBhV2F0Y2hfZnVuY10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhV2F0Y2guc2xpY2UoMikpKSk7CiAgICAgICAgICAvLyB0aGlzLiR3YXRjaCggLi4uYVdhdGNoKTsKICAgICAgICB9OwogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICBfbG9vcCgpOwogICAgICAgIH0KCiAgICAgICAgLy8gdGhpcy4kd2F0Y2goCiAgICAgICAgLy8gCSh2KSA9PiB7CiAgICAgICAgLy8gCQljb25zb2xlLmxvZygna2tra2tra2tra2tra2tra2snLCB2LCB2LiRkYXRhLml0ZW1fLCB2Lml0ZW1fKQogICAgICAgIC8vIAkJLy8gaWYoWydzdHJpbmcnLCdudW1iZXInLCdib29sZWFuJ10uaW5jbHVkZXModHlwZW9mIHYuJGRhdGEuaXRlbV8pfHxBcnJheS5pc0FycmF5KHYuJGRhdGEuaXRlbV8pKQogICAgICAgIC8vIAkJCXJldHVybiB2Py5pdGVtXz8ub3B0aW9ucwogICAgICAgIC8vIAl9LAogICAgICAgIC8vIAlmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgLy8gCQlhbGVydCgnbWFpbiBtYWluIGNvbnRlbnQgdG8gYWRkZGRkZGRkZGRkZGRkZGRnJykKCiAgICAgICAgLy8gCQkvLyB0aGlzLml0ZW1fID0gdGhpcy50b1dCQyh0aGlzLmNsb25lKG5ld1ZhbHVlKSkKICAgICAgICAvLyAJCQkvLyAodGhpcy5pdGVtXyA9IHRoaXMuZ2VuZXJhbFZhbCgKCiAgICAgICAgLy8gCQkJLy8gCXRoaXMud2JjSXRlbSwKICAgICAgICAvLyAJCQkvLyAJdGhpcy5pdGVtQWNjZXNzZWJpbGl0eSwKICAgICAgICAvLyAJCQkvLyAJLy8gdGhpcy5sZwogICAgICAgIC8vIAkJCS8vIAl0aGlzLmxhbmcKICAgICAgICAvLyAJCQkvLyApKTsKICAgICAgICAvLyAJfSwKICAgICAgICAvLyAJeyBkZWVwOiB0cnVlIH0KICAgICAgICAvLyApOwoKICAgICAgICAvLyB0aGlzLiRzdG9yZS53YXRjaCgKICAgICAgICAvLyAJKHYpID0+IHsKICAgICAgICAvLyAJCWlmIChBcnJheS5pc0FycmF5KHYuaXRlbV8pKSB7CiAgICAgICAgLy8gCQkJYWxlcnQodi5pdGVtXykKICAgICAgICAvLyAJCQlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodi5pdGVtXykKICAgICAgICAvLyAJCX0KICAgICAgICAvLyAJfSwKICAgICAgICAvLyAJKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4gewogICAgICAgIC8vIAkJYWxlcnQoJ2hoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoJykKCiAgICAgICAgLy8gCX0sCiAgICAgICAgLy8gCXsKICAgICAgICAvLyAJCWltbWVkaWF0ZTogdHJ1ZSwgLy8gVG8gdHJpZ2dlciB0aGUgaGFuZGxlciBpbW1lZGlhdGVseSBvbiBpbml0aWFsIG1vdW50CiAgICAgICAgLy8gCX0KICAgICAgICAvLyApCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH07CiAgYXBwLmNvbXBvbmVudCgiV0JIdG1sIiwgV0JIdG1sKTsKICBhcHAuY29tcG9uZW50KCJXQkxpbmsiLCBXQkxpbmspOwogIGFwcC5jb21wb25lbnQoIkpzb25WaWV3ZXIiLCBKc29uVmlld2VyKTsKICBhcHAuY29tcG9uZW50KCJXQkRhdGFWaWV3ZXIiLCBXQkRhdGFWaWV3ZXIpOwogIC8vIGFwcC5jb21wb25lbnQoIi8vIFZ1ZU9mZmljZVBkZiIsVnVlT2ZmaWNlUGRmKTsKICBhcHAuY29tcG9uZW50KCJWdWVPZmZpY2VFeGNlbCIsIFZ1ZU9mZmljZUV4Y2VsKTsKICBhcHAuY29tcG9uZW50KCJWdWVPZmZpY2VEb2N4IiwgVnVlT2ZmaWNlRG9jeCk7CiAgYXBwLmNvbXBvbmVudCgiVnVlRG9jUHJldmlldyIsIFZ1ZURvY1ByZXZpZXcpOwogIGFwcC5jb21wb25lbnQoInBkZiIsIHBkZnZ1ZXIpOwogIGFwcC5jb21wb25lbnQoIldCQWxlcnQiLCBXQkFsZXJ0KTsKICBhcHAuY29tcG9uZW50KCJWQ00iLCBjb2RlbWlycm9yKTsKICB2YXIgV0JDXyA9IGFwcC5leHRlbmQod2JjT2JqKTsKICBhcHAuY29tcG9uZW50KCJXQkMiLCBXQkNfKTsKICBjb25zb2xlLmxvZygiYXBwLmNvbXBvbmVudCA6Pj4gIiwgYXBwID09PSBudWxsIHx8IGFwcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXBwLmNvbXBvbmVudHMsIGFwcCwgYXBwID09PSBudWxsIHx8IGFwcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXBwLiRvcHRpb25zLCBXQkNfID09PSBudWxsIHx8IFdCQ18gPT09IHZvaWQgMCA/IHZvaWQgMCA6IFdCQ18uY29tcG9uZW50cywgV0JDXyA9PT0gbnVsbCB8fCBXQkNfID09PSB2b2lkIDAgPyB2b2lkIDAgOiBXQkNfLiRvcHRpb25zLCBXQkNfID09PSBudWxsIHx8IFdCQ18gPT09IHZvaWQgMCB8fCAoX1dCQ18kJG9wdGlvbnMgPSBXQkNfLiRvcHRpb25zKSA9PT0gbnVsbCB8fCBfV0JDXyQkb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX1dCQ18kJG9wdGlvbnMuY29tcG9uZW50cyk7CiAgT2JqZWN0LmFzc2lnbihhcHAucHJvdG90eXBlLCBtZXRob2RzT2JqKTsgLy8gVXBkYXRlcyBvYmoxIHdpdGggcHJvcGVydGllcyBmcm9tIG8KCiAgT2JqZWN0LmFzc2lnbihhcHAub3B0aW9ucy5jb21wb25lbnRzLCBXQkNfLm9wdGlvbnMuY29tcG9uZW50cyk7IC8vIFVwZGF0ZXMgb2JqMSB3aXRoIHByb3BlcnRpZXMgZnJvbSBvCgogIFdCQyA9IFdCQ187Cn0KaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAicHJvZHVjdGlvbiIpIHsKICAvLyBWdWUuY29tcG9uZW50KCJXQkMiLCBXQkMpOwogIGluc3RhbGwoVnVlLCB7CiAgICB2dWV0aWZ5OiB2dWV0aWZ5LAogICAgcm91dGVyOiByb3V0ZXIsCiAgICBzdG9yZTogc3RvcmUgLypjb21wb25lbnRzLCB2dWV0aWZ5TW9kdWxlICovCiAgfSk7CiAgZ2xvYmFsLlZ1ZSA9IFZ1ZTsKICB2YXIgdiA9IG5ldyBWdWUoewogICAgcm91dGVyOiByb3V0ZXIsCiAgICAvLyBBZGQgdGhlIHJvdXRlcgogICAgc3RvcmU6IHN0b3JlLAogICAgLy8gQWRkIHRoZSBzdG9yZQogICAgdnVldGlmeTogdnVldGlmeSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgcmV0dXJuIGgoQXBwKTsKICAgIH0KICB9KTsKICBnbG9iYWwudiA9IHY7CiAgdi4kbW91bnQoIiNhcHAiKTsKfQppbXBvcnQgKiBhcyBtZXRob2RzT2JqIGZyb20gIi4vZ2xvYmFscy92YXJpYWJsZXMiOwpleHBvcnQgZGVmYXVsdCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1ldGhvZHNPYmopLCB7fSwgewogIGluc3RhbGw6IGluc3RhbGwsCiAgV0JDOiBXQkMsCiAgV0JIdG1sOiBXQkh0bWwsCiAgV0JMaW5rOiBXQkxpbmssCiAgV0JEYXRhVmlld2VyOiBXQkRhdGFWaWV3ZXIsCiAgV0JBbGVydDogV0JBbGVydCwKICBKc29uVmlld2VyOiBKc29uVmlld2VyLAogIE1hcmtkb3duSXQ6IE1hcmtkb3duSXQsCiAgdnVlUmVzb3VyY2U6IHZ1ZVJlc291cmNlLAogIFZ1ZU9mZmljZUV4Y2VsOiBWdWVPZmZpY2VFeGNlbCwKICBWdWVPZmZpY2VEb2N4OiBWdWVPZmZpY2VEb2N4LAogIFZ1ZURvY1ByZXZpZXc6IFZ1ZURvY1ByZXZpZXcsCiAgVnVlQ29kZW1pcnJvcjogVnVlQ29kZW1pcnJvciwKICBUdXJuRG93bjogVHVybkRvd24sCiAgYm9vdHN0cmFiTW9kdWxlOiBib290c3RyYWJNb2R1bGUsCiAgdnVldGlmeU1vZHVsZTogdnVldGlmeU1vZHVsZSwKICBWdWVDb29raWVzOiBWdWVDb29raWVzLAogIFZ1ZU1vbWVudDogVnVlTW9tZW50LAogIFZ1ZUNyeXB0b2pzOiBWdWVDcnlwdG9qcwp9KTs="},{"version":3,"names":["Vue","App","router","store","vuetify","vuetifyModule","VueRouter","BootstrapVue","IconsPlugin","bootstrabModule","WBHtml","WBLink","WBDataViewer","WBAlert","JsonViewer","MarkdownIt","vueResource","VueOfficeExcel","VueOfficeDocx","VueDocPreview","pdfvuer","VueCodemirror","codemirror","TurnDown","html_ressources","VueCookies","VueMoment","moment","VueCryptojs","wbcWikiObj","Vuex","config","productionTip","languages","WBC","alert","install","app","_WBC_$$options","options","arguments","length","undefined","console","error","use","autofocus","disabled","indentWithTab","tabSize","wbcObj","updated","_this","item_","Object","_this$item_","updater","itemAccessebility","_this$item_2","isValid","internalValueIsValid","asChild","render","h","item","_this$item","tracker","finalRender","toWBC_","children_","wrap_","Array","isArray","filter","e","map","_e$$el","$el","children","select","isNonEmpty","alertObjs","selectItemOptions","class","style","backgroundColor","rColor","border","attrs","title","concat","nameEl","isVnode","JSON","stringify","props","items","default","wrap","extKey","wiki","transform","data","fileContent","main","internalValue","menu","switch","hide","wbcItem","compMedia","mediaData","codeMirroMode","media","watch_","mainItemTextArea","label","rules","draggable","dragStartX","dragStartY","offsetX","offsetY","vNodes","extKey_","key_","basekey","itemListeners","AsyncComponent","isComponentLoaded","refName","computed","itemMode","itemDisp","itemProd","_this2","_this$$store","_this$$store2","_this$$route","_ref","$props","$data","data0","val","set","v","get","key","update","ref","$refs","refs","isValidFn","_this2$$refs$_this2$r","valid","vm","emit","$emit","_defineProperty","keyy","compKeyy","computedKey","lang","_this2$$store","$store","state","lg","langage","commit","user","loggedIn","queryData","enc","aesEnc","dec","aesDec","_objectSpread","validators","$cookies","getCookies","localStorage","prototype","$route","params","$moment","md2Html","html2Md","turndown","$watch","$router","_len","_key","push","_this2$alertObjs","apply","_toConsumableArray","_this$item_3","_this$$store3","watch","item_OptionsVal","newValue","_this$item_4","item_OptionsPropsValue","$storeStateLg","oldValue","methods","loadLocalFile","h_","el","_this3","a","startsWith","fetch","getUrlResponse","then","response","contentType","headers","log","includes","json","value","src","some","html","toLowerCase","endsWith","text","top","left","width","height","mode","theme","styleActiveLine","lineNumbers","line","foldGutter","styleSelectedText","matchBrackets","showCursorWhenSelecting","extraKeys","Ctrl","hintOptions","completeSingle","catch","controls","frameborder","allow","allowfullscreen","resize","_theOpts","_theOpts2","_theOpts3","_theOpts4","_theOpts5","_this4","_theOpts7","_theOpts9","theOpts","hOptions","activeOptions","active","activeRootOptions","listenersObj","on","_theOpts6","_this4$validators","_typeof","_theOpts8","entries","_ref2","_this4$validators2","_this4$validators3","_ref3","_slicedToArray","message","switchEvent","event","objLang","comp","theComp","hComp","replace","globalHeaderVN","header","hHeader","globalFooterVN","footer","hFooter","insideHeadersVN","_el$hOptions","_el$options","_el$options2","_el$hOptions2","insideFootersVN","_el$hOptions3","_el$options3","_el$options4","_el$hOptions4","footers","_el$hOptions5","_el$options5","_el$options6","_el$hOptions6","isPlainObject","_this$item_5","_this$item_6","baseKey","float","_this5","cookieKeys","keys","cooks","forEach","handleMouseUp","button","handleMouseDown","altKey","stopPropagation","_aesEnc","_x","_x2","_x3","toString","plaintext","iv","CryptoJS","_aesDec","_x4","_x5","_x6","startDrag","clientX","clientY","doDrag","sensibility","endDrag","htmlSrc","el_","_el$options7","_el$options8","_el$options9","_htmlSrcDefault3","_el$options10","_htmlSrcDefault4","_el$options11","_htmlSrcDefault5","_el$options12","_htmlSrcDefault6","_el$options13","_htmlSrcDefault7","generalVal","htmlSrcDefault","content","htmlSrcItemAttrs","sort","_el$options$htmlSrc","_htmlSrcDefault","_el$options$htmlSrc2","_htmlSrcDefault2","color","hAttrs","_html_ressources$html","_el$options14","_el$options15","_this6","_el$options29","_hAttrsDefault4","_el$options30","_hAttrsDefault5","_el$options31","_hAttrsDefault6","_el$options32","_hAttrsDefault7","_el$options33","_hAttrsDefault8","hAttrsDefault","html_tags","sm","md","xl","hDesc","desc","hType","type","hBrowser","browser","renderedItems","_el$options16","_el$options17","attrsObj","_el$options18","_el$options19","theValue","_el$options20","_el$options21","_el$options22","_el$options23","_el$options24","_el$options25","_hAttrsDefault","_el$options27","_hAttrsDefault2","_el$options28","_hAttrsDefault3","aRenderedItem","change","inputVal","_el$options26","strToObj","updateKey","wbcSrc","_el$options34","_el$options35","_el$options36","_wbcSrcDefault3","_el$options37","_wbcSrcDefault4","_el$options38","_wbcSrcDefault5","_el$options39","_wbcSrcDefault6","_el$options40","_wbcSrcDefault7","wbcSrcDefault","wbcItemToExcludes","wbcSrcItemAttrs","_el$options$wbcSrc","_wbcSrcDefault","_el$options$wbcSrc2","_wbcSrcDefault2","itemSrc","el0","_el$options41","_el$options42","_el$options43","_itemSrcDefault","_el$options44","_itemSrcDefault2","_el$options45","_itemSrcDefault3","_el$options46","_el$options47","_itemSrcDefault4","_this7","itemSrcDefault","newEle","parse","ee","_el$options48","output","_i","_arr","_el$options49","_el$options50","_i2","_arr2","_el$options51","vProps","_el","_el2","_vuetifyModule$el$com","_this8","_el9","_vPropsDefault4","_el$options$vProps2","_vPropsDefault5","_el$options$vProps3","_vPropsDefault6","_el10","_vPropsDefault7","_el$options$vProps4","_vPropsDefault8","vPropsDefault","vuetifyProps","_el6","_el$options$vProps","_vPropsDefault","_el7","_vPropsDefault2","_el8","_vPropsDefault3","propsObj","_el3","_el4","_el5","inputVal_","allOptions","_el11","_el12","_this9","_el18","_allOptionsDefault2","_el19","_allOptionsDefault3","_el20","_allOptionsDefault4","_el$options$allOption2","_allOptionsDefault$wr","_el21","_allOptionsDefault5","allOptionsDefault","cols","keysToExlude","_el$options52","_el$options$allOption","_allOptionsDefault$it","_el16","_el17","_allOptionsDefault","allOptionsObj","_el13","_el14","_el15","gAttrs","_el22","_el23","_this10","_el40","_gAttrsDefault4","_el41","_gAttrsDefault5","_el42","_el43","_gAttrsDefault6","_el44","_gAttrsDefault7","gAttrsDefault","gAttributes","global_attrs","kys","_el24","_el25","_el26","_el27","_el28","_el29","_el30","_el31","_el32","_el33","_gAttrsDefault","_el38","_gAttrsDefault2","_el39","_gAttrsDefault3","_el34","_el35","_el37","_el36","randomKey","wbcProps","_el$options53","_el$options54","_this11","_el$options66","_wbcDefault4","_el$options67","_wbcDefault5","_el$options68","_wbcDefault6","_el$options69","_wbcDefault7","_el$options70","_wbcDefault8","wbcDefault","wbcPropsObj","global","load","_el$options60","_wbcDefault","_el$options64","_wbcDefault2","_el$options65","_wbcDefault3","aWbcPropsObj","_el$options55","_el$options57","_el$options58","_el$options56","_el$options59","_el$options61","_el$options63","_el$options62","focusOn","_el$options71","_el$options72","_el$options73","_el$options74","vnode","floatStyle","position","padding","cursor","overflow","drag","close","wbcFocusOnObj","content0","content1","focusOnOptions","_el$options75","_el$options76","_el$options77","floatIcon","click","floatContent","_el$options78","_el$options79","closeIcon","closeContent","_el$options80","_this12","_el$options81","_el$options82","mousedown","mousemove","mousleave","dragIcon","dragContent","globalFocusOn","_el$options83","_el$options84","_el$options85","_el$options86","gFloat","gDrag","gClose","headerVN","gFloatOptions","_el$options87","_el$options88","_el$options90","gFloatIcon","dive","large","dark","that","evt","_el$options89","gFloatContent","_el$options91","_el$options92","_el$options93","gCloseIcon","gCloseContent","_el$options94","_this13","_el$options95","_el$options96","gDragIcon","gDragContent","wbcSyn","_el$options97","_el$options98","_el$options99","_wbcSynDefault3","_el$options100","_wbcSynDefault4","_el$options101","_wbcSynDefault5","_el$options102","_wbcSynDefault6","_el$options103","_wbcSynDefault7","wbcSynDefault","wbcSynItemAttrs","_el$options$wbcSyn","_wbcSynDefault","_el$options$wbcSyn2","_wbcSynDefault2","ell","clone","_ell$options","_ell$options2","_ell$options3","_ell$options4","_ell$options5","_ell$options6","_ell$options7","_ell$options8","_ell$options9","_ell$options10","_ell$options11","_ell$options12","_ell$options13","_ell$options14","_ell$options15","_ell$options16","_ell$options17","_ell$options18","_ell$options19","_ell$options20","_ell$options21","_ell$options22","_ell$options23","_ell$options24","_ell$options25","_ell$options26","_ell$options27","_ell$options28","_ell$options29","_ell$options30","_ell$options31","_ell$options32","_ell$options33","raw","raw0","globalHtml","externalHtml","linkHtml","rawHtml","mainHtml","menuHtml","wrapHtml","all","externalChildren","externalWrapperObj","_this14","_options50","_options60","_options61","_options62","_el95","_options63","_options100","_options101","_options102","_options103","extChildren","_el45","_el46","vNodeToReturn","_el47","_el47$startsWith","theMediaArr","split","getMedia","context","mediaContexts","Error","images","require","audio","video","pdf","css","py","vue","js","txt","office","source","autoplay","_source","_source$includes","imgObj","call","alt","url","_el48","_el49","_el50","_el53","_el54","_el55","_el56","_el57","_el58","_el59","_el51","_el52","theTag","theOptions","theLink","theTagSlip","to","slice","i","disposition","_el60","_el61","_el62","_el68","_el0$comp","_el69","_el70","_el71","newArr","heritItem","_el$","_el63","_el64","_el65","_el66","_el67","mergeObjects","_e0$options","e0","v0","_el72","_options","_options2","_options3","_options4","_el78","_options28","_el$options104","InputLikeComponent","input","_this14$$refs$_this","validate","protected","_el73","_el74","_el76","protectedContent","variant","_el75","_el77","_options5","_options6","loadDefaultComp","size","indeterminate","_el79","_el80","_el81","theHtml","newObj1","wrapObj","keyToAvoid","_wrapObj$options","_newObj1$options","_el84","strToComps","itemObj","_el82","_el83","keyArrObj","flattenArray","k","wb","name","component","components","_options7","_options8","_options9","_options9$startsWith","_options10","_options10$startsWith","_options11","_options12","_options13","_options14","_options15","_options26","innerHtml","elHtml","hInnerHtml","_el85","_elHtml","_el86","_innerHtml","_options16","_options17","_options18","MDOptions","slots","_ref4","_el87","_ref5","slotName","slotVal","slot","_innerHtml2","_options19","_options20","_options21","_options22","defaultVCMOptions","VCMOptions","_ref6","_el88","_ref7","_el89","_options23","_el90","_el91","_innerHtml3","_options24","_innerHtml4","_options25","_ref8","_el92","_ref9","_ref10","_el93","_ref11","_options27","style_","_el94","_options29","_this$$refs","_options30","defaultMenuOptions","closeOnContentClick","closeDelay","isActive","vuetifyComponentsWithActivatorSlot","_options31","_this$menu","_options32","_options33","_options34","_options35","_options36","_options37","_options38","_options39","_options40","_options41","_options42","_options43","_options44","_options45","_options46","_options48","_options49","_options47","_el$options105","_el$options106","_el$options107","_options51","_options53","theWrapOptions","theWrapHeader","theWrapFooter","theWrapOptionsHeaders","theWrapOptionsFooters","theWrap","_options52","_options54","_options55","_options56","_options57","_options58","_options59","mainToRender","_this$$refs2","_options80","_ell$options67","_ell$options68","_ell$options69","_options81","_options82","_options83","_options84","_options85","_options86","_options87","_options88","_options89","_options90","_options91","_options92","_options93","_options94","_options95","_options96","_options97","_options98","_options99","_el97","_options64","_options65","_options66","_options67","_options68","_options69","_options70","_options71","_options72","_options73","_options74","_options75","_options76","_options77","_options78","_options79","toVCM","outerHTML","_ell$options34","_ell$options35","_ell$options36","_ell$options37","_ell$options38","_ell$options39","_ell$options40","_ell$options41","_ell$options42","_ell$options43","_ell$options44","_ell$options45","_ell$options46","_ell$options47","_ell$options48","_ell$options49","_ell$options50","_ell$options51","_ell$options52","_ell$options53","_ell$options54","_ell$options55","_ell$options56","_ell$options57","_ell$options58","_ell$options59","_ell$options60","_ell$options61","_ell$options62","_ell$options63","_ell$options64","_ell$options65","_ell$options66","_this14$$refs","_this14$$refs2","_this14$$refs3","_el96","allObj","_this14$vNodes","_el98","_el99","theOutput","outputWBCObj","obj","f","_this14$vNodes2","transfObj","newVal","oldVal","deep","g","str","result","currentLevel","currentStr","bracketCount","char","updateInputValue","target","_event$target","_event$target3","_event$target4","_event$target2","checked","_this$item_7","_this$item_8","_this15","_asyncToGenerator","_regeneratorRuntime","mark","_callee","responseData","_callee$","_context","prev","next","$http","sent","abrupt","t0","stop","_this16","htmlCode","_src$replace","copyToClipboard","lineWrapping","viewportMargin","Infinity","mounted","_this$$store4","_this$wrap","_this$wrap2","_this$item2","addEventListener","_this$item_9","_this$item_11","_this$item_12","_this$item_13","_this$item_14","_this$item_15","_this$item_16","_this$item_17","_this$item_18","_this$item_19","_this$item_10","dir","rtl","direction","_this$item_$options","_this$item_$options2","init","randomColor","created","_this$item_20","_this$item_21","_this17","_this$item_25","wiki_","_this$item_22","_this$item_23","_this$item_24","_iterator","_createForOfIteratorHelper","_step","_loop","aWatch","theWatched","aWatch_func","Function","eval","s","n","done","err","WBC_","extend","$options","assign","methodsObj","process","env","NODE_ENV","$mount"],"sources":["/home/wissemb11/Allprojects/my_data/web_dev/global_frontend/src/myProducts/myPackages/1.0.0/wbc-ui2/next/src/main.js"],"sourcesContent":["import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\"; // Import the router\nimport store from \"./store\"; // Import the store\nimport vuetify from \"./plugins/vuetify\"; // Path to your Vuetify plugin\nimport \"vuetify/dist/vuetify.min.css\"; // Ensure you import the Vuetify CSS\n\nimport * as vuetifyModule from \"vuetify/lib\";\n// global.vuetifyModule = vuetifyModule;\n\nimport VueRouter from \"vue-router\";\n\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\";\nimport * as bootstrabModule from \"bootstrap-vue\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nimport \"@mdi/font/css/materialdesignicons.min.css\"; // Material Design Icons\n\nimport WBHtml from \"./components/WBHtml.vue\";\nimport WBLink from \"./components/WBLink.vue\";\nimport WBDataViewer from \"./components/WBDataViewer.vue\";\nimport WBAlert from \"./components/WBAlert.vue\";\n\nimport JsonViewer from \"vue-json-viewer\";\nimport MarkdownIt from \"markdown-it\";\nimport vueResource from \"vue-resource\";\nimport VueOfficeExcel from \"@vue-office/excel\";\nimport VueOfficeDocx from \"@vue-office/docx\";\nimport VueDocPreview from \"vue-doc-preview\";\nimport pdfvuer from \"pdfvuer\";\n\nimport VueCodemirror from \"vue-codemirror\";\nimport { codemirror } from \"vue-codemirror\";\n\nimport \"codemirror/lib/codemirror.css\";\n// require more codemirror resource...\nimport \"codemirror/mode/javascript/javascript.js\";\n\nimport TurnDown from \"turndown\";\n\nimport html_ressources from \"./globals/html_ressources\";\nimport VueCookies from \"vue-cookies\";\nimport VueMoment from \"vue-moment\";\nimport moment from \"moment-timezone\";\n\nimport VueCryptojs from \"vue-cryptojs\";\nimport wbcWikiObj from \"./globals/wbcWikiObj\";\nimport Vuex from \"vuex\";\n\nVue.config.productionTip = false;\n\nlet languages = [\"en\", \"fr\", \"ar\"];\n\nlet WBC;\n\nalert(\"hhhhhhhhhhhhhhh\");\nexport function install(app, options = {}) {\n  if (!app) {\n    console.error(\"Vue is not available in install function\");\n    return;\n  }\n\n  app.use(vuetify);\n  // import TheModelMyAlertComp from \"@/components/theComps/myAlertComp/TheModelMyAlertComp.vue\";\n\n  app.use(Vuex);\n  app.use(VueRouter);\n\n  // Make BootstrapVue available throughout your project\n  app.use(BootstrapVue);\n  // Optionally install the BootstrapVue icon components plugin\n  app.use(IconsPlugin);\n\n  app.use(JsonViewer);\n  app.use(VueCodemirror, {\n    // optional default global options\n    autofocus: true,\n    disabled: false,\n    indentWithTab: true,\n    tabSize: 2,\n    // ...\n  });\n\n  app.use(VueCookies);\n  app.use(VueMoment, {\n    moment,\n  });\n\n  app.use(VueCryptojs);\n\n  let wbcObj = {\n    updated() {\n      if (this.item_ instanceof Object) {\n        // console.log('xxxxxxxxxxxxxxxxxxxxxyyyyyyyyyyyyyyyyyyyyy')\n        if (this.item_?.updater) {\n          this.item_.updater(this.itemAccessebility);\n        }\n      }\n      if (this.item_ instanceof Object) {\n        if (this.item_?.options) {\n          this.item_.options.isValid = this.internalValueIsValid;\n        }\n        this.item_.asChild = () => this.itemAccessebility;\n      }\n    },\n    render(h) {\n      if (this.item instanceof Object) {\n        // console.log('xxxxxxxxxxxxxxxxxxxxx', this.item?.tracker)\n        if (typeof this.item?.tracker == \"function\") {\n          this.item.tracker(this.itemAccessebility);\n        }\n      }\n\n      // let finalRender = this.toWBC_(this.objLang(this.item,this.lang),h,this.children_,this.wrap_) || {};\n      let finalRender =\n        this.toWBC_(this.item_, h, this.children_, this.wrap_) || {};\n      // let finalRender\n\n      // // if (!finalRender) { return null }\n\n      // if(this.item_?.output)\n      //   {\n      //     // alert('waw')\n      //     // this.toWBC_(this.item_, h, this.children_, this.wrap_);\n\n      //   finalRender =this.outputRender(h, this.item_)\n\n      //   }\n      //   else {\n\n      //   finalRender =this.toWBC_(this.item_, h, this.children_, this.wrap_);\n      // }\n\n      // let mainToRender = this.toWBC_(el, h_, this.children_, this.wrap_);\n\n      /* \n            let el = this.item_\n            let h_ = h\n            let mainToRender = finalRender\n            if (el?.output) {\n              let theOutput = this.clone(el?.output || {})\n      \n              let f = (val) => this.vNodes?.[val] || val\n              let obj = this.transfObj(theOutput, f)\n      \n              //     mainToRender = h_('WBC', {\n              //       keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n              //       props: {\n              //         item: obj,\n              //       },\n              //     })\n      \n      \n                    let o = { raw: this.main }\n                       this.project(theOutput, o)\n                   mainToRender = theOutput \n      \n      \n      \n              if (typeof theOutput == 'function') {\n                // this.vNodes=vNodes\n      \n                // alert(111111)\n      \n                mainToRender = this.toWBC_(el.output(h_, this.itemAccessebility), h_);\n                // mainToRender = h_('WBC', { props: { item: el.output(h_, this.itemAccessebility) }});\n                // mainToRender = el.output(h_, this.itemAccessebility) \n                return mainToRender\n              }\n      \n              else if (Array.isArray(theOutput)) {\n      \n                let obj = theOutput.map((e) => {\n      \n                  if (this.vNodes?.[`${e}`]) { return this.vNodes[`${e}`] }\n                  // else { return e}\n                  else {\n                    return h_('WBC', {\n                      keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                      props: {\n                        item: this.transfObj(e, f),\n                      },\n                    })\n                  }\n                })\n                mainToRender = obj\n      \n      \n      \n                //  let f = (val) => {\n                //    if (val == 'wbcProps') {\n                //       return this.wbcProps(el, h_)\n                //    }\n                //    if (val == 'raw') {\n                //      return this.main\n                //    }\n                //    return this.vNodes?.[val] || val\n                //  }\n                // let o = {...this.vNodes,raw:this.main}\n                //   let obj = this.project(theOutput, o)\n                // mainToRender = theOutput\n      \n                // mainToRender = h_('WBC', {\n                //   keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                //   props: {\n                //     item: this.transfObj(obj, f),\n                //   },\n                // })\n      \n      \n              }\n      \n              else if (\n                ['boolean', 'string', 'number'].includes(typeof theOutput)\n              ) {\n      \n                if (theOutput.endsWith('Html')) {\n                  alert(theOutput)\n                  // let obj = this.transfObj(theOutput, f)\n                  // mainToRender =  this.transfObj(theOutput, f)\n                  mainToRender = h_('WBC', { props: { item: this.transfObj(el.output, f) } })\n                  // mainToRender = h_('WBC', {\n                  //   keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                  //   props: {\n                  //     item: obj,\n                  //   },\n                  // })\n      \n      \n                }\n                else\n                  if (this.vNodes?.[theOutput]) { mainToRender = this.vNodes?.[theOutput] }\n                  else {\n      \n                    mainToRender = h_('WBC', {\n                      keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length\n                        }`,\n                      props: {\n                        item: this.transfObj(el.output, f),\n                      },\n                    });\n                  }\n              } else if (this.isPlainObject(theOutput)) {\n                // alert('outputttttttttttt')\n                // alert(theOutput)\n      \n                let obj = {}\n                Object.entries(theOutput).forEach(([key, val]) => {\n      \n                  if (this.vNodes?.[`${val}`]) { obj[key] = this.vNodes[`${val}`] }\n                  // else { obj[key] = e}\n                  else {\n                    obj[key] = h_('WBC', {\n                      keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                      props: {\n                        item: this.transfObj(val, f),\n                      },\n                    })\n                  }\n                })\n                //   alert(key)\n      \n                // let f = (val) => this.vNodes?.[val] || val\n                // let obj = this.transfObj(theOutput, f)\n      \n                //   if (typeof val=='string' && this.vNodes?.[val]) {\n                //     obj[key] = this.vNodes[val]\n                //   }\n                //   else { obj[key] = this.transfObj(theOutput, f) }\n                // })\n                // mainToRender=obj\n      \n      \n                // console.log('objjjjjjjjjjjjj :>> ', obj);\n                // let f = (val) => this.vNodes?.[val] || val\n                // let obj = this.transfObj(theOutput, f)\n      \n                mainToRender = h_('WBC', {\n                  keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                  props: {\n                    item: obj,\n                  },\n                });\n      \n              }\n              else {\n                alert(theOutput)\n                let obj = this.transfObj(theOutput, f)\n                // mainToRender =  this.transfObj(theOutput, f)\n                // mainToRender = theOutput.endsWith('Html') ? h_('WBC', { props: { item: this.vNodes[theOutput] } }) : this.transfObj(theOutput, f)\n                mainToRender = h_('WBC', {\n                  keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n                  props: {\n                    item: obj,\n                  },\n                })\n      \n      \n              }\n      \n            }\n      \n            finalRender=mainToRender */\n\n      // \tif (typeof this.item_?.protected!='boolean') {\n      // \t\tfinalRender= h('WBC', {\n      // \t\t/* keyy: `wbc-key-header-${this.computedKey(el?.options?.key)}`, */ props:\n      // \t\t{ item: this.item_?.protected },\n      // \t})\n\n      // }\n      // else if(this.item_?.protected===true){\n\n      // \t\tlet protectedContent = {\n      // \t\ten: \"Forbidden access\",\n      // fr:'Accs interdit',\n      // ar:' '\n      // \t}\n      // \tfinalRender= h('WBC', {\n      // \t\t/* keyy: `wbc-key-header-${this.computedKey(el?.options?.key)}`, */ props:\n      // \t\t\t{ item: protectedContent },\n      // \t})\n\n      // }\n      // let finalRender = this.toWBC_( h) || {};\n\n      /* if (typeof this.item_?.output == 'function') {\n          // alert(111111)\n        \t\n\n          finalRender = this.item_.output(this.itemAccessebility, h);\n        } */ /*  else if (outputArray) {\nfinalRender = h(\n'VCard',\n{},\noutputArray.map(\n(e) => VNs?.[e] || h('VCard', { class: 'red pa-10 ma-10' }, [`The output item \"${e}\" is not activated in options.`])\n)\n);\n} */\n      // return h('div',{},[finalRender,this.alert(h,...this.alertObjs)])\n      // if(this.vNodes.alert){\n      // return this.alert\n      // return this.alert(99999,'ggggggggg',{comp:'li',a:'aaaaa'})(h)\n\n      // return h('div', {on: { 'mousedown': this.handleMouseDown, mouseup: this.handleMouseUp } }, [finalRender])\n      // // let VNs = this.mainRender(this.item_, h)||{};\n      // let VNs = this.toWBC_(this.item_, h)||{};\n\n      // // let finalRender = this.mainRender(this.item_,h);\n      // // return h('li',{},[finalRender.main]).children\n      // // return h('li',{},[finalRender.close]).children\n      // // finalRender=h('li',['dddddddddddddd',this.mainRender(this.item_,h),this.itemSrc(this.item_,this.item0,h)])\n\n      // let outputArray\n      // if (this.item_?.output == 'all' || this.item_?.options?.mode == 'dev') { outputArray = Object.keys(VNs) }\n      // else if (Array.isArray(this.item_?.output)) { outputArray = this.item_?.output }\n\n      // if (this.item_?.options.mode == 'dev') {\n\n      // \tfinalRender = VNs.all\n      // }\n      // else if (typeof this.item_?.output == 'function') {\n      // \t// alert(111111)\n      // \tfinalRender = this.item_.output(this.itemAccessebility, h);\n      // } else if (outputArray) {\n      // \tfinalRender = h(\n      // \t\t'VCard',\n      // \t\t{},\n      // \t\toutputArray.map(\n      // \t\t\t(e) => VNs?.[e] || h('VCard', { class: 'red pa-10 ma-10' }, [`The output item \"${e}\" is not activated in options.`])\n      // \t\t)\n      // \t);\n      // }\n\n      // else { finalRender = VNs?.main }\n\n      // console.log('finalRender :>> ', finalRender);\n      if (Array.isArray(finalRender)) {\n        // finalRender = h('span', [...finalRender.filter(e=>e!=null)]);\n        finalRender = h(\n          \"span\",\n          finalRender\n            .filter((e) => e)\n            .map((e) => {\n              return e?.$el?.children || e;\n              return e;\n            })\n        );\n\n        // return finalRender\n      }\n\n      // if ()) {\n      if (this.select === true || this.isNonEmpty(this.alertObjs)) {\n        // let nameEl=this.randomKey('',3).toLowerCase()\n\n        let selectItemOptions = {\n          // key: `key-${this.alertObjs.length}`,\n          class: \"pa-1 ma-1\",\n          style: {\n            backgroundColor: this.rColor,\n            border: \"10px dashed black\",\n          },\n          attrs: {\n            title:\n              \"WBC \" + `${this.nameEl}` + \"===>\" + this.isVnode(this.item_)\n                ? \"VNode\"\n                : JSON.stringify(this.item_),\n          },\n        };\n\n        // finalRender = h('div', selectItemOptions, [this.nameEl, finalRender, h('JsonViewer', { props: { value: this.alertObjs } })]);\n        finalRender = h(\"div\", selectItemOptions, [\n          `${this.isVnode(this.item_) ? \"VNode:\" : \"\"}${this.nameEl}=>`,\n          finalRender,\n          h(\"WBAlert\", { props: { items: this.alertObjs } }),\n\n          // h('WBAlert', { props: { items: this.alertObjs } })\n        ]);\n      }\n\n      /* if (this.isNonEmpty(this.alertObjs))\n        return h('div', [h('JsonViewer',{props:{value:['ssss','aaaa']}}),finalRender]);\n      else\n      */\n\n      // return h('div', [this.vNodes.raw, this.vNodes.wbcProps,finalRender]);\n      return finalRender;\n      // return h('div',{},Object.keys(VNs).map(k=>(h('li',{class:\"ma-1 pa-1\"},[k,VNs[k]?.children||VNs[k]]))));\n      // return Array.isArray(finalRender)?finalRender:[finalRender];\n    },\n\n    props: {\n      item: {\n        default: () => {\n          return null;\n        },\n      },\n      children: {\n        default: () => {\n          return null;\n        },\n      },\n      wrap: {\n        default: () => {\n          return null;\n        },\n      },\n      extKey: {\n        default: () => {\n          return \"\";\n        },\n      },\n      wiki: {\n        default: () => {\n          return null;\n        },\n      },\n      transform: {\n        default: () => {\n          return true;\n        },\n      },\n    },\n    data() {\n      return {\n        fileContent: null,\n\n        main: null,\n        internalValue: \"888888888888\",\n        internalValueIsValid: null,\n        menu: false,\n        switch: false,\n        hide: false,\n        wbcItem: null,\n        compMedia: null,\n        mediaData: null,\n        codeMirroMode: \"text/html\",\n        media: null,\n        // lg: this.lang,\n        // keyy: this.randomKey(this.lang),\n        // item0: {},\n        item_: {},\n        watch_: [],\n        rColor: null,\n        // selectItemOptions: null,\n        mainItemTextArea: {\n          class: \"white\",\n          label: \"Object/array to parse\",\n          rules: [],\n          // keyy: 'main-item',\n        },\n        draggable: false,\n        dragStartX: 0,\n        dragStartY: 0,\n        offsetX: 0,\n        offsetY: 0,\n        vNodes: {},\n        // alert:[{comp:'ddd',a:'sss'},'aaaaaa','bbbbb']\n        alertObjs: [],\n        children_: null,\n        extKey_: \"\",\n        key_: 0,\n        basekey: \"0\",\n        wrap_: null,\n        data: null,\n        select: false,\n        itemListeners: {},\n        attrs: {},\n        // rules: [],\n        // cooks: {}\n\n        // dive: true,\n        nameEl: \"\",\n\n        MarkdownIt: new MarkdownIt(),\n        TurnDown: new TurnDown(),\n        AsyncComponent: null,\n        isComponentLoaded: false,\n        refName: null,\n      };\n    },\n    computed: {\n      // ...Vuex.mapGetters(['urlServer', 'user', 'loggedIn', 'labels']),\n      // ...Vuex.mapGetters(['urlServer', 'user', 'loggedIn', 'lg', 'labels']),\n      itemMode: () => \"itemMode\",\n      itemDisp: () => \"itemDisp\",\n      itemProd: () => \"itemProd\",\n\n      // itemLang() {\n\n      // \tif (!Array.isArray(this.item_) && this.item_ instanceof Object) {\n      // \t\treturn this.item?.options?.lang || this.lang;\n      // \t} else return this.lang;\n      // \t/*  else if (this.lang_) {\n      //             return this.lang_;\n      //         }  */\n      // },\n\n      // itemLang:function(){\n      // \treturn this.objLang(this.item_,this.lang)\n\n      // dive:function(){\n      // \tif (this.item_ instanceof Object) {\n\n      // \t\treturn this.item_?.dive||false\n\n      // }\n      // return false\n      // },\n      // },\n      // itemAccessebility: function () {return this.itemAccessebilityFn(this.item_)},\n      // itemAccessebility: function () {\n      // \t// let WBALERT = this?.WBAlert ? { wbAlert: this.WBAlert } : {};\n      // \treturn {\n      // \t\tprops: this.$props,\n      // \t\tdata: this.$data.item_,\n      // \t\tdata0: this.$data,\n      // \t\tupdate: () => {\n      // \t\t\tthis.key_ += 1\n      // \t\t},\n\n      // \t\tref: () => this.$refs.rawHtml,\n      // \t\tisValid: () => this?.$refs?.rawHtml?.valid,\n\n      // \t\textData: { keyy: this.$data.extKey_, wrap: this.$data.wrap_, children: this.$data.children_ },\n      // \t\tcompKeyy: () => this.computedKey(),\n\n      // \t\t// keyy:this.$data.key_,\n      // \t\tvNodes: this.$data.vNodes,\n\n      // \t\t// methods: {\n      // \t\t// \trandomColor: this.randomColor,\n      // \t\t// \trandomKeyy: this.randomKey,\n      // \t\t// \tcapitalizeWords: this.capitalizeWords,\n      // \t\t// \tgetRandomInt: this.getRandomInt,\n      // \t\t// \tisVnode: this.isVnode,\n      // \t\t// \tstringToJson: this.stringToJson,\n      // \t\t// \tcompFunc: this.compFunc,\n      // \t\t// \tanyMatchInArray: this.anyMatchInArray,\n      // \t\t// \tstrToObj: this.strToObj,\n      // \t\t// \ttoTitleCase: this.toTitleCase,\n      // \t\t// \tgeneralVal: this.generalVal,\n      // \t\t// },\n      // \t\tlg:{lang: this.lang,get: ()=>this?.$store?.state?.lg || 'en', set:(langage)=>{this.$store.commit('updateLang',langage)}},\n\n      // \t\tuser: this?.$store?.state?.user,\n      // \t\tloggedIn: this?.$store?.state?.loggedIn || false,\n\n      // \t\tqueryData: this.queryData,\n      // \t\taes: {\n      // \t\t\tenc: this.aesEnc,\n      // \t\t\tdec: this.aesDec,\n      // \t\t},\n      // \t\tvalidators: {\n      // \t\t\t...validators,\n      // \t\t},\n      // \t\tcookies: {\n      // \t\t\t...VueCookies,\n      // \t\t\tstate:this.getCookies\n      // \t\t},\n      // \t\tstorage:localStorage,\n      // \t\tproto: app?.prototype || {},\n      // \t\trouteParams: this?.$route?.params,\n      // \t\tmoment: this.$moment,\n      // \t\t// $watch: this.$watch,\n      // \t\tstore: this.$store,\n      // \t\trouter: this.$router,\n      // \t\t// options: this.$options,\n      // \t\tvm: this,\n      // \t\t// cls: app,\n      // \t\talert: this.alert,\n      // \t\t// alertObjs:this.alertObjs\n      // \t};\n\n      // },\n      itemAccessebility: function () {\n        // console.log('vvvvvvvvvvvvvv', this, Vue, this.$data.item_, this.item_)\n        // let vm=this.$refs?.[el?.options?.ref]\n        // let WBALERT = this?.WBAlert ? { wbAlert: this.WBAlert } : {};\n        return {\n          props: this.$props,\n          data: this.$data.item_,\n          data0: this.$data,\n\n          val: {\n            set: (v) => (this.internalValue = v),\n            get: () => this.internalValue,\n          },\n\n          hide: (v) => {\n            this.$data.hide = v;\n          },\n          // set: (key, val) => { this.$data[key] = val },\n          set: (val, key = \"item_\") => {\n            this.$data[key] = val;\n          },\n          get: (key = \"item_\") => this.$data[key],\n\n          update: () => {\n            this.key_ += 1;\n          },\n\n          ref: () => this?.$refs[this.refName],\n          refs: this?.$refs,\n          // isValid: () => this?.$refs[this.refName]?.valid,\n          // isValid: () => this.isNonEmpty(this.item_?.options?.val) ?this?.$refs[this.refName]?.valid:null ,\n          isValid: this.$data.internalValueIsValid,\n          isValidFn: () => this?.$refs[this.refName]?.valid,\n\n          vm: this,\n          // context:this,\n          emit: this.$emit,\n\n          update: () => {\n            this.key_ += 1;\n          },\n\n          extData: {\n            keyy: this.$data.extKey_,\n            wrap: this.$data.wrap_,\n            children: this.$data.children_,\n          },\n          compKeyy: () => this.computedKey(),\n\n          // keyy:this.$data.key_,\n          vNodes: this.$data.vNodes,\n          // methods: {\n          // \trandomColor: this.randomColor,\n          // \trandomKeyy: this.randomKey,\n          // \tcapitalizeWords: this.capitalizeWords,\n          // \tgetRandomInt: this.getRandomInt,\n          // \tisVnode: this.isVnode,\n          // \tstringToJson: this.stringToJson,\n          // \tcompFunc: this.compFunc,\n          // \tanyMatchInArray: this.anyMatchInArray,\n          // \tstrToObj: this.strToObj,\n          // \ttoTitleCase: this.toTitleCase,\n          // \tgeneralVal: this.generalVal,\n          // },\n          lg: {\n            lang: this.lang,\n            get: () => this?.$store?.state?.lg || \"en\",\n            set: (langage) => {\n              this.$store.commit(\"updateLang\", langage);\n            },\n          },\n\n          user: this?.$store?.state?.user,\n          loggedIn: this?.$store?.state?.loggedIn || false,\n\n          queryData: this.queryData,\n          aes: {\n            enc: this.aesEnc,\n            dec: this.aesDec,\n          },\n          validators: {\n            ...(this.validators || {}),\n          },\n          cookies: {\n            ...this.$cookies,\n            state: this.getCookies || {},\n          },\n          storage: localStorage,\n          proto: app?.prototype || {},\n          routeParams: this?.$route?.params,\n          moment: this.$moment,\n          // MarkdownIt: this.MarkdownIt,\n          // TurnDown: this.TurnDown,\n          markdown: {\n            md2Html: (v) => this.MarkdownIt.render(v),\n            html2Md: (v) => this.TurnDown.turndown(v),\n          },\n\n          watch: this.$watch,\n          store: this.$store,\n          router: this.$router,\n          // options: this.$options,\n          // cls: app,\n          // alert: (v=this.$data.item_)=>{\n\n          // \tthis.alertObjs.push(...Array.isArray(v)?v:[v])\n          // \tthis.select=true\n          // },\n          alert: (...v) => {\n            if (v.length == 1) {\n              if (v[0] == 0) {\n                this.select = false;\n                this.alertObjs = [];\n              }\n              // else if (v[0] == 'cls') { this.alertObjs = ['new'] }\n              else {\n                this.alertObjs.push(v);\n              }\n            } else if (v.length == 0) {\n              this.alertObjs.push(this.$data.item_);\n            } else {\n              this.alertObjs.push(...(Array.isArray(v) ? v : [v]));\n            }\n            // this.select = true\n\n            return this.alertObjs;\n          },\n          // alert: WBALERT,\n          // alertObjs:this.alertObjs\n        };\n      },\n      // computedKey() {\n\n      // \treturn `${this?.key_ || ''}-${this.baseKey || ''}-${this.item_?.options?.val?.length||''}`\n\n      // \t// return `${this?.item_?.options?.key}`\n      // },\n      lang() {\n        return this?.item_?.options?.lang || this?.$store?.state?.lg || \"en\";\n      },\n    },\n\n    watch: {\n      // $data.item_\n      // 'item_.options.props.items': {\n      // 'item_.options.props.items': {\n      // \thandler(newValue, oldValue) {\n      // \t\talert('ddddddddddddddddddd')\n      // \t\tconsole.log(newValue, oldValue)\n      // \t\tthis.key_+=1\n      // \t},\n      // \tdeep: true,\n      // },\n\n      // 'item_'(newValue) {\n      // \tconsole.log('zzzzzzzzzzzz',this.item_,this.$data.item_,)\n      // \talert('sssssssssssssssssssssss')\n      // },\n      // 'item_.options.rtl'(newValue) {\n\n      // \t\tlet dir = this.lang == 'ar'||(newValue===true) ? 'rtl' : 'ltr';\n      // \t\t// if (!Array.isArray(el))\n      // \t\t{\n      // \t\t\tif (this.item_?.options?.props?.style?.[this.lang]) {\n      // \t\t\t\tthis.item_.options.style[this.lang].direction = dir;\n      // \t\t\t} else if(this.item_?.options?.props?.style)\n      // \t\t\t{\n      // \t\t\t\tthis.item_.options.style = {\n      // \t\t\t\t\t...(this?.item_?.options?.style||{}),\n      // \t\t\t\t\tdirection: dir,\n      // \t\t\t\t};\n      // \t\t\t}\n      // \t\t}\n\n      // },\n\n      // 'item_.options.html'(newValue) {\n      // \talert('html')\n      // },\n      \"item_.options.val\"(newValue) {\n        // alert(55555555555555555)\n        // let isInputLikeComponent = [\n        // \t'input',\n        // \t'checbox',\n        // \t'radio',\n        // \t'select',\n        // \t'textarea',\n        // \t'VTextField',\n        // \t'VCheckbox',\n        // \t'VTextarea',\n        // \t'VSelect',\n        // \t'VRadio',\n        // \t'VSlider',\n        // \t'VRangeSlider',\n        // \t'VSwitch',\n        // \t'VAutocomplete',\n        // \t'VDatePicker',\n        // \t'VColorPicker',\n        // \t'VMenu',\n        // \t'VRadioGroup',\n        // \t'vTimePicker',\n        // ].includes(this.item_?.comp);\n        // this.item_.options.class='red'\n\n        this.internalValue = newValue;\n\n        // if (this?.item_?.options?.attrs) {\n        //   this.item_.options.attrs.value = newValue;\n        //   this.attrs.value = newValue\n        // }\n        // if(this?.item_?.options?.props){this.item.options.props.value=newValue;}\n        // console.log('666666666666666',this.$refs,this.item_?.options?.ref)\n\n        // if (newVal!=''&&this?.$refs[this.refName]?.lazyValue) {\n        // // \t// alert(';lacaxuuuuuuu')\n        // \tthis.$refs[this.refName].lazyValue = newValue;\n        // }\n        // if (!this?.item_?.options?.props) {\n        // this.item_.options.props = {};\n        // this.item.options.props['value'] = newValue;\n      },\n      // if (this?.$refs?.rawHtml) {\n      // \t// if (isInputLikeComponent) {\n      // \t// \t//console.log(5555555555555555, this?.$refs?.rawHtml)\n      // \t// \t// this.item_.options.props.value = newValue;\n      // \t// \tthis.$refs.rawHtml.lazyValue = newValue;\n      // \t// \t}\n      // \tif (typeof this?.$refs?.rawHtml?.lazyValue == 'boolean') { this.$refs.rawHtml.lazyValue = newValue; }\n      // \tthis.item_.options.isValid = this.$refs.rawHtml.valid\n      // }\n      // this.key_+=1\n      // //console.log(4444444444444,this,this?.$parent?.item_?.options?.key)\n      // if(this?.$parent?.item_?.options?.key)this.$parent.item_.options.key+=1\n      // //console.log(555555555555555555,this,this?.$parent?.item_?.options?.key)\n      // this.$emit('on-val-change', newValue);\n      // alert(newValue+this.key_)\n      // else{alert(1111111111111111)}\n      // this.item_.options.props.value = newValue;\n      // this.item_.options.domProps = { value: newValue };\n      // if (this.item_?.options?.attrs)this.item_.options.attrs['checked'] = newValue||false;\n      // if(this?.item_?.options?.key){this.item_.options.key+=1\n      // }\n      // this.item_.options.domProps={'value': newValue};\n      // if(this.item_?.options?.props?.rules)\n      // \t\t{\n      // \t\t\talert(888888888888888888+newValue)\n      // \t\t\talert(this.item_.options.props.rules)\n      // \t\t// el.options,\n      // \t\tthis.wbcItem,\n      // \t\tthis.itemAccessebility,\n      // \t\t// this.lg\n      // \t\tnewValue\n      // \t);\n      // rules=this.item_.options.props.rules.map(e=>{\n      // \tif (e instanceof Function)\n      // \t{\n      // \t\treturn e(this.itemAccessebility,newValue)\n      // \t}\n      // \treturn true\n      // })\n      // this.item_.options.props.rules=rules\n      // }\n      // \t\tif(this.item_?.options?.props?.rules){\n      // \t\t\talert(1111111111111111111111111111)\n      // \t\tthis.item_.options['props'].rules=this.item_?.options?.props?.rules.map(ee=>this.generalVal(ee(this.itemAccessebility,this.lang),{},this.lang))\n      // \t\t// el.options['props'].rules=this?.items_.options.props.rules.map(e=>{\n      // \t// \tif(typeof e =='function')\n      // \t// \t{\n      // \t// \t\treturn v=>e(this.itemAccessebility,v)\n      // \t// \t\t// return this.generalVal(e(this.itemAccessebility,event),{},this.lang)\n      // \t// \t}\n      // \t// \treturn return 'false'\n      // \t// })\n      // }\n      // },\n      // \t'item_.options.attrs.value'(newValue) {\n\n      // \t\t// Do something with the new value when it changes\n\n      // \t\t// this.item_.options.class='red'\n      // \t\t// this.item.options.attrs={value:newValue};\n\n      // },\n\n      // '$refs?.rawHtml?.lazyValue'(newValue, oldValue) {\n      // \talert(this?.$refs?.rawHtml?.lazyValue)\n      // \tif(this?.item?.options?.attrs){this.item.options.attrs.value=newValue;}\n      // \tif(this?.item?.options?.props){this.item.options.props.value=newValue;}\n      // \tif (this?.$refs?.rawHtml?.lazyValue) { this.$refs.rawHtml.lazyValue = newValue; }\n\n      // },\n      internalValue(newValue) {\n        // alert(newValue)\n        // this.internalValue= newValue\n        if (this?.item_?.options) {\n          this.item_.options.val = newValue;\n        } else {\n          this.item_ = newValue;\n        }\n\n        // if(this?.item?.options?.props){this.item.options.props.value=newValue;}\n      },\n      \"item_.options.props.value\"(newValue) {\n        // alert(newValue)\n        this.internalValue = newValue;\n        this.item_.options.val = newValue;\n\n        // \t// this.item_.options.domProps={value:newValue};\n        // \t// if (this.item_?.options?.attrs)this.item_.options.attrs['checked'] =newValue||false;\n\n        // \t// this.item_.options.domProps={'value': newValue};\n\n        // \t// this.item_.options.val = newValue;\n        // \t// this.item_.options.domProps={value:newValue};\n        // \t// if (this.item_?.options?.attrs)this.item_.options.attrs['checked'] =newValue||false;\n\n        // \t// this.item_.options.domProps={'value': newValue};\n\n        // \t// this.item_.options.props.rules=this?.rules.map(e=>{\n        // \t// \tif(typeof e =='function')\n        // \t// \t{\n        // \t// \t\t// alert(this.generalVal(e(this.itemAccessebility,newValue),{},this.lang))\n        // \t// \t\treturn this.generalVal(this.clone(e(this.itemAccessebility,newValue)),{})\n        // \t// \t}\n        // \t// \treturn true\n        // \t// })\n      },\n\n      // Watch for changes to the 'lg' property in the store's state\n      // 'lg': {\n      //   handler(newValue, oldValue) {\n      //     alert(111111)\n      //     // This function will be called whenever 'lg' changes\n      //     // You can perform any actions or updates based on the new value\n      //     // and the old value of 'lg'\n\n      //   },\n      //   immediate: true, // To trigger the handler immediately on initial mount\n      // },\n\n      // '$store.state.loggedIn'(newValue, oldValue) {},\n\n      \"$store.state.lg\"(newValue, oldValue) {\n        // alert('changed')\n        // this.lg = newValue;\n        this.$cookies.set(\"lg\", newValue);\n        this.key_ += 1;\n        // if(this?.item_?.options){this.item_.options.rtl = (this.item_?.options?.rtl||(newValue=='ar'));}\n        // if(this?.item_?.options){this.item_.options.rtl = newValue=='ar';}\n\n        // this.wbcItem = this.toWBC(this.clone(this.item))\n        // \tthis.item_ = this.generalVal(\n        // \t\t// el.options,\n        // \t\tthis.wbcItem,\n        // \t\tthis.itemAccessebility,\n        // \t\t// this.lg\n        // \t\tnewValue\n        // \t);\n\n        // let dir;\n        // \tif (this.item_?.options?.rtl===true) {dir ='rtl'}\n        // \telse if (this.item_?.options?.rtl===false) {dir ='ltr'}\n        // \telse dir = this.lang == 'ar'? 'rtl' : 'ltr';\n        // \t\tif (this.item_?.options?.props?.style?.[this.lang]) {\n        // \t\t\tthis.item_.options.style[this.lang].direction = dir;\n        // \t\t}\n        // \t\telse if(this?.item_?.options?.style){this.item_.options.style.direction = dir;}\n        // \t\telse{this.item_.options={style:{direction : dir}}}\n\n        // this.item_ =  this.toWBC(this.item);\n        // this.item_ = this.toWBC(this.clone(this.item))\n\n        // if(this?.item_?.options?.key){this.item_.options.key+=1\n        // }\n        // else if(this?.item_?.options){\n        // \tthis.item_.options.key = this.randomKey('lg')\n        // }\n        // else{\n        // \tthis.item_.options={keyy: this.randomKey('lg')}\n\n        // }\n      },\n      // 'item.comp'(newValue, oldValue) {\n      // \talert('ffffffffffffffff')\n      // \tif( typeof newValue=='function' ){\n      // \tthis.item_ = this.toWBC(this.clone(this.item))\n      // \t}\n      // \tthis.item_ = this.toWBC(this.clone(this.item))\n\n      // },\n\n      // 'item_.options.html'(newValue, oldValue) {\n      // \talert('ffffffffffffffff')\n      // \tthis.key_+=1\n\n      // },\n\n      // 'item'(newValue, oldValue) {\n      // \tif(this?.item_?.options?.key){\n      // \t\tthis.item_.options.key+=\"_\"\n      // \t\tthis.item_.options.key=this.item_.options.key.replace('__',\"_\")\n      // \t}\n      // \telse if(this?.item_?.options){\n      // \t\tthis.item_.options.key = this.randomKey('lg')\n      // \t}\n      // \telse{\n      // \t\tthis.item_.options={keyy: this.randomKey('lg')}\n\n      // \t}\n\n      // \t// this.item_=this.toWBC(this.clone(this.item))\n      // \tthis.item_=this.toWBC(this.item)\n\n      // \t// this.lg = newValue;\n      // \t// this.$cookies.set('lg', newValue);\n\n      // \t// this.wbcItem = this.toWBC(this.clone(this.item0)),\n      // \t// \tthis.item_ = this.generalVal(\n      // \t// \t\t// el.options,\n      // \t// \t\tthis.wbcItem,\n      // \t// \t\tthis.itemAccessebility,\n      // \t// \t\t// this.lg\n      // \t// \t\tnewValue\n      // \t// \t);\n\n      // \t// this.item_ = this.toWBC(this.clone(this.item))\n\n      // // this.item_ =  this.toWBC(newValue);\n\n      // },\n      // \t{\n      // \t\timmediate: true, // To trigger the handler immediately on initial mount\n      // \t}\n      // );\n    },\n    methods: {\n      // loadLocalFile(h_, el) {\n      //   console.log(\"this.fileContent, el :>> \", el, this.fileContent);\n      //   this.fileContent = null;\n      //   fetch(el) // Fetch the file or API endpoint\n      //     .then((response) => {\n      //       console.log(\"response :>> \", response);\n      //       const contentType = response.headers.get(\"Content-Type\");\n      //       console.log(\n      //         \"Response data:,el \",\n      //         el,\n      //         response,\n      //         response?.data,\n      //         response?.body,\n      //         contentType\n      //       );\n\n      //       if (contentType.includes(\"application/json\")) {\n      //         // Parse the JSON data\n      //         return response.json().then((data) => {\n      //           this.fileContent = h_(\"WBDataViewer\", {\n      //             title: el,\n      //             props: { value: data }, // Use the parsed JSON data\n      //           });\n      //         });\n      //       } else if (contentType.includes(\"image/\")) {\n      //         console.log(\"this :>> \", this);\n      //         this.fileContent = h_(\"img\", {\n      //           attrs: {\n      //             src: el,\n      //           },\n      //           class: \"container\",\n      //           style: {},\n      //           ref: \"rawHtml\",\n      //         });\n      //         console.log(\"this.fileContent :>> \", this.fileContent);\n      //       } else if (\n      //         [\"/html\"].some((e) => contentType.includes(e)) &&\n      //         el.includes(\"html\") &&\n      //         !el.includes(\"?src\")\n      //       ) {\n      //         this.fileContent = h_(\"WBHtml\", {\n      //           ref: \"rawHtml\",\n      //           props: { html: response.data },\n      //         });\n      //       } else if (\n      //         el.toLowerCase().endsWith(\".xlsx\") ||\n      //         el.toLowerCase().endsWith(\".xls\") ||\n      //         contentType.includes(\"excel\")\n      //       ) {\n      //         this.fileContent = h_(\"VueOfficeExcel\", {\n      //           props: {\n      //             src: el,\n      //           },\n      //           class: \"container\",\n      //           style: {},\n      //           ref: \"rawHtml\",\n      //         });\n      //       } else if (\n      //         el.toLowerCase().endsWith(\".docx\") ||\n      //         el.toLowerCase().endsWith(\".doc\") ||\n      //         contentType.includes(\"msword\") ||\n      //         contentType.includes(\"officedocument\")\n      //       ) {\n      //         return response.text().then((data) => {\n      //           this.fileContent = h_(\"WBHtml\", {\n      //             title: el,\n      //             props: { html: data }, // Use the parsed JSON data\n      //           });\n      //         });\n      //         // } else if (\n      //         //   contentType.includes(\"application/doc\") ||\n      //         //   contentType.includes(\"officedocument\")\n      //         // ) {\n      //         // console.log(\"doc,el :>> \", doc, el);\n      //         // this.fileContent = h_(\"VueDocPreview\", {\n      //         //   props: {\n      //         //     value: el,\n      //         //   },\n      //         //   class: \"container\",\n      //         //   style: {},\n      //         //   ref: \"rawHtml\",\n      //         // });\n      //         // this.fileContent = h_(\"VueOfficeExcel\", {\n      //         //   props: {\n      //         //     src: el,\n      //         //   },\n      //         //   class: \"container\",\n      //         //   style: {},\n      //         //   ref: \"rawHtml\",\n      //         // });\n      //       } else if (contentType.includes(\"application/excel\")) {\n      //         this.fileContent = h_(\"VueOfficeExcel\", {\n      //           props: {\n      //             src: el,\n      //           },\n      //           class: \"container\",\n      //           style: {},\n      //           ref: \"rawHtml\",\n      //         });\n      //       } else if (contentType.includes(\"application/pdf\")) {\n      //         alert(\"pdfffffffffffffffffffffffffffff\");\n      //         this.fileContent = h_(\"pdf\", {\n      //           props: {\n      //             src: el,\n      //           },\n      //           class: \"container\",\n      //           style: {},\n      //           ref: \"rawHtml\",\n      //         });\n      //       } else {\n      //         // return response.text().then((data) => {\n      //         //   this.fileContent = h_(\"WBHtml\", {\n      //         //     title: el,\n      //         //     props: { html: data }, // Use the parsed JSON data\n      //         //   });\n      //         // });\n\n      //         this.fileContent = h_(\"VCM\", {\n      //           props: {\n      //             value: JSON.stringify(data), // Ensure value is a string\n      //             ref: \"myCm\",\n      //             tabSize: 14,\n      //             mode: \"application/json\",\n      //             mode: contentType,\n      //             theme: \"default\",\n      //             options: {\n      //               styleActiveLine: true,\n      //               lineNumbers: true,\n      //               line: true,\n      //               foldGutter: true,\n      //               styleSelectedText: true,\n      //               matchBrackets: true,\n      //               showCursorWhenSelecting: true,\n      //               extraKeys: { Ctrl: \"autocomplete\" },\n      //               hintOptions: {\n      //                 completeSingle: !false,\n      //               },\n      //             },\n      //           },\n      //         });\n      //       }\n      //     })\n      //     .catch((error) => {\n      //       this.fileContent = h_(\"div\", {\n      //         attrs: {\n      //           src: el,\n      //           controls: true,\n      //           frameborder: \"0\",\n      //           allow: \"autoplay; encrypted-media\",\n      //           allowfullscreen: true,\n      //           allow:\n      //             \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n      //           referrerpolicy: \"strict-origin-when-cross-origin\",\n      //         },\n      //         class: \"container white\",\n      //         style: {\n      //           resize: \"both\",\n      //           top: 0,\n      //           left: 0,\n      //           height: \"100%\",\n      //           width: \"100%\",\n      //           border: 0,\n      //         },\n      //         ref: \"rawHtml\",\n      //       });\n      //       console.error(\"Error:\", error);\n      //     });\n      // },\n\n      loadLocalFile(h_, el) {\n        let a;\n        if (el.startsWith(\"/\") || el.startsWith(\"./\") || el.startsWith(\"../\")) {\n          a = fetch(el); // Fetch the file or API endpoint\n        } else {\n          a = this.getUrlResponse(el); // Fetch the file or API endpoint\n        }\n        // fetch(el) // Fetch the file or API endpoint\n        a.then((response) => {\n          const contentType = response.headers.get(\"Content-Type\");\n          console.log(\n            \"Response data:,el \",\n            el,\n            response,\n            response?.data,\n            contentType\n          );\n          if (contentType.includes(\"application/json\")) {\n            // Parse the JSON data\n            return response.json().then((data) => {\n              this.fileContent = h_(\"WBDataViewer\", {\n                title: el,\n                props: { value: data }, // Use the parsed JSON data\n              });\n            });\n          } else if (contentType.includes(\"image/\")) {\n            console.log(\"this :>> \", this);\n            this.fileContent = h_(\"img\", {\n              attrs: {\n                src: el,\n              },\n              class: \"container\",\n              style: {},\n              ref: \"rawHtml\",\n            });\n            console.log(\"this.fileContent :>> \", this.fileContent);\n          } else if (\n            [\"/html\"].some((e) => contentType.includes(e)) &&\n            el.includes(\"html\") &&\n            !el.includes(\"?src\")\n          ) {\n            this.fileContent = h_(\"WBHtml\", {\n              ref: \"rawHtml\",\n              props: { html: response.data },\n            });\n          } else if (\n            el.toLowerCase().endsWith(\".xlsx\") ||\n            el.toLowerCase().endsWith(\".xls\") ||\n            contentType.includes(\"excel\")\n          ) {\n            this.fileContent = h_(\"VueOfficeExcel\", {\n              props: {\n                src: el,\n              },\n              class: \"container\",\n              style: {},\n              ref: \"rawHtml\",\n            });\n          } else if (\n            el.toLowerCase().endsWith(\".docx\") ||\n            el.toLowerCase().endsWith(\".doc\") ||\n            contentType.includes(\"msword\") ||\n            contentType.includes(\"officedocument\")\n          ) {\n            return response.text().then((data) => {\n              this.fileContent = h_(\"WBHtml\", {\n                title: el,\n                props: { html: data }, // Use the parsed JSON data\n              });\n            });\n            // } else if (\n            //   contentType.includes(\"application/doc\") ||\n            //   contentType.includes(\"officedocument\")\n            // ) {\n            // console.log(\"doc,el :>> \", doc, el);\n            // this.fileContent = h_(\"VueDocPreview\", {\n            //   props: {\n            //     value: el,\n            //   },\n            //   class: \"container\",\n            //   style: {},\n            //   ref: \"rawHtml\",\n            // });\n            // this.fileContent = h_(\"VueOfficeExcel\", {\n            //   props: {\n            //     src: el,\n            //   },\n            //   class: \"container\",\n            //   style: {},\n            //   ref: \"rawHtml\",\n            // });\n          } else if (contentType.includes(\"application/excel\")) {\n            this.fileContent = h_(\"VueOfficeExcel\", {\n              props: {\n                src: el,\n              },\n              class: \"container\",\n              style: {},\n              ref: \"rawHtml\",\n            });\n          } else if (contentType.includes(\"application/pdf\")) {\n            // alert(\"pdfffffffffffffffffffffffffffff\");\n            this.fileContent = h_(\"pdf\", {\n              props: {\n                src: el,\n              },\n              class: \"container\",\n              style: {},\n              ref: \"rawHtml\",\n            });\n          } else {\n            // alert('code')\n            this.fileContent = h_(\"VCM\", {\n              style: {\n                // resize: 'both',\n                // position: 'absolute',\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                //   border: 0,\n              },\n\n              class: \"container\",\n              props: {\n                value: response?.data || response,\n                ref: \"myCm\",\n                tabSize: 14,\n                // mode: \"text/css\",\n                mode: contentType,\n                // mode: 'text/html',\n                theme: \"default\",\n\n                // lineNumbers: true,\n                // line: true,\n\n                // options: {\n                //   lineWrapping: true, // Enable line wrapping\n                //   viewportMargin: Infinity,\n                //   //Codemirror options\n                // }\n\n                options: {\n                  // tabSize: 4,\n                  styleActiveLine: true,\n                  lineNumbers: true,\n                  line: true,\n                  foldGutter: true,\n                  styleSelectedText: true,\n                  // keyMap: \"sublime\",\n                  matchBrackets: true,\n                  showCursorWhenSelecting: true,\n                  // theme: \"monokai\",\n                  extraKeys: { Ctrl: \"autocomplete\" },\n                  hintOptions: {\n                    completeSingle: !false,\n                  },\n                },\n              },\n              ref: \"rawHtml\",\n            });\n\n            // this.fileContent = h_('WBHtml', { props: { html: response.data } })\n          }\n\n          // else {\n          //   this.fileContent = h_('WBHtml', { props: { html: response.data } })\n\n          //   // this.fileContent = h_('iframe', {\n          //   //   attrs: {\n          //   //     title: el,\n          //   //     src: el,\n          //   //     controls: true,\n          //   //     frameborder: \"0\",\n          //   //     allow: \"autoplay; encrypted-media\",\n          //   //     allowfullscreen: true,\n          //   //     allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n          //   //     referrerpolicy: \"strict-origin-when-cross-origin\"\n          //   //   },\n          //   //   class: 'container',\n          //   //   style: {\n          //   //     resize: 'both',\n          //   //     //  position: 'absolute',\n          //   //     top: 0,\n          //   //     left: 0,\n          //   //     height: '100%',\n          //   //     width: '100%',\n          //   //     border: 0,\n          //   //   },\n          //   //   ref: 'rawHtml',\n          //   // })\n          // }\n\n          // console.log('contentTypeeeeeeeeee :>> ', contentType);\n        }).catch((error) => {\n          this.fileContent = h_(\"iframe\", {\n            attrs: {\n              src: el,\n              controls: true,\n              frameborder: \"0\",\n              allow: \"autoplay; encrypted-media\",\n              allowfullscreen: true,\n              allow:\n                \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n              referrerpolicy: \"strict-origin-when-cross-origin\",\n            },\n            class: \"container white\",\n            style: {\n              resize: \"both\",\n              // position: 'absolute',\n              top: 0,\n              left: 0,\n              height: \"100%\",\n              width: \"100%\",\n              border: 0,\n            },\n            ref: \"rawHtml\",\n          });\n\n          // console.error(\"Error:\", error);\n          // this.fileContent = el//h_('li',[el]); // Set the global variable to the error if it occurs\n        });\n      },\n      // feetchFile() {\n      //   // Fetch the file content\n      //   fetch(\"@/public/pdf0.pdf\")\n      //     .then((response) => response.text())\n      //     .then((data) => {\n      //       this.fileContent = data; // Update the component's data\n      //     })\n      //     .catch((error) => {\n      //       console.error(\"Error loading file:\", error);\n      //     });\n      // },\n      // handleInput(newValue) {\n      // \talert(newValue)\n      // \tthis.internalValue = newValue;\n      // \tthis.$emit('input', newValue);\n      // },\n      // itemAccessebilityFn: function (el) {\n      // \tlet vm=this.$refs?.[el?.options?.ref]\n      // \t// let vm=this.$refs?.[el?.options?.ref]\n      // \t// let WBALERT = this?.WBAlert ? { wbAlert: this.WBAlert } : {};\n      // \treturn {\n      // \t\t// props: vm.?$props,\n      // \t\tdata: el,\n      // \t\t// data0: vm.$data,\n      // \t\tref:()=> this.$refs?.[el?.options?.ref],\n      // \t\tisValid: vm?.valid,\n      // \t\tvm: vm,\n      // \t\tcontext:this,\n      // \t\temit:vm?.$emit ,\n\n      // \t\tupdate: () => {\n      // \t\t\tthis.key_ += 1\n      // \t\t},\n\n      // \t\textData: { keyy: this.$data.extKey_, wrap: this.$data.wrap_, children: this.$data.children_ },\n      // \t\tcompKeyy: () => this.computedKey(),\n\n      // \t\t// keyy:this.$data.key_,\n      // \t\tvNodes: this.$data.vNodes,\n\n      // \t\t// methods: {\n      // \t\t// \trandomColor: this.randomColor,\n      // \t\t// \trandomKeyy: this.randomKey,\n      // \t\t// \tcapitalizeWords: this.capitalizeWords,\n      // \t\t// \tgetRandomInt: this.getRandomInt,\n      // \t\t// \tisVnode: this.isVnode,\n      // \t\t// \tstringToJson: this.stringToJson,\n      // \t\t// \tcompFunc: this.compFunc,\n      // \t\t// \tanyMatchInArray: this.anyMatchInArray,\n      // \t\t// \tstrToObj: this.strToObj,\n      // \t\t// \ttoTitleCase: this.toTitleCase,\n      // \t\t// \tgeneralVal: this.generalVal,\n      // \t\t// },\n      // \t\tlg:{lang: this.lang,get: ()=>this?.$store?.state?.lg || 'en', set:(langage)=>{this.$store.commit('updateLang',langage)}},\n\n      // \t\tuser: this?.$store?.state?.user,\n      // \t\tloggedIn: this?.$store?.state?.loggedIn || false,\n\n      // \t\tqueryData: this.queryData,\n      // \t\taes: {\n      // \t\t\tenc: this.aesEnc,\n      // \t\t\tdec: this.aesDec,\n      // \t\t},\n      // \t\tvalidators: {\n      // \t\t\t...validators,\n      // \t\t},\n      // \t\tcookies: {\n      // \t\t\t...VueCookies,\n      // \t\t\tstate:this.getCookies\n      // \t\t},\n      // \t\tstorage:localStorage,\n      // \t\tproto: app?.prototype || {},\n      // \t\trouteParams: this?.$route?.params,\n      // \t\tmoment: this.$moment,\n      // \t\t// $watch: this.$watch,\n      // \t\tstore: this.$store,\n      // \t\trouter: this.$router,\n      // \t\t// options: this.$options,\n      // \t\t// cls: app,\n      // \t\talert: this.alert,\n      // \t\t// alertObjs:this.alertObjs\n      // \t};\n\n      // },\n\n      options(el) {\n        // console.log('oooooooooooooo',el)\n\n        // el.options.ref=refName\n        // el.ref = () => this?.$refs[refName]\n\n        // if (options?.global) {\n        // \t\t\t\t\tglobal[options?.global] = this.itemAccessebility;\n        // \t\t\t\t\tglobal[options?.global + '_vm_context'] = this;\n\n        // \t\t\t\t}\n\n        let theOpts =\n          el?.switch === true\n            ? el?.hOptions || el?.options\n            : el?.options || el?.hOptions;\n\n        if (!theOpts) {\n          return el;\n        }\n\n        theOpts = {\n          ...theOpts,\n          ...(this.menu\n            ? theOpts?.menu?.activeOptions\n            : theOpts?.menu?.active\n            ? theOpts?.menu?.activeRootOptions\n            : {}), //\n        };\n\n        // theOpts.props={...(theOpts?.props||{}),...(this.$refs?.[el?.options?.ref]()?.$props||{})}\n        // this.$listners['click:append']=()=>alert(5555555555555555555)\n        // console.log(9999999999999999999,this)\n\n        let listenersObj = theOpts?.on || {};\n        // let listenersObj = theOpts?.on || {};\n        // let selectItemOptions\n\n        /////////////////////props management //////////////////////////\n        // theOpts.props={...(theOpts?.props||{}),...(theOpts?.props_||{})}\n        // if(theOpts?.props){theOpts.props.value= theOpts?.val||theOpts.props.value}\n        /////////////////////Rules management //////////////////////////\n\n        let rules = [];\n\n        if (Array.isArray(theOpts?.rules) /* && rules !== null */) {\n          // alert('rules')\n\n          rules = (theOpts?.rules || []).map((key) => {\n            if (this.validators?.[key]) {\n              return (v) => this.validators[key](v, { lg: this.lang });\n            } else {\n              return key;\n            }\n          });\n        } else if (typeof theOpts?.rules == \"object\") {\n          rules = Object.entries(theOpts?.rules).map(([key, val]) => {\n            if (this.validators?.[key] && typeof val == \"function\") {\n              return val;\n            } else if (this.validators?.[key] && typeof val == \"object\") {\n              return (v) => this.validators[key](v, val);\n            } else {\n              return (v) =>\n                this.validators[key](v, { lg: this.lang, message: val });\n            }\n          });\n        }\n\n        if (!theOpts?.props) {\n          theOpts.props = {};\n        }\n\n        if (rules.length >= 1) {\n          theOpts.props.rules = rules;\n        }\n\n        /////////////////////attrs management //////////////////////////\n\n        // theOpts.attrs={...(theOpts?.attrs||{}),...(this?.$attrs||{})}\n\n        // theOpts.attrs = {...theOpts?.attrs,...this.$attrs,...(this.$refs[el?.options?.ref]?.$attrs||{})}\n        // theOpts.attrs = {...theOpts?.attrs,...(this.$refs[el?.options?.ref]?.$listeners||{})}\n        // Object.entries(theOpts?.attrs).map(([key, val]) => {attrs[key]=\n\n        /////////////////////event Listeners management //////////////////////////\n\n        // this.itemListeners={...(theOpts?.on||{})};\n\n        if (/* el?.hComp||el?.hOptions|| */ typeof el?.switch == \"boolean\") {\n          // customListeners.mouseover = (event) => {\n          this.itemListeners[el?.switchEvent || \"mouseenter\"] = (event) => {\n            // this.itemListeners.mousover = (event) => {\n\n            // console.log(333333333333333333333333,event)\n            // el.switch = true\n            el.switch = !el.switch;\n            // even.stopPropagation()\n\n            // options=el.options\n            // comp=comp\n            // header=el.header\n            // footer=el.footer\n\n            // alert('ggggggggg')\n          };\n        } else {\n          el.options = el[el?.switch || \"options\"];\n        }\n        // }\n\n        // theOpts.on = this.itemListeners;\n\n        return this.objLang(theOpts, this.lang);\n        // options=this.objLang(options,this.lang),\n      },\n      comp(el) {\n        let theComp =\n          el?.switch === true ? el?.hComp || el?.comp : el?.comp || el?.hComp;\n        if (typeof theComp == \"string\") {\n          return theComp\n            .replace(\"~\", \"\")\n            .replace(\"*\", \"\")\n            .replace(\"<\", \"\")\n            .replace(\">\", \"\");\n        }\n        return theComp;\n      },\n      globalHeaderVN(el, h_) {\n        let header =\n          el?.switch === true\n            ? el?.hHeader || el?.header\n            : el?.header || el?.hHeader;\n\n        // console.log('header :>> ', header);\n        if (!header) return null;\n        return h_(\"WBC\", {\n          /* keyy: `wbc-key-header-${this.computedKey(el?.options?.key)}`, */ props:\n            { item: header },\n        });\n        // return this.toWBC_(header,h_)\n      },\n      globalFooterVN(el, h_) {\n        let footer =\n          el?.switch === true\n            ? el?.hFooter || el?.footer\n            : el?.footer || el?.hFooter;\n        if (!footer) return null;\n        return h_(\"WBC\", {\n          /* keyy: `wbc-key-footer-${this.computedKey(el?.options?.key)}`, */ props:\n            { item: footer },\n        });\n      },\n      insideHeadersVN(el, h_) {\n        let headers =\n          el?.switch === true\n            ? el?.hOptions?.headers || el?.options?.headers\n            : el?.options?.headers || el?.hOptions?.headers;\n        if (!headers) return null;\n        return this.toWBC_(headers, h_);\n\n        return h_(\"WBC\", {\n          /* key: `wbc-key-headers-${this.computedKey(el?.options?.key)}`, */ props:\n            { item: headers },\n        });\n      },\n      insideFootersVN(el, h_) {\n        let footers =\n          el?.switch === true\n            ? el?.hOptions?.footers || el?.options?.footers\n            : el?.options?.footers || el?.hOptions?.footers;\n        if (!footers) return null;\n        return this.toWBC_(footers, h_);\n        return h_(\"WBC\", {\n          /* key: `wbc-key-footers-${this.computedKey(el?.options?.key)}`, */ props:\n            { item: footers },\n        });\n      },\n\n      // footers(el){\n      // \treturn el?.switch===true?el?.hOptions?.footers||el?.options?.footers:el?.options?.footers||el?.hOptions?.footers\n      // },\n      html(el) {\n        if (!this.isPlainObject(el)) {\n          return el;\n        }\n        return el?.switch === true\n          ? el?.hOptions?.html || el?.options?.html\n          : el?.options?.html || el?.hOptions?.html;\n      },\n\n      computedKey(key = \"\") {\n        return `${key}-${this?.key_}-${this.baseKey || \"\"}-${\n          this.item_?.options?.val?.length || \"\"\n        }-${this.item_?.options?.float || \"\"}`;\n\n        // return `${this?.item_?.options?.key}`\n      },\n      // itemListeners(options){\n      // \treturn {}\n      // \treturn options?.on||{}\n      // },\n      // itemListeners:function(el){\n      // \tlet listenersObj={...this.$listeners}\n\n      // \tif (this.isPlainObject(el)){\n      // \t\tlistenersObj={\n      // \t\t\t...this.$listeners,\n      // \t\t... (el?.switch===true?el?.hOptions?.on||el?.options?.on:el?.options?.on||el?.hOptions?.on||{}),\n      // \t\t// ...this.$parent.$listeners, // Access the parent component's $listeners\n      // \t\t// ...(el?.options?.on||{}), // Merge with the listeners defined in this.obj.options.on\n      // \t\t// ...this.$listeners, // Pass all listeners to the VMenu component\n      // \t}\n\n      // \tif (/* el?.hComp||el?.hOptions|| */typeof el?.switch=='boolean') {\n\n      // \t\t// customListeners.mouseover = (event) => {\n      // \t\tlistenersObj[el?.switchEvent||'mouseenter'] = (event) => {\n      // \t\t// listenersObj.mousover = (event) => {\n\n      // \t\t\t// console.log(333333333333333333333333,event)\n      // \t\t\t// el.switch = true\n      // \t\t\tel.switch = !el.switch\n      // \t\t\t// even.stopPropagation()\n\n      // \t\t\t// options=el.options\n      // \t\t\t// comp=comp\n      // \t\t\t// header=el.header\n      // \t\t\t// footer=el.footer\n\n      // \t\t\t// alert('ggggggggg')\n\n      // \t\t}\n      // \t\t// listenersObj.mouseleave = (event) => {\n      // \t\t// \tel.switch = !true\n      // \t\t// \t// even.stopPropagation()\n\n      // \t\t// \t// options=el.hOptions\n      // \t\t// \t// comp=el.hComp\n      // \t\t// \t// header=el.hHeader\n      // \t\t// \t// footer=el.hFooter\n\n      // \t\t// }\n      // \t}\n      // \telse{\n\n      // \t\tel.options=el[el?.switch||'options']\n      // \t}\n      // \t}\n\n      // \t// this.$store.state.propagation = [];\n\n      // \t\t// listenersObj.mousedown= (event)=>{\n\n      // \t\t// \t\t// alert(5555)\n\n      // \t\t// \t\t// this.key_+=1\n\n      // \t\t// \t\tlet nameToDisp = typeof el?.options?.global == 'string' ? options?.global : ''\n\n      // \t\t// \t\tif (event.button === 1) {\n      // \t\t// \t\t\tlet propagation = this.$store.state.propagation || [];\n\n      // \t\t// \t\t\tif (event.altKey) {\n      // \t\t// \t\t\t\tglobal[`el`] = this.itemAccessebility;\n      // \t\t// \t\t\t\talert('dddddddddddddddddd'+this?.select+this?.select)\n      // \t\t// \t\t\t\t// Check if Ctrl key is pressed at the time of the click\n      // \t\t// \t\t\t\t// if (event.ctrlKey) { }\n\n      // \t\t// \t\t\t\tthis.$store.state.propagation = []\n      // \t\t// \t\t\t\t// this.alert(el)\n      // \t\t// \t\t\t\t// event.stopPropagation(); // Prevent the click event from bubbling up\n      // \t\t// \t\t\t\tthis.select =!this?.select\n      // \t\t// \t\t\t\tthis.select =!this?.select\n\n      // \t\t// \t\t\t\t// console.log('eeeeeeeeeee',el,event,nameToDisp.length,this.select)\n\n      // \t\t// \t\t\t\tglobal[`el`] = this.itemAccessebility;\n      // \t\t// \t\t\t}\n      // \t\t// \t\t\telse if (event.shiftKey) {\n\n      // \t\t// \t\t\t\tthis.$store.state.propagation.forEach((e, i) => {\n\n      // \t\t// \t\t\t\t\tdelete global[`parent${i}`]\n      // \t\t// \t\t\t\t\t// alert('pppppppppppp' + propagation)\n\n      // \t\t// \t\t\t\t});// global['ele'] = propagation[propagation.length - 1];\n\n      // \t\t// \t\t\t\tthis.select = false\n      // \t\t// \t\t\t\tthis.select =false\n      // \t\t// \t\t\t\tdelete global['ele'];\n      // \t\t// \t\t\t\tdelete global['eles'];\n      // \t\t// \t\t\t}\n\n      // \t\t// \t\t\t\t// if (event.shiftKey)\n      // \t\t// \t\t\t\t// {\n\n      // \t\t// \t\t\t\telse\n      // \t\t// \t\t\t\t{\n\n      // \t\t// \t\t\t\t\tconsole.log(`WBC  ${propagation.length >= 1 ? `parent` : 'el'}${propagation.length >= 1 ? propagation.length:''} ${nameToDisp} ==> el :>>`, el);\n      // \t\t// \t\t\t\t\tthis.$store.state.propagation = [...propagation, this.itemAccessebility]\n\n      // \t\t// \t\t\t\t\tpropagation.push(this.itemAccessebility)\n      // \t\t// \t\t\t\t\tpropagation.forEach((e, i) => {\n      // \t\t// \t\t\t\t\t\tif (i == 0) {\n      // \t\t// \t\t\t\t\t\t\tglobal[`el`] = e;\n      // \t\t// \t\t\t\t\t\t\t// el.options.style={...(el?.options?.style||{}),border:`10px solid black`}\n      // \t\t// \t\t\t\t\t\t\t// el.options.class='pa-15 ma-15'\n\n      // \t\t// \t\t\t\t\t\t}\n      // \t\t// \t\t\t\t\t\telse {\n      // \t\t// \t\t\t\t\t\t\tglobal[`parent${i}`] = e;\n      // \t\t// \t\t\t\t\t\t}\n\n      // \t\t// \t\t\t\t\t});// global['ele'] = propagation[propagation.length - 1];\n      // \t\t// \t\t\t\t\tglobal['eles'] = propagation;\n      // \t\t// \t\t\t\t}\n\n      // \t\t// \t\t}\n\n      // \t\t// }\n      // \t\t// listenersObj.mouseup= (event)=>{\n\n      // \t\t// \t\t// this.select = null\n      // \t\t// \t\tif (event.button === 1) {\n      // \t\t// \t\t\tthis.$store.state.propagation = [];\n\n      // \t\t// \t\t\t// event.stopPropagation(); // Prevent the click event from bubbling up\n\n      // \t\t// \t\t\t// alert( selectItemOptions )\n      // \t\t// \t\t}\n\n      // \t\t// }\n\n      // \t\treturn listenersObj\n\n      // },\n\n      // itemAttrs:function(el){\n\n      // \tlet attrs={...(this?.$attrs||{})}\n\n      // \tif(el instanceof Object ) {\n      // \t\t\tattrs={...attrs,...(this?.$attrs||{})}\n      // \t\t}\n      // \treturn attrs\n      // },\n      // itemRules:function(options){\n\n      // \tlet rules=[]\n\n      // \tif (Array.isArray(options?.rules) /* && rules !== null */) {\n      // \t\t// alert('rules')\n\n      // \t\t\t\t\t\t\t\trules = (options?.rules||[]).map(key => {\n\n      // \t\t\t\t\t\t\t\t\tif (this.validators?.[key]) {\n      // \t\t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, { lg: this.lang })\n      // \t\t\t\t\t\t\t\t\t}\n      // \t\t\t\t\t\t\t\t\telse {\n\n      // \t\t\t\t\t\t\t\t\t\treturn key\n      // \t\t\t\t\t\t\t\t\t}\n      // \t\t\t\t\t\t\t\t})\n      // \t\t\t\t\t\t\t}\n\n      // \t\t\t\t\t\t\telse if (typeof options?.rules == 'object' ) {\n\n      // \t\t\t\t\t\t\t\trules = Object.entries(options?.rules).map(([key, val]) => {\n      // \t\t\t\t\t\t\t\t\tif (this.validators?.[key] && typeof val == 'function') {\n      // \t\t\t\t\t\t\t\t\t\treturn val\n      // \t\t\t\t\t\t\t\t\t}\n      // \t\t\t\t\t\t\t\t\telse if (this.validators?.[key] && typeof val == 'object') {\n      // \t\t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, val)\n      // \t\t\t\t\t\t\t\t\t}\n      // \t\t\t\t\t\t\t\t\telse {\n      // \t\t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, { lg: this.lang, message: val })\n\n      // \t\t\t\t\t\t\t\t\t}\n      // \t\t\t\t\t\t\t\t})\n      // \t\t\t\t\t\t\t}\n\n      // \t\t\t\t\t\t\treturn rules\n      // },\n      // alert(...itemsProps) {\n      // \tthis.alertObjs = [...itemsProps];\n      // \t// this.alertObjs = [...itemsProps]\n      // },\n      getCookies() {\n        const cookieKeys = this.$cookies.keys();\n        let cooks = {};\n        // Fetch and set the values for each key\n        cookieKeys.forEach((key) => {\n          cooks[key] = this.$cookies.get(key);\n        });\n        return cooks;\n      },\n      handleMouseUp(event) {\n        if (event.button === 1) {\n          // this.$store.state.propagation = [];\n          // this.select\t=false\n          // event.stopPropagation(); // Prevent the click event from bubbling up\n          // alert( selectItemOptions )\n        }\n      },\n      handleMouseDown(event) {\n        // alert(5555)\n\n        // this.key_+=1\n\n        // let nameToDisp = typeof options?.global == 'string' ? options?.global : ''\n\n        if (event.button === 1) {\n          // let propagation = this.$store.state.propagation || [];\n\n          if (event.altKey) {\n            this.select = !this.select;\n            // this.select=true\n            // console.log('eeeeeeeeeee',el,event,nameToDisp.length)\n            // Check if Ctrl key is pressed at the time of the click\n            // if (event.ctrlKey) { }\n\n            // this.$store.state.propagation = []\n            event.stopPropagation(); // Prevent the click event from bubbling up\n            // this.alert(el)\n            // global[`el`] = this.itemAccessebility;\n            // selectItemOptions = { class: 'pa-5 ma-5', style: { \"backgroundColor\": this.randomColor(), border: '2px dashed black' } }\n            // selectItemOptions.attrs = { title: 'WBC ' + `${propagation.length >= 1 ? 'parent ' : ''}` + nameToDisp + '===>' + JSON.stringify(el) }\n          }\n          // else if (event.shiftKey) {\n\n          // \tthis.$store.state.propagation.forEach((e, i) => {\n\n          // \t\tdelete global[`parent${i}`]\n          // \t\t// alert('pppppppppppp' + propagation)\n\n          // \t});// global['ele'] = propagation[propagation.length - 1];\n\n          // \tselectItemOptions = {}\n          // \tdelete global['ele'];\n          // \tdelete global['eles'];\n          // }\n\n          // if (event.shiftKey)\n          // {\n\n          // \t\telse {\n\n          // \t\t\tconsole.log(`WBC  ${propagation.length >= 1 ? `parent` : 'el'}${propagation.length >= 1 ? propagation.length:''} ${nameToDisp} ==> el :>>`, el);\n          // \t\t\tthis.$store.state.propagation = [...propagation, this.itemAccessebility]\n\n          // \t\t\tpropagation.push(this.itemAccessebility)\n          // \t\t\tpropagation.forEach((e, i) => {\n          // \t\t\t\tif (i == 0) {\n          // \t\t\t\t\tglobal[`el`] = e;\n\n          // \t\t\t\t}\n          // \t\t\t\telse {\n          // \t\t\t\t\tglobal[`parent${i}`] = e;\n          // \t\t\t\t}\n\n          // \t\t\t});// global['ele'] = propagation[propagation.length - 1];\n          // \t\t\tglobal['eles'] = propagation;\n          // \t\t}\n        }\n      },\n\n      // compFunc,\n      // randomKeyy: function (par, integer = 10000) {\n      // \tlet theKey = randomKey(par + '_key_', integer);\n      // \treturn theKey;\n      // },\n      // generalVal,\n      // randomColor,\n\n      aesEnc: (plaintext, key, iv) => aesEnc(plaintext, key, iv, app.CryptoJS),\n      aesDec: (plaintext, key, iv) => aesDec(plaintext, key, iv, app.CryptoJS),\n      // clone,\n      // queryData,\n      startDrag(event) {\n        this.draggable = true;\n        this.dragStartX = event.clientX;\n        this.dragStartY = event.clientY;\n      },\n      doDrag(event, sensibility) {\n        if (this.draggable) {\n          this.offsetX = (event.clientX - this.dragStartX) * sensibility;\n          this.offsetY = (event.clientY - this.dragStartY) * sensibility;\n        }\n      },\n      endDrag() {\n        this.draggable = false;\n      },\n\n      ////////////////htmlSrc: .....//////////////////\n      // itemVns(el,h_, el0 = this.item0) {\n      // \tlet VN = {\n      // \t\t// ...(this.mainRender(el)?{mainRender: this.mainRender(el)}:{}),\n      // \t\t...(this.floatCloseDrag(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\tclose: this.floatCloseDrag(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.float(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\tfloat: this.float(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.itemSrc(el0, el0,h_)\n      // \t\t\t? {\n      // \t\t\t\t\titemSrc: this.itemSrc(el0, el0,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.wbcProps(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\twbcProps: this.wbcProps(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.allOptions(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\tallOptions: this.allOptions(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.gAttrs(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\tgAttrs: this.gAttrs(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.hAttrs(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\thAttrs: this.hAttrs(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.vProps(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\tvProps: this.vProps(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.htmlSrc(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\thtmlSrc: this.htmlSrc(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.wbcSrc(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\twbcSrc: this.wbcSrc(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t\t...(this.wbcSyn(el,h_)\n      // \t\t\t? {\n      // \t\t\t\t\twbcSyn: this.wbcSyn(el,h_),\n      // \t\t\t  }\n      // \t\t\t: {}),\n      // \t};\n      // \treturn VN;\n      // },\n      ////////////////htmlSrc: .....//////////////////\n      htmlSrc(el_, h_) {\n        let el = this.generalVal(\n          el_,\n          this.itemAccessebility\n          // this.lang\n        );\n        if (!el?.comp) {\n          return null;\n        }\n        let htmlSrcDefault = {};\n        if (!el?.options?.htmlSrc) {\n          return null;\n        } else if (el?.options?.htmlSrc === true) {\n          htmlSrcDefault = {\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              // content: `${el.comp}- Tag (HTML Code source)`,\n              content: `HTML Code source`,\n            },\n          };\n        }\n        let htmlSrcItemAttrs = Object.keys(el?.options || {});\n        // if(el?.options?.mode != 'dev'){\n        //   htmlSrcItemAttrs =htmlSrcItemAttrs.filter(e=>['wrap', 'key', 'class',\n        //     'hide', 'load', 'html', 'props', 'ref', 'header', 'footer', 'style', 'val'\n        // ].includes(e))\n        // }\n\n        htmlSrcItemAttrs = htmlSrcItemAttrs.sort().map((e) => {\n          if (el.options[e])\n            return h_(\n              el.options.htmlSrc?.items?.comp ||\n                htmlSrcDefault?.items?.comp ||\n                \"span\",\n              {\n                ...(el.options.htmlSrc?.items?.options ||\n                  htmlSrcDefault?.items?.options ||\n                  {}),\n              },\n              [\n                h_(\n                  \"span\",\n                  {\n                    style: {\n                      color: \"#42b983\",\n                    },\n                  },\n                  ` :${e}=`\n                ),\n                `'${JSON.stringify(el.options[e])}'`,\n              ]\n            );\n        });\n\n        return [\n          h_(\n            el?.options?.htmlSrc?.title?.comp ||\n              htmlSrcDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el?.options?.htmlSrc?.title?.options ||\n                htmlSrcDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.htmlSrc?.title?.content ||\n              htmlSrcDefault?.title?.content ||\n              \"HTML Code source\"\n          ),\n          h_(\n            el?.options?.htmlSrc?.wrap?.comp ||\n              htmlSrcDefault?.wrap?.comp ||\n              \"VCard\",\n            {\n              ...(el?.options?.htmlSrc?.wrap?.options ||\n                htmlSrcDefault?.wrap?.options ||\n                {}),\n            },\n            [\n              h_(\"code\", {}, [\n                h_(\n                  \"span\",\n                  {\n                    style: {\n                      color: \"#fc1e70\",\n                    },\n                  },\n                  [\"<\", el?.comp || \"\".replace(\"~\", \"\")]\n                ),\n                // htmlSrcItemOption,\n                htmlSrcItemAttrs,\n                h_(\n                  \"span\",\n                  {\n                    style: {\n                      color: \"#fc1e70\",\n                    },\n                  },\n                  \">\"\n                ),\n                h_(\n                  \"span\",\n                  {\n                    style: {\n                      color: \"#fc1e70\",\n                    },\n                  },\n                  [\"</\", el?.comp || \"\".replace(\"~\", \"\"), \">\"]\n                ),\n              ]),\n            ]\n          ),\n        ];\n      },\n\n      ////////////////hAttrs: .....//////////////////\n      hAttrs(el, h_) {\n        let hAttrsDefault = {};\n        if (!html_ressources.html_tags?.[el.comp]) {\n          return null;\n        }\n        if (!el?.options?.hAttrs) {\n          return null;\n          // el = this.item_;\n        } else if (el?.options?.hAttrs === true) {\n          hAttrsDefault = {\n            items: {\n              wrap: {\n                comp: \"VCol\",\n                options: {\n                  props: {\n                    /* cols:'auto', */\n                    sm: \"12\",\n                    md: \"6\",\n                    lg: \"4\",\n                    xl: \"3\",\n                  },\n                },\n              },\n              options: {\n                class: \"container blue\",\n              },\n            },\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-2 ma-2`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              content: `\"${el.comp}\" - Attributes`,\n            },\n          };\n        }\n\n        let hAttrs = html_ressources.html_tags[el.comp].attrs;\n        let hDesc = html_ressources.html_tags[el.comp].desc;\n        let hType = html_ressources.html_tags[el.comp].type;\n        let hBrowser = JSON.stringify(\n          html_ressources.html_tags[el.comp].browser\n        );\n        console.log(\"hAttrs :>> \", hAttrs);\n        // Object.keys(hAttrs).forEach(key => {\n        //   this.item_.options.attrs[key]??= '';\n        // })\n        // console.log('hAttrs :>> ', );\n        // el.options.attrs=\n        // el = this.item_;\n        let renderedItems = Object.keys(hAttrs).map((key) => {\n          let attrsObj = {\n            label: key,\n            value: [\"class\"].includes(key)\n              ? el?.options?.[key]\n              : el?.options?.attrs?.[key] || \"\",\n            title: hAttrs[key].desc,\n          };\n\n          try {\n            let theValue = this.generalVal(\n              el?.options?.attrs[key],\n              this.itemAccessebility,\n              this.lang\n            );\n            attrsObj[\"value\"] = theValue;\n\n            if (typeof theValue == \"string\") {\n              attrsObj[\"value\"] = `${theValue}`;\n              attrsObj[\"hint\"] = `${theValue}`;\n            } else if (typeof theValue == \"function\") {\n              attrsObj[\"value\"] = theValue(this.itemAccessebility);\n              attrsObj[\"hint\"] = `${theValue}`;\n            }\n            if (typeof el?.options?.attrs?.[key] == \"object\") {\n              attrsObj[\"value\"] =\n                typeof theValue == \"object\"\n                  ? `${JSON.stringify(theValue)}`\n                  : theValue;\n              attrsObj[\"hint\"] = `src=${JSON.stringify(\n                el?.options?.attrs?.[key]\n              )}`;\n            } else {\n              attrsObj[\"hint\"] =\n                typeof el?.options?.props?.[key] == \"object\"\n                  ? `src=${JSON.stringify(el?.options?.props?.[key])}`\n                  : el?.options?.props?.[key] ||\n                    // 'Use js template mode for data types';\n                    hAttrs[key].desc;\n            }\n            attrsObj[\"persistent-hint\"] = true;\n          } catch (error) {\n            attrsObj[\"errorMessages\"] = error.message;\n            attrsObj[\"persistent-hint\"] = true;\n          }\n\n          if (key != \"hidden\") {\n            let aRenderedItem = h_(\n              typeof el?.options?.attrs?.[key] == \"boolean\"\n                ? \"VCheckbox\"\n                : \"VTextField\",\n              {\n                props: {\n                  // [key]: el?.options?.attrs?.[key]\n                },\n                ...(el?.options?.hAttrs?.items?.options ||\n                  hAttrsDefault?.items?.options ||\n                  {}),\n                attrs: attrsObj /* {\n\t\t\t\t\t\t\t\t\tlabel: key,\n\t\t\t\t\t\t\t\t\tvalue: ['class'].includes(key)\n\t\t\t\t\t\t\t\t\t\t? el?.options?.[key]\n\t\t\t\t\t\t\t\t\t\t: el?.options?.attrs?.[key] || '',\n\t\t\t\t\t\t\t\t\ttitle: hAttrs?.[key]?.desc,\n\t\t\t\t\t\t\t\t\thint: hAttrs?.[key]?.desc,\n\t\t\t\t\t\t\t\t\t'persistent-hint': true,\n\t\t\t\t\t\t\t\t} */,\n\n                on: {\n                  // input: (inputVal) => {\n                  // \tel.options.attrs = {\n                  // \t\t...el.options.attrs,\n                  // \t\t[key]: inputVal,\n                  // \t};\n                  // \t// el.options.key += '_';\n                  // \t// el.options.key = el.options.key.replace('__', '_');\n                  // },\n                  change: (inputVal) => {\n                    // alert(inputVal)\n                    // console.log('elrrrrrrrrrr :>> ', el);\n                    el.options.attrs[key] = this.generalVal(\n                      this.strToObj(inputVal),\n                      this.itemAccessebility\n                      // this.lg\n                    );\n                    // el.options.attrs = {\n                    //   ...el.options.attrs,\n                    //   [key]: this.generalVal(\n                    //     this.strToObj(inputVal),\n                    //     this.itemAccessebility\n                    //     // this.lg\n                    //   ),\n                    //   // [key]: inputVal\n                    // };\n                    el.options.key = this.updateKey(el?.options?.key);\n\n                    // el.options.key = el.options.key.replace('__', '_');\n                  },\n                  // update: (inputVal) => {\n                  // \tel.options.attrs = {\n                  // \t\t...el.options.attrs,\n                  // \t\t[key]: inputVal,\n                  // \t};\n                  // \t// el.options.key += '_';\n                  // \t// el.options.key = el.options.key.replace('__', '_');\n                  // },\n                },\n              }\n            );\n            return h_(\n              el?.options?.hAttrs?.items?.wrap.comp ||\n                hAttrsDefault?.items?.wrap?.comp ||\n                \"div\",\n              {\n                ...(el?.options?.hAttrs?.items?.wrap?.options ||\n                  hAttrsDefault?.items?.wrap?.options),\n              },\n              [aRenderedItem]\n            );\n          }\n        });\n\n        return [\n          h_(\n            el?.options?.hAttrs?.title?.comp ||\n              hAttrsDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el?.options?.hAttrs?.title?.options ||\n                hAttrsDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.hAttrs?.title?.content ||\n              hAttrsDefault?.title?.content ||\n              \"HTML Attributes\"\n          ),\n          h_(\"div\", {}, [h_(\"b\", { class: \"pa-1\" }, \"Description:\"), hDesc]),\n          h_(\"div\", {}, [h_(\"b\", { class: \"pa-1\" }, \"Type:\"), hType]),\n          h_(\"div\", {}, [h_(\"b\", { class: \"pa-1\" }, \"Browser:\"), hBrowser]),\n          h_(\n            el?.options?.hAttrs?.wrap?.comp ||\n              hAttrsDefault?.wrap?.comp ||\n              \"VRow\",\n            {\n              ...(el?.options?.hAttrs?.wrap?.options ||\n                hAttrsDefault?.wrap?.options ||\n                {}),\n            },\n            [renderedItems]\n          ),\n        ];\n      },\n      ////////////////wbcSrc: .....//////////////////\n      wbcSrc(el, h_) {\n        let wbcSrcDefault = {};\n        if (!el?.comp) {\n          return null;\n        }\n        if (!el?.options?.wbcSrc) {\n          return null;\n        } else if (el?.options?.wbcSrc === true) {\n          wbcSrcDefault = {\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              content: \"WBC Code source\",\n            },\n          };\n        }\n\n        let wbcItemToExcludes = [\n          \"mainRender\",\n          \"close\",\n          \"float\",\n          \"allOptions\",\n          \"wbcProps\",\n          \"hAttrs\",\n          \"vAttrs\",\n          \"itemSrc\",\n          \"htmlSrc\",\n          \"wbcSrc\",\n          \"vProps\",\n        ];\n        let wbcSrcItemAttrs = Object.keys(el.options)\n          .filter((e) => !wbcItemToExcludes.includes(e))\n          .sort()\n          .map((e) => {\n            if (el.options[e])\n              return h_(\n                el.options.wbcSrc?.items?.comp ||\n                  wbcSrcDefault?.items?.comp ||\n                  \"span\",\n                {\n                  ...(el.options.wbcSrc?.items?.options ||\n                    wbcSrcDefault?.items?.options ||\n                    {}),\n                },\n                [\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#42b983\",\n                      },\n                    },\n                    ` :${e}=`\n                  ),\n                  `'${JSON.stringify(el.options[e])}' `,\n                ]\n              );\n          });\n\n        return [\n          h_(\n            el?.options?.wbcSrc?.title?.comp ||\n              wbcSrcDefault?.title?.comp ||\n              \"div\",\n            {\n              class: \"container\",\n              ...(el?.options?.wbcSrc?.title?.options ||\n                wbcSrcDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.wbcSrc?.title?.content ||\n              wbcSrcDefault?.title?.content ||\n              \"Global Attributes\"\n          ),\n          h_(\n            el?.options?.wbcSrc?.wrap?.comp ||\n              wbcSrcDefault?.wrap?.comp ||\n              \"VCard\",\n            {\n              ...(el?.options?.wbcSrc?.wrap?.options ||\n                wbcSrcDefault?.wrap?.options ||\n                {}),\n            },\n            [\n              h_(\n                \"code\",\n                {\n                  class: \"ma-5\",\n                },\n                [\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    [\"<\", el?.comp || \"\".replace(\"~\", \"\")]\n                  ),\n                  // wbcSrcItemOption,\n                  wbcSrcItemAttrs,\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    \">\"\n                  ),\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    [\"</\", el?.comp || \"\".replace(\"~\", \"\"), \">\"]\n                  ),\n                ]\n              ),\n            ]\n          ),\n        ];\n      },\n\n      ////////////////itemSrc: .....//////////////////\n      itemSrc(el, el0, h_) {\n        let itemSrcDefault = {};\n        if (!el?.options?.itemSrc) {\n          return null;\n        } else if (el?.options?.itemSrc === true) {\n          itemSrcDefault = {\n            wrap: {\n              comp: \"VCol\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              content: \"WBC Item\",\n            },\n          };\n        }\n\n        return [\n          h_(\n            el?.options?.itemSrc?.title?.comp ||\n              itemSrcDefault?.title?.comp ||\n              \"div\",\n            {\n              ...(el?.options?.itemSrc?.title?.options ||\n                itemSrcDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.itemSrc?.title?.content ||\n              itemSrcDefault?.title?.content ||\n              \"WBC Item\"\n          ),\n\n          h_(\n            el?.options?.itemSrc?.wrap?.comp ||\n              itemSrcDefault.wrap.comp ||\n              \"VRow\",\n            {\n              ...(el?.options?.itemSrc?.wrap?.options ||\n                itemSrcDefault?.wrap?.options ||\n                {}),\n            },\n            [\n              h_(\"code\", [\n                h_(\"VTextarea\", {\n                  props: {\n                    value: JSON.stringify(el),\n                  },\n                  on: {\n                    change: (val) => {\n                      // alert(v)\n                      this.mainItemTextArea.rules = [];\n                      try {\n                        let newEle = this.toWBC_(JSON.parse(val), h_);\n\n                        // newEle.options.itemSrc=true\n\n                        // newEle.options.mode=el.options.mode\n                        // newEle.options.wbcProps=el.options.wbcProps\n                        // let newEle=this.strToObj(e)\n                        // newEle.options.wbcProps=el.options.wbcProps\n                        // if(typeof newEle=='object'){\n                        // \tnewEle.output=el.output\n                        // }\n                        if (typeof el == \"object\") {\n                          if (Array.isArray(newEle)) {\n                            newEle.forEach((ee) => {\n                              if (el?.output) {\n                                ee.output = el.output;\n                              }\n                              if (el?.options?.mode) {\n                                ee.options.mode = el.options.mode;\n                              }\n\n                              for (let key of [\n                                \"close\",\n                                \"float\",\n                                \"itemSrc\",\n                                \"wbcProps\",\n                                \"allOptions\",\n                                \"gAttrs\",\n                                \"hAttrs\",\n                                \"vProps\",\n                                \"htmlSrc\",\n                                \"wbcSrc\",\n                                \"wbcSyn\",\n                              ]) {\n                                if (el?.options?.[key]) {\n                                  ee.options[key] = el.options[key];\n                                }\n                              }\n                            });\n                          } else if (newEle instanceof Object) {\n                            // newEle.output = 'all'\n                            if (el?.output) {\n                              newEle.output = el.output;\n                            }\n                            if (el?.options?.mode) {\n                              newEle.options.mode = el.options.mode;\n                            }\n\n                            for (let key of [\n                              \"close\",\n                              \"float\",\n                              \"itemSrc\",\n                              \"wbcProps\",\n                              \"allOptions\",\n                              \"gAttrs\",\n                              \"hAttrs\",\n                              \"vProps\",\n                              \"htmlSrc\",\n                              \"wbcSrc\",\n                              \"wbcSyn\",\n                            ]) {\n                              if (el?.options?.[key]) {\n                                newEle.options[key] = el.options[key];\n                              }\n                            }\n                          }\n                          // if(el?.options?.mode){newEle.options.mode = el.options.mode}\n\n                          // for (let key of ['close', 'float',\n                          // \t'itemSrc', 'wbcProps',\n                          // \t'allOptions', 'gAttrs',\n                          // \t'hAttrs', 'vProps',\n                          // \t'htmlSrc', 'wbcSrc',\n                          // \t'wbcSyn']) {\n                          // \tif (el?.options?.[key]) { newEle.options[key] = el.options[key] }\n                          // }\n                        }\n\n                        this.item_ = newEle;\n                      } catch (error) {\n                        // alert('\"' + val + '\" can not be parsed: ' + error);\n                        this.mainItemTextArea.rules = [\n                          `\"${val}\" can not be parsed: ${error}`,\n                        ];\n                      }\n                    },\n                  },\n                }),\n              ]),\n\n              this.mainItemTextArea.rules.length == 0\n                ? h_(\"div\", { props: {} }, [\n                    h_(\"h4\", {}, [\"Converted WBC item:\"]),\n                    \"JSON.stringify(el)\",\n                  ])\n                : null,\n              // h_('VCard',{props:{}},[JSON.stringify(el)]),\n              h_(\"span\", { class: \"red--text\" }, [this.mainItemTextArea.rules]),\n            ]\n          ),\n        ];\n      },\n\n      ////////////////allOptions:  like:.....//////////////////\n      vProps(el, h_) {\n        let vPropsDefault = {};\n        if (!vuetifyModule?.[el.comp]) {\n          return null;\n        }\n        if (!el?.options?.vProps) {\n          return null;\n        } else if (el?.options?.vProps === true) {\n          vPropsDefault = {\n            items: {\n              wrap: {\n                comp: \"VCol\",\n                options: {\n                  props: {\n                    /* cols:'auto', */\n                    sm: \"12\",\n                    md: \"6\",\n                    lg: \"4\",\n                    xl: \"3\",\n                  },\n                },\n              },\n              options: {\n                class: \"container blue\",\n              },\n            },\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              content: `\"${el.comp}\" - Props`,\n            },\n          };\n          // el.options.vProps = vPropsDefault\n        }\n\n        let vuetifyProps = vuetifyModule?.[el.comp]?.options?.props || {};\n        el = this.item_;\n        let renderedItems = Object.keys(vuetifyProps)\n          .sort()\n          .map((key) => {\n            if (key != \"hidden\") {\n              let propsObj = {\n                label: key,\n              };\n\n              try {\n                let theValue = this.generalVal(\n                  el?.options?.props?.[key],\n                  // eval(el?.options?.props?.[ key ]),\n                  this.itemAccessebility,\n                  this.lang\n                );\n                propsObj[\"value\"] = theValue;\n\n                if (typeof theValue == \"string\") {\n                  propsObj[\"value\"] = `${theValue}`;\n                  // propsObj['hint']=`${theValue}`\n                } else if (typeof theValue == \"function\") {\n                  propsObj[\"value\"] = theValue(this.itemAccessebility);\n                  // propsObj['hint']=`${theValue}`\n                } else if (typeof theValue == \"object\") {\n                  propsObj[\"value\"] = `${JSON.stringify(theValue)}`;\n                  // propsObj['hint']=`${theValue}`\n                }\n\n                propsObj[\"hint\"] = el?.options?.props?.[key]\n                  ? `src=${JSON.stringify(el?.options?.props?.[key])}`\n                  : \"\";\n                // else {propsObj['hint']=typeof el?.options?.props?.[ key ]=='object'?`src=${JSON.stringify(el?.options?.props?.[ key ])}`:el?.options?.props?.[ key ]||'Use js template mode for data types'}\n                propsObj[\"persistent-hint\"] = true;\n              } catch (error) {\n                propsObj[\"errorMessages\"] = error.message;\n                propsObj[\"persistent-hint\"] = true;\n              }\n\n              let aRenderedItem = h_(\n                typeof el?.options?.[key] == \"boolean\"\n                  ? \"VCheckbox\"\n                  : \"VTextField\",\n                {\n                  ...(el.options.vProps?.items?.options ||\n                    vPropsDefault?.items?.options ||\n                    {}),\n                  props: propsObj,\n                  on: {\n                    // input: (inputVal) => {\n                    // \tel.options.props = {\n                    // \t\t...el.options.props,\n                    // \t\t[key]: inputVal,\n                    // \t};\n                    // \t// el.options.key += '_';\n                    // \t// el.options.key = el.options.key.replace('__', '_');\n                    // },\n                    change: (inputVal_) => {\n                      // alert(inputVal_)\n                      let inputVal = inputVal_; // || false;\n\n                      el.options.props[key] = inputVal;\n                      if (key == \"value\") {\n                        el.options.props[\"val\"] = inputVal;\n                      } else {\n                        el.options.props[key] = this.generalVal(\n                          this.strToObj(inputVal),\n                          this.itemAccessebility\n                          // this.lg\n                        );\n                      }\n\n                      el.options.key += 1;\n                      // el.options.key += '_';\n                      // el.options.key = el.options.key.replace('__', '_');\n                    },\n                    // update: (inputVal) => {\n                    // \tel.options.props = {\n                    // \t\t...el.options.props,\n                    // \t\t[key]: inputVal,\n\n                    // \t};\n                    // \t// el.options.key += '_';\n                    // \t// el.options.key = el.options.key.replace('__', '_');\n                    // },\n                  },\n                }\n              );\n\n              return h_(\n                el?.options?.vProps?.items?.wrap?.comp ||\n                  vPropsDefault?.items?.wrap?.comp ||\n                  \"div\",\n                {\n                  ...(el?.options?.vProps?.items?.wrap?.options ||\n                    vPropsDefault?.items?.wrap?.options ||\n                    {}),\n                },\n                [aRenderedItem]\n              );\n            }\n          });\n\n        return [\n          h_(\n            el?.options?.vProps?.title?.comp ||\n              vPropsDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el.options.vProps?.title?.options ||\n                vPropsDefault?.title?.options ||\n                {}),\n            },\n            el.options.vProps?.title?.content ||\n              vPropsDefault?.title?.content ||\n              \"Component Attributes\"\n          ),\n          h_(\n            el?.options?.vProps?.wrap?.comp ||\n              vPropsDefault?.wrap?.comp ||\n              \"VRow\",\n            {\n              ...(el.options.vProps?.wrap?.options ||\n                vPropsDefault?.wrap?.options ||\n                {}),\n            },\n            [renderedItems]\n          ),\n        ];\n      },\n\n      ////////////////allOptions:  like:.....//////////////////\n      allOptions(el, h_) {\n        let allOptionsDefault = {};\n        if (!el?.options?.allOptions) {\n          return null;\n        } else if (el?.options?.allOptions === true) {\n          allOptionsDefault = {\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            items: {\n              wrap: {\n                comp: \"VCol\",\n                options: {\n                  props: {\n                    cols: \"auto\",\n                  },\n                },\n              },\n              options: {\n                class: \"container blue\",\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 h1 text-center\",\n              },\n              content: \"ALL Options\",\n            },\n          };\n        }\n\n        let keysToExlude = [\n          \"main\",\n          \"all\",\n          \"itemSrc\",\n          \"wbcProps\",\n          \"allOptions\",\n          \"gAttrs\",\n          \"hAttrs\",\n          \"vProps\",\n          \"htmlSrc\",\n          \"wbcSrc\",\n          \"wbcSyn\",\n        ];\n        el = this.item_;\n\n        let renderedItems = Object.keys(el.options)\n          .sort()\n          .filter((e) => !keysToExlude.includes(e))\n          .map((key) => {\n            let allOptionsObj = {\n              label: key,\n              value: el.options[key],\n            };\n            // {en:\"red\",fr:\"blue\"}\n\n            try {\n              let theValue = this.generalVal(\n                el?.options?.[key],\n                this.itemAccessebility,\n                this.lang\n              );\n              allOptionsObj[\"value\"] = theValue;\n\n              if (typeof theValue == \"string\") {\n                allOptionsObj[\"value\"] = `${theValue}`;\n                // allOptionsObj['hint']=`${theValue}`\n              } else if (typeof theValue == \"function\") {\n                allOptionsObj[\"value\"] = theValue(this.itemAccessebility);\n                // allOptionsObj['hint']=`${theValue}`\n              } else if (typeof theValue == \"object\") {\n                allOptionsObj[\"value\"] = `${JSON.stringify(theValue)}`;\n              }\n              allOptionsObj[\"hint\"] = el?.options?.[key]\n                ? `src=${JSON.stringify(el?.options?.[key])}`\n                : \"\";\n              // else {allOptionsObj['hint']=typeof el?.options?.[ key ]=='object'?`src=${JSON.stringify(el?.options?.[ key ])}`:el?.options?.[ key ]||'Use js template mode for data types'}\n              allOptionsObj[\"persistent-hint\"] = true;\n            } catch (error) {\n              allOptionsObj[\"errorMessages\"] = error.message;\n              allOptionsObj[\"persistent-hint\"] = true;\n            }\n\n            let aRenderedItem = h_(\n              typeof el.options[key] === \"boolean\" || !el.options?.[key]\n                ? \"VCheckbox\"\n                : /*  typeof el.options[key] === 'object'\n\t\t\t\t\t\t\t\t\t? 'VCard'\n\t\t\t\t\t\t\t\t\t:  */ \"VTextField\",\n              {\n                class: \"container\",\n                ...(el.options.allOptions?.items?.options ||\n                  allOptionsDefault.items?.options ||\n                  {}),\n                props: allOptionsObj /* {\n\t\t\t\t\t\t\t\t\tlabel: key,\n\t\t\t\t\t\t\t\t\tvalue: el.options[key],\n\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\tel.options?.[key]\n\t\t\t\t\t\t\t\t\t\t\t?.title /* hint: el.options[key].title, 'persistent-hint': true  }*/,\n                on: {\n                  // input: (inputVal) => {\n                  // \tel.options[key] = inputVal;\n                  // \tif (key == 'value') {\n                  // \t\tel.options['val'] = inputVal;\n                  // \t} else {\n                  // \t\tel.options[key] = inputVal;\n                  // \t}\n                  // \t// el.options.key += '_';\n                  // \t// el.options.key = el.options.key.replace('__', '_');\n                  // },\n                  change: (inputVal_) => {\n                    let inputVal = inputVal_ || false;\n\n                    el.options[key] = inputVal;\n                    if (key == \"value\") {\n                      el.options[\"val\"] = inputVal;\n                    } else {\n                      el.options[key] = this.generalVal(\n                        this.strToObj(inputVal),\n                        this.itemAccessebility\n                        // this.lg\n                      );\n                    }\n                    // el.options.key += 1\n                    // el.options.key += '_';\n                    // el.options.key = el.options.key.replace('__', '_');\n                  },\n                  // update: (inputVal) => {\n                  // \tel.options[key] =\n                  // \t\tel.options[key].type == 'object'\n                  // \t\t\t? this.toallOptions(inputVal)\n                  // \t\t\t: inputVal;\n                  // \tif (key == 'value') {\n                  // \t\tel.options['val'] = inputVal;\n                  // \t} else {\n                  // \t\tel.options[key] = inputVal;\n                  // \t}\n                  // \t// el.options.key += '_';\n                  // \t// el.options.key = el.options.key.replace('__', '_');\n                  // },\n                },\n              },\n              [h_(\"b\", {}, key + \": \"), JSON.stringify(el.options[key])]\n            );\n            // return aRenderedItem\n            return h_(\n              el?.options?.allOptions?.items?.wrap?.comp ||\n                allOptionsDefault.items.wrap.comp ||\n                \"VRow\",\n              {\n                ...(el?.options?.allOptions?.items?.wrap?.options ||\n                  allOptionsDefault?.items?.wrap?.options),\n              },\n              [aRenderedItem]\n            );\n          });\n\n        return [\n          h_(\n            el?.options?.allOptions?.title?.comp ||\n              allOptionsDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el?.options?.allOptions?.title?.options ||\n                allOptionsDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.allOptions?.title?.content ||\n              allOptionsDefault?.title?.content ||\n              \"All options\"\n          ),\n          h_(\n            el.options.allOptions?.wrap?.comp ||\n              allOptionsDefault.wrap?.comp ||\n              \"div\",\n            {\n              ...(el?.options?.allOptions?.wrap?.options ||\n                allOptionsDefault?.wrap?.options ||\n                {}),\n            },\n            [renderedItems]\n          ),\n        ];\n      },\n      ////////////////gAttrs: like id, ...//////////////////\n      gAttrs(el, h_) {\n        if (!el?.options?.gAttrs) {\n          return null;\n        }\n        let gAttrsDefault = {};\n\n        if (el?.options?.gAttrs === true) {\n          gAttrsDefault = {\n            items: {\n              wrap: {\n                comp: \"VCol\",\n                options: {\n                  props: {\n                    /* cols:'auto', */\n                    sm: \"12\",\n                    md: \"6\",\n                    lg: \"4\",\n                    xl: \"3\",\n                  },\n                },\n              },\n              options: {\n                class: \"container blue\",\n              },\n            },\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 h2 text-center\",\n              },\n              content: \"Global Attributes\",\n            },\n          };\n          // this.item_.options.gAttrs = gAttrsDefault\n        }\n\n        let gAttributes = html_ressources.global_attrs;\n\n        let kys = [\n          \"accesskey\",\n          \"class\",\n          \"contenteditable\",\n          \"data\",\n          \"dir\",\n          \"draggable\",\n          \"id\",\n          \"lang\",\n          \"spellcheck\",\n          \"style\",\n          \"tabindex\",\n          \"title\",\n          \"translate\",\n        ];\n\n        el = this.item_;\n        let renderedItems = kys.map((key) => {\n          let attrsObj = {\n            label: key,\n            value: [\"class\"].includes(key)\n              ? el?.options?.[key]\n              : el?.options?.attrs?.[key] || \"\",\n            title: gAttributes[key].desc,\n          };\n\n          try {\n            let theValue = this.generalVal(\n              el?.options?.attrs?.[key],\n              this.itemAccessebility,\n              this.lang\n            );\n            attrsObj[\"value\"] = theValue;\n\n            if (typeof theValue == \"string\") {\n              attrsObj[\"value\"] = `${theValue}`;\n              attrsObj[\"hint\"] = `${theValue}`;\n            } else if (typeof theValue == \"function\") {\n              attrsObj[\"value\"] = theValue(this.itemAccessebility);\n              // attrsObj['hint'] = `${theValue}`;\n            }\n            if (typeof el?.options?.[key] == \"object\") {\n              attrsObj[\"value\"] =\n                typeof theValue == \"object\"\n                  ? `${JSON.stringify(theValue)}`\n                  : theValue;\n              // attrsObj['hint'] = `src=${JSON.stringify(el?.options?.[key])}`;\n            } else {\n              // attrsObj['hint'] =\n              //   typeof el?.options?.props?.[key] == 'object'\n              //     ? `src=${JSON.stringify(el?.options?.attrs?.[key])}`\n              //     : el?.options?.attrs?.[key] || '';\n            }\n            attrsObj[\"persistent-hint\"] = true;\n          } catch (error) {\n            attrsObj[\"errorMessages\"] = error.message;\n            attrsObj[\"persistent-hint\"] = true;\n          }\n          attrsObj[\"hint\"] = gAttributes[key].desc;\n          if (key != \"hidden\") {\n            let aRenderedItem = h_(\"VTextField\", {\n              props: {\n                value:\n                  typeof el?.options?.[key] == \"object\"\n                    ? JSON.stringify(\n                        el?.options?.[key] || el?.options?.attrs?.[key]\n                      )\n                    : el?.options?.[key] || el?.options?.attrs?.[key],\n              },\n              // props: {value:typeof el?.options?.attrs?.[key]=='object'?JSON.stringify(el?.options?.attrs?.[key]):el?.options?.attrs?.[key]},\n              ...(el?.options?.gAttrs?.items?.options ||\n                gAttrsDefault?.items?.options ||\n                {}),\n              attrs: attrsObj,\n              /*  {\n\t\t\t\t\t\t\t\tlabel: key,\n\t\t\t\t\t\t\t\tvalue: ['class'].includes(key)\n\t\t\t\t\t\t\t\t\t? el?.options?.[key]\n\t\t\t\t\t\t\t\t\t: el?.options?.attrs?.[key] || '',\n\t\t\t\t\t\t\t\ttitle: gAttributes[key].desc,\n\t\t\t\t\t\t\t\thint: gAttributes[key].desc,\n\t\t\t\t\t\t\t\t'persistent-hint': true,\n\t\t\t\t\t\t\t} */ on: {\n                // input: (inputVal) => {\n                // \tif (key == 'val') {\n                // \t\tel.options['val'] = inputVal;\n                // \t\tif (el?.options?.props?.value) { el.options.props.value = inputVal }\n                // \t} else {\n                // \t\tel.options = {\n                // \t\t\t...el.options,\n                // \t\t\t[key]: inputVal,\n                // \t\t};\n                // \t}\n                // \t// el.options.key += '_';\n                // \t// el.options.key = el.options.key.replace('__', '_');\n                // },\n                change: (inputVal) => {\n                  // alert(key)\n                  if (!el?.options?.attrs) {\n                    el.options.attrs = {};\n                  }\n                  // el.options.attrs = {};\n                  if (key == \"class\" || key == \"style\") {\n                    el.options[key] = this.generalVal(\n                      this.strToObj(inputVal),\n                      this.itemAccessebility\n                      // this.lg\n                    );\n                  }\n\n                  if (typeof el?.options?.[key] != \"boolean\") {\n                    el.options.key = this.updateKey(\n                      el?.options?.key || this.randomKey(\"wbc\")\n                    );\n                    // el?.options?.[key]=null\n                  }\n                  el.options.attrs[key] = this.generalVal(\n                    this.strToObj(inputVal),\n                    this.itemAccessebility\n                    // this.lg\n                  );\n\n                  if (!el?.options?.key) {\n                    el.options.key = this.randomKey(\"wbc\");\n                  }\n                  // el.options.key = this.updateKey(el?.options?.key)\n\n                  // \tif (el?.options?.props?.value) { el.options.props.value = inputVal }\n                  // } else {\n                  // \tel.options = {\n                  // \t\t...el.options,\n                  // \t\t[key]: this.generalVal(\n                  // \t\t\tthis.strToObj(inputVal),\n                  // \t\t\tthis.itemAccessebility,\n                  // \t\t\t// this.lg\n                  // \t\t\t) ,\n                  // \t};\n                  // }\n                  // el.options.key += '_';\n                  // el.options.key = el.options.key.replace('__', '_');\n                },\n                // update: (inputVal) => {\n                // \tif (key == 'val') {\n                // \t\tel.options['val'] = inputVal;\n                // \t\tif (el?.options?.props?.value) { el.options.props.value = inputVal }\n                // \t} else {\n                // \t\tel.options = {\n                // \t\t\t...el.options,\n                // \t\t\t[key]: inputVal,\n                // \t\t};\n                // \t}\n                // \t// el.options.key += '_';\n                // \t// el.options.key = el.options.key.replace('__', '_');\n                // },\n              },\n            });\n\n            return h_(\n              el?.options?.gAttrs?.items?.wrap?.comp ||\n                gAttrsDefault?.items?.wrap?.comp,\n              {\n                ...(el?.options?.gAttrs?.items?.wrap?.options ||\n                  gAttrsDefault?.items?.wrap?.options ||\n                  {}),\n              },\n              [aRenderedItem]\n            );\n          }\n        });\n\n        return [\n          h_(\n            el?.options?.gAttrs?.title?.comp ||\n              gAttrsDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el?.options?.gAttrs?.title?.options ||\n                gAttrsDefault?.title?.options ||\n                {}),\n            },\n            el?.options?.gAttrs?.title?.content || \"Global Attributes\"\n          ),\n          h_(\n            el?.options?.gAttrs?.wrap?.comp ||\n              gAttrsDefault?.wrap?.comp ||\n              \"div\",\n            {\n              ...(el?.options?.gAttrs?.wrap?.options ||\n                gAttrsDefault?.wrap?.options ||\n                {}),\n            },\n            [renderedItems]\n          ),\n        ];\n      },\n\n      ////////////////wbcProps: wbc props like:{val,float,load, hide, class,...}//////////////////\n      wbcProps(el, h_) {\n        let wbcDefault = {};\n        if (!el?.options?.wbcProps) {\n          return null;\n        }\n\n        if (el?.options?.wbcProps === true) {\n          wbcDefault = {\n            wrap: {\n              comp: \"VRow\",\n              options: {\n                class: `container pa-2 ma-2`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            items: {\n              wrap: {\n                comp: \"VCol\",\n                options: {\n                  props: {\n                    cols: \"auto\",\n                  },\n                },\n              },\n              options: {\n                class: \"container blue\",\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n\n              content: \"WBC PROPS\",\n            },\n          };\n          // this.item_.options.wbcProps = wbcDefault\n        }\n\n        let wbcPropsObj = {\n          header: {\n            title: \"Specifies the element class\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          footer: {\n            title: \"Specifies the element class\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          class: {\n            title: \"Specifies the element class\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          wrap: {\n            title: \"Wrap the element\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          html: {\n            title: \"Default slot content\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          val: {\n            title: \"Contains the main object Value\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          headers: {\n            title: \"Specifies Element Headers (To be parsed)\",\n            type: \"object\",\n            comp: \"VTextField\",\n          },\n          footers: {\n            title: \"Specifies Element footers (To be parsed)\",\n            type: \"object\",\n            comp: \"VTextField\",\n          },\n          key: {\n            title: \"Specifies the key of the element\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          global: {\n            title:\n              \"Specifies the glabal name  of the corresponding wbc item element\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          ref: {\n            title: \"Specifies component ref\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          hide: {\n            title: \"Hide and show the element\",\n            type: \"text\",\n            comp: \"VCheckbox\",\n          },\n          load: {\n            title: \"Specifies the elememt loader\",\n            type: \"text\",\n            comp: \"VCheckbox\",\n          },\n          mode: {\n            title: \"Specifie the displaying mode of the element\",\n            type: \"text\",\n            comp: \"VTextField\",\n          },\n          float: {\n            title: \"display the component in mode floating\",\n            type: \"text\",\n            comp: \"VCheckbox\",\n          },\n        };\n        // this.item_.options.class=this.wbcPropsPropsObj[0].props.val\n        // el = this.item_;\n        // let renderedItems = Object.keys(wbcPropsObj)\n        let renderedItems = [\n          \"header\",\n          \"footer\",\n          \"class\",\n          \"wrap\",\n          \"html\",\n          \"val\",\n          \"headers\",\n          \"footers\",\n          \"key\",\n          \"global\",\n          \"ref\",\n          \"hide\",\n          \"load\",\n          \"mode\",\n          \"float\",\n        ]\n          // .sort()\n          .filter((e) => ![\"mode\"].includes(e))\n          .map((key) => {\n            let aWbcPropsObj = {\n              label: key,\n              value: el.options[key],\n              title: wbcPropsObj[key].title,\n            };\n\n            try {\n              let theValue = this.generalVal(\n                el?.options?.[key],\n                this.itemAccessebility,\n                this.lang\n              );\n\n              if (key == \"header\" || key == \"footer\") {\n                el.options[key] = this.generalVal(\n                  el?.[key],\n                  this.itemAccessebility,\n                  this.lang\n                );\n              }\n\n              aWbcPropsObj[\"value\"] = theValue;\n\n              if (typeof theValue == \"boolean\") {\n                // alert(theValue+typeof theValue)\n                // aWbcPropsObj['value'] = `${theValue}`;\n                aWbcPropsObj[\"value\"] = el?.options?.[key];\n                // aWbcPropsObj['hint']=`${theValue}`\n              } else if (typeof theValue == \"string\") {\n                aWbcPropsObj[\"value\"] = `${theValue}`;\n                // aWbcPropsObj['value'] = theValue;\n                // aWbcPropsObj['hint']=`${theValue}`\n              } else if (typeof theValue == \"function\") {\n                aWbcPropsObj[\"value\"] = theValue(this.itemAccessebility);\n                // aWbcPropsObj['hint']=`${theValue}`\n              } else if (typeof el?.options?.[key] == \"object\") {\n                aWbcPropsObj[\"value\"] = `${JSON.stringify(theValue)}`;\n              }\n              if (el?.options?.[key]) {\n                aWbcPropsObj[\"hint\"] = `src=${JSON.stringify(\n                  el?.options?.[key]\n                )}`;\n              }\n\n              // else {aWbcPropsObj['hint']=typeof el?.options?.props?.[ key ]=='object'?`src=${JSON.stringify(el?.options?.props?.[ key ])}`:el?.options?.props?.[ key ]||'Use js template mode for data types'}\n              aWbcPropsObj[\"persistent-hint\"] = true;\n            } catch (error) {\n              aWbcPropsObj[\"errorMessages\"] = error.message;\n              aWbcPropsObj[\"persistent-hint\"] = true;\n            }\n\n            // alert(key)\n            let aRenderedItem = h_(wbcPropsObj[key].comp, {\n              ...(el?.options?.wbcProps?.items?.options ||\n                wbcDefault?.items?.options ||\n                {}),\n              val: el.options[key],\n              props: aWbcPropsObj /* {\n\t\t\t\t\t\t\t\tlabel: key,\n\t\t\t\t\t\t\t\tvalue: el.options[key],\n\t\t\t\t\t\t\t\ttitle: wbcPropsObj[key].title,\n\t\t\t\t\t\t\t\thint: wbcPropsObj[key].title,\n\t\t\t\t\t\t\t\t'persistent-hint': true,\n\t\t\t\t\t\t\t} */,\n              on: {\n                // update: (inputVal_) => {\n                //   let inputVal = inputVal_ || false;\n\n                //   el.options[key] = inputVal;\n                //   if (key == 'value') {\n                //     el.options['val'] = inputVal;\n                //   } else {\n                //     el.options[key] = this.generalVal(\n                //       this.strToObj(inputVal),\n                //       this.itemAccessebility\n                //       // this.lg\n                //     );\n                //   }\n                //   // el.options.key += 1\n                //   // el.options.key += '_';\n                //   // el.options.key = el.options.key.replace('__', '_');\n                // },\n                change: (inputVal_) => {\n                  let inputVal = inputVal_ || true;\n\n                  el.options[key] = inputVal;\n                  if (key == \"header\" || key == \"footer\") {\n                    el[key] = inputVal_;\n\n                    el.options[key] = this.generalVal(\n                      this.strToObj(inputVal_),\n                      this.itemAccessebility\n                      // this.lg\n                    );\n\n                    // el.options.key += 1\n                  } else if (key == \"value\") {\n                    el.options[\"val\"] = inputVal_;\n                  } else {\n                    el.options[key] = this.generalVal(\n                      this.strToObj(inputVal_),\n                      this.itemAccessebility\n                      // this.lg\n                    );\n                  }\n\n                  if (typeof el?.options?.[key] != \"boolean\") {\n                    el.options.key = this.updateKey(\n                      el?.options?.key || this.randomKey(\"wbc\")\n                    );\n                    // el?.options?.[key]=null\n                  }\n                  if (!el?.options?.key) {\n                    el.options.key = this.randomKey(\"wbc\");\n                  }\n\n                  // el.options.key += 1\n                  // el.options.key += '_';\n                  // el.options.key = el.options.key.replace('__', '_');\n                },\n                // update: (inputVal) => {\n                // \tif (key == 'val') {\n                // \t\tel.options['val'] = inputVal;\n                // \t\tif (el?.options?.props?.value) { el.options.props.value = inputVal }\n                // \t} else {\n                // \t\tel.options = {\n                // \t\t\t...el.options,\n                // \t\t\t[key]: inputVal,\n                // \t\t};\n                // \t}\n                // \t// el.options.key += '_';\n                // \t// el.options.key = el.options.key.replace('__', '_');\n                // },\n              },\n            });\n            // return aRenderedItem\n            return h_(\n              el?.options?.wbcProps?.items?.wrap?.comp ||\n                wbcDefault?.items?.wrap?.comp ||\n                \"VCard\",\n              {\n                ...(el?.options?.wbcProps?.items?.wrap?.options ||\n                  wbcDefault?.items?.wrap?.options ||\n                  {}),\n              },\n              [aRenderedItem]\n            );\n          });\n\n        return [\n          h_(\n            el?.options?.wbcProps?.title?.comp ||\n              wbcDefault?.title?.comp ||\n              \"h1\",\n            {\n              ...(el?.options?.wbcProps?.title?.options ||\n                wbcDefault?.title?.options ||\n                {}),\n              class: \"pa-2 h1 text-center\",\n            },\n            el?.options?.wbcProps?.title?.content ||\n              wbcDefault?.title?.content ||\n              \"WBC Props\"\n          ),\n          h_(\n            el?.options?.wbcProps?.wrap?.comp ||\n              wbcDefault?.wrap?.comp ||\n              \"div\",\n            {\n              ...(el?.options?.wbcProps?.wrap?.options ||\n                wbcDefault?.wrap?.options ||\n                {}),\n            },\n            [renderedItems]\n          ),\n        ];\n      },\n      ////////////////mainRender: wrappped by float and closed by icon//////////////////\n\n      ////////////////make window float//////////////////\n\n      //////////////// float: display floating checkbox of main el//////////////////\n      // float(el, h_) {\n\n      //   console.log('el888888888888888 :>> ', el);\n      //   // let floatDefault = {};\n      //   if (el?.options?.float == null || el?.options?.float == undefined) {\n      //     return null;\n      //   } else {\n\n      //     let e = {\n      //       content: {\n      //         comp: 'VIcon',\n      //         options: {\n      //           // class: 'pa-5 mt-15',\n      //           // class: 'mt-10 pt-5',\n      //           html: !el?.options?.float ? 'mdi-dock-window' : 'mdi-fullscreen-exit',\n      //           headers: 'Float Output: ',\n      //           // attrs: { title: 'Float Output' },\n      //           on: {\n      //             click: () => {\n      //               alert(!el?.options?.float)\n      //               el.options.float = !el.options.float//inputVal\n      //               // el.options.key = this.updateKey(el?.options?.key)\n      //             },\n      //           },\n      //           // },\n      //         }\n      //       },\n\n      //       ...el?.options?.floatContent\n      //     }\n\n      //       ;\n\n      //     return h_('WBC', { class: 'pt-15', props: { item: e } });\n      //     // return h_(\n      //     //   'VCheckbox',\n      //     //   {\n      //     //     // key: 'float-' + this.updateKey(el?.options?.key),\n      //     //     props: {\n      //     //       value: el?.options?.float||false,\n      //     //       label: 'Float Output',\n      //     //       'append-icon': el?.options?.float?'mdi-picture-in-picture-bottom-right':null\n      //     //     },\n      //     //     val: !el?.options?.float,\n      //     //     on: {\n      //     //       change: (inputVal) => {\n      //     //         alert(inputVal)\n      //     //         el?.options?.float = !el?.options?.float\n      //     //       },\n      //     //     },\n      //     //   },\n      //     //   // ['Ouvert/Fermer']\n      //     // );\n\n      //   }\n      // },\n      ////////////////make window float//////////////////\n\n      //////////////// float: display floating checkbox of main el//////////////////\n\n      ////////////////close//////////////////\n      focusOn(el, h_, vnode = null) {\n        if (!el) {\n          return null;\n        }\n        // return h_('VContainer', {\n        //   style: el?.options?.float\n        //     ? {\n        //       position: 'fixed',\n        //       top: '3% ',\n        //       left: '30%',\n        //       'z-index': '10',\n        //       height: 'auto',\n        //       width: 'auto',\n        //       padding: '0.8%',\n        //       transform: `translate(${this.offsetX}px, ${this.offsetY}px)`,\n        //       cursor: this.draggable ? 'grabbing' : 'grab',\n        //       'background-color': '#FAFAFA',\n        //       ...(el?.options?.mode == 'dev'\n        //         ? { border: `5px dashed ${this.rColor}` }\n        //         : {}),\n\n        //     }\n        //     : {},\n        // }, [this.floatCloseDrag(el, h_), vnode, this.float(el,h_)]);\n\n        let floatStyle = {\n          position: \"fixed\",\n          top: \"13% \",\n          left: \"30%\",\n          \"z-index\": \"10\",\n          height: \"auto\",\n          width: \"40%\",\n          padding: \"1.8%\",\n          transform: `translate(${this.offsetX}px, ${this.offsetY}px)`,\n          cursor: this.draggable ? \"grabbing\" : \"grab\",\n          \"background-color\": \"#FAFAFA\",\n          border: `5px dashed ${this.rColor}`,\n          // Resizable properties\n          resize: \"both\", // Enable both horizontal and vertical resizing\n          overflow: \"auto\", // Makes the content scrollable, so resize works properly\n        };\n\n        // floatStyle = {}\n        // let floatCloseDragVN= h_('WBC', { props: { item: this.floatCloseDrag(el, h_) } })\n\n        let header = [\n          \"<~VRow|pa-2 mb-5 d-flex justify-end align-end>\",\n          this.float(el, h_),\n        ];\n        if (el?.options?.float) {\n          header.push(this.drag(el, h_), this.close(el, h_));\n        }\n\n        let wbcFocusOnObj = {\n          options: {\n            // comp: 'VRow',\n\n            class: \"pa-15\",\n\n            key: `key-${el?.options?.float || \"float\"}`,\n            // style: el?.options?.float\n            //   ? floatStyle\n\n            style: el?.options?.float\n              ? floatStyle\n              : { border: `5px dashed ${this.rColor}` },\n          },\n          content0: header,\n          content1: vnode,\n          // float:{\n          // comp:'VContainer',\n          // },\n\n          ...(el?.options?.focusOnOptions || {}),\n        };\n\n        // if(el?.options?.float)\n        // {wbcFocusOnObj.options.on = {\n        //   mousedown: this.startDrag,\n        //   mousemove: (v) => this.doDrag(v, 0.8),\n        //   mouseup: this.endDrag,\n        // }\n        // }\n        // else {\n\n        //   wbcFocusOnObj.options.on = {}\n        // }\n\n        return h_(\"WBC\", { props: { item: wbcFocusOnObj } });\n      },\n\n      float(el, h_) {\n        if (typeof el?.options?.float != \"boolean\") {\n          return null;\n        }\n        // if (el?.options?.mode == 'dev') {\n        //   el.options.close = el?.options?.close || true;\n        // }\n\n        let floatIcon = {\n          content: {\n            comp: \"VIcon\",\n            options: {\n              attrs: { title: \"Float Output\" },\n              class: \" pa-2\",\n\n              // class: 'pa-2 mt-15',\n              // class: 'mt-10 pt-5',\n              html: !el?.options?.float\n                ? \"mdi-dock-window\"\n                : \"mdi-fullscreen-exit\",\n              // headers: 'Float Output: ',\n              // attrs: { title: 'Float Output' },\n              on: {\n                click: () => {\n                  // alert(!el?.options?.float)\n                  el.options.float = !el.options.float; //inputVal\n                  // el.options.key = this.updateKey(el?.options?.key)\n                },\n              },\n              // },\n            },\n          },\n          ...el?.options?.floatContent,\n        };\n\n        return h_(\"WBC\", { props: { item: floatIcon } });\n      },\n      close(el, h_) {\n        if (typeof el?.options?.close != \"boolean\") {\n          return null;\n        }\n\n        //\n        let closeIcon = {\n          content: {\n            options: {\n              comp: \"VIcon\",\n              attrs: { title: \"Close window\" },\n              class: \" pa-2\",\n              html: \"mdi-close-box-outline\",\n              on: {\n                click: () => {\n                  // alert('closed')\n                  // el.options.headers='ddddddddddddddddddd'\n                  el.options[\"hide\"] = true;\n                  el.options.close = false;\n                },\n              },\n            },\n          },\n          ...el?.options?.closeContent,\n        };\n        return h_(\"WBC\", { props: { item: closeIcon } });\n      },\n      drag(el, h_) {\n        if (typeof el?.options?.drag != \"boolean\") {\n          return null;\n        }\n\n        //////////////////////////////\n        let on = {\n          mousedown: this.startDrag,\n          mousemove: (v) => this.doDrag(v, 0.8),\n          mousleave: this.endDrag,\n        };\n\n        let dragIcon = {\n          content: {\n            comp: \"VIcon\",\n            options: {\n              attrs: { title: \"Drag window\" },\n              class: \" pa-2\",\n              // html: 'mdi-cursor-move',\n              html: \"mdi-drag\",\n              on: {\n                // click: () => { alert(111111) },\n                ...(el?.options?.drag ? on : {}),\n              },\n            },\n          },\n          ...el?.options?.dragContent,\n        };\n\n        return h_(\"WBC\", { props: { item: dragIcon } });\n      },\n\n      //   // if (el?.options?.mode == 'dev') {\n      //   //   el.options.gClose = el?.options?.gClose || true;\n      //   // }\n\n      //   if (!el || !el?.options?.gClose ) {\n      //     return null;\n      //   } else {\n      //     el = this.item_;\n      //     let wbcGCloseObj = {\n      //       options: {\n      //         class: ' mb-10 pb-5',\n      //         // style: {\n      //         //   display: 'block',\n      //         //   // 'align-self': 'flex-top',\n      //         //   margin: '-1%',\n      //         //   float: 'right',\n      //         // },\n      //       },\n      //       content: {\n      //         comp: 'VIcon',\n      //         options: {\n      //           // class:'red',\n      //           html: 'mdi-close-box',\n      //           style: {\n      //             display: 'block',\n      //             // 'align-self': 'flex-top',\n      //             margin: '-1%',\n      //             float: 'right',\n      //           },\n      //           on: {\n      //             click: () => {\n      //               alert('closed')\n      //               // el.options.headers='ddddddddddddddddddd'\n      //               // el.options['hide'] = true;\n      //               el.options.gClose = null;\n      //             },\n      //           },\n      //         }\n      //       },\n      //       ...el?.options?.gCloseOptions || {}\n      //     }\n      //     return h_('WBC', { props: { item: wbcGCloseObj } });\n      //   }\n      // },\n\n      //////////////////////////////\n      ////////////////gClose//////////////////\n      globalFocusOn(el, h_, vnode = null) {\n        if (!el) {\n          return null;\n        }\n\n        let header = [\n          \"<~VRow|pa-2 mb-5 d-flex justify-end align-end>\",\n          this.gFloat(el, h_) /* , this.gDrag(el, h_), this.gClose(el, h_) */,\n        ];\n        if (el?.options?.gFloat) {\n          header.push(this.gDrag(el, h_), this.gClose(el, h_));\n        }\n\n        let headerVN = h_(\"WBC\", { props: { item: header } });\n\n        return h_(\n          \"VContainer\",\n          {\n            style: el?.options?.gFloat\n              ? {\n                  position: \"fixed\",\n                  top: \"10% \",\n                  left: \"30%\",\n                  \"z-index\": \"10\",\n                  height: \"50%\",\n                  width: \"50%\",\n                  padding: \"0.8%\",\n                  transform: `translate(${this.offsetX}px, ${this.offsetY}px)`,\n                  cursor: this.draggable ? \"grabbing\" : \"grab\",\n                  \"background-color\": \"#FAFAFA\",\n                  overflow: \"auto\", // This enables scrolling when content overflows\n                  ...(el?.options?.mode == \"dev\"\n                    ? { border: `5px dashed ${this.rColor}` }\n                    : {}),\n                }\n              : {},\n            ...(el?.options?.gFloatOptions || {}),\n          },\n          [headerVN, vnode]\n        );\n      },\n\n      gFloat(el, h_) {\n        if (typeof el?.options?.gFloat != \"boolean\") {\n          return null;\n        }\n\n        let gFloatIcon = {\n          content: {\n            dive: true,\n            comp: \"VIcon\",\n            options: {\n              attrs: { title: \"float global window\" },\n              class: \" font-weight-bold pa-2\",\n              props: { color: \"black\", large: true, dark: true },\n              // class: 'pa-2 mt-15',\n              // class: 'mt-10 pt-5',\n              html:\n                el?.options?.gFloat != true\n                  ? \"mdi-dock-window\"\n                  : \"mdi-fullscreen-exit\",\n              // headers: 'gFloat Output: ',\n              // attrs: { title: 'gFloat Output' },\n              on: {\n                click: (that, evt) => {\n                  // alert(!el?.options?.gFloat)\n                  el.options.gFloat = !el.options.gFloat; //inputVal\n                  that.data.options.html =\n                    el?.options?.gFloat != true\n                      ? \"mdi-dock-window\"\n                      : \"mdi-fullscreen-exit\";\n                  // el.options.key = this.updateKey(el?.options?.key)\n                },\n              },\n              // },\n            },\n            // tracker: that => {\n            //   that.data.options.html = el?.options?.gFloat == true ? 'mdi-dock-window' : 'mdi-fullscreen-exit'\n            // }\n          },\n          ...el?.options?.gFloatContent,\n        };\n\n        return h_(\"WBC\", { props: { item: gFloatIcon } });\n      },\n      gClose(el, h_) {\n        if (typeof el?.options?.gClose != \"boolean\") {\n          return null;\n        }\n\n        if (!el || !el?.options?.gClose) {\n          return null;\n        }\n\n        //\n        let gCloseIcon = {\n          content: {\n            comp: \"VIcon\",\n            options: {\n              // class:'red',\n              props: { color: \"black\", large: true, dark: true },\n              html: \"mdi-close-box\",\n              class: \" pa-2\",\n\n              // style: {\n              //   display: 'block',\n              //   // 'align-self': 'flex-top',\n              //   margin: '-1%',\n              //   float: 'right',\n              // },\n              on: {\n                click: () => {\n                  // alert('closed')\n                  // el.options.headers='ddddddddddddddddddd'\n                  // el.options['hide'] = true;\n                  el.options.gClose = null;\n                },\n              },\n            },\n          },\n          ...el?.options?.gCloseContent,\n        };\n        return h_(\"WBC\", { props: { item: gCloseIcon } });\n      },\n      gDrag(el, h_) {\n        if (typeof el?.options?.gDrag != \"boolean\") {\n          return null;\n        }\n\n        //////////////////////////////\n        let on = {\n          mousedown: this.startDrag,\n          mousemove: (v) => this.doDrag(v, 0.8),\n          mousleave: this.endDrag,\n        };\n\n        let gDragIcon = {\n          content: {\n            comp: \"VIcon\",\n            options: {\n              props: { color: \"black\", large: true, dark: true },\n              attrs: { title: \"Drag global window\" },\n              class: \" pa-2\",\n              // html: 'mdi-cursor-move',\n              html: \"mdi-drag\",\n              on: {\n                // click: () => { alert(111111) },\n                ...(el?.options?.gDrag ? on : {}),\n              },\n            },\n          },\n          ...el?.options?.gDragContent,\n        };\n\n        return h_(\"WBC\", { props: { item: gDragIcon } });\n      },\n      ///////////////////////////////////////////////////////////\n      ////////////////wbcSyn: wbc component syntax//////////////////\n      wbcSyn(el, h_) {\n        let wbcSynDefault = {};\n        if (!el.options?.wbcSyn) {\n          return null;\n        } else if (el?.options?.wbcSyn === true) {\n          wbcSynDefault = {\n            wrap: {\n              comp: \"VCol\",\n              options: {\n                class: `container pa-5 ma-5`,\n                style: {\n                  backgroundColor: this.rColor,\n                },\n              },\n            },\n            title: {\n              comp: \"h2\",\n              options: {\n                class: \"pa-2 text-center\",\n              },\n              content: \"WBC Code source\",\n            },\n          };\n        }\n\n        let wbcItemToExcludes = [\n          \"mainRender\",\n          \"close\",\n          \"float\",\n          \"allOptions\",\n          \"wbcProps\",\n          \"hAttrs\",\n          \"vAttrs\",\n          \"itemSrc\",\n          \"htmlSrc\",\n          \"wbcSyn\",\n          \"vProps\",\n        ];\n        let wbcSynItemAttrs = Object.keys(el.options)\n          .filter((e) => !wbcItemToExcludes.includes(e))\n          .sort()\n          .map((e) => {\n            if (el.options[e])\n              return h_(\n                el.options.wbcSyn?.items?.comp ||\n                  wbcSynDefault?.items?.comp ||\n                  \"span\",\n                {\n                  ...(el.options.wbcSyn?.items?.options ||\n                    wbcSynDefault?.items?.options ||\n                    {}),\n                },\n                [\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#42b983\",\n                      },\n                    },\n                    ` :${e}=`\n                  ),\n                  `'${JSON.stringify(el.options[e])}' `,\n                ]\n              );\n          });\n\n        let ell = this.clone(el);\n\n        if (options?.mode != \"dev\") {\n          delete ell?.output;\n          delete ell?.asChild;\n\n          delete ell?.options?.itemSrc;\n          delete ell?.options?.raw;\n          delete ell?.options?.raw0;\n          delete ell?.options?.allOptions;\n          delete ell?.options?.gAttrs;\n          delete ell?.options?.hAttrs;\n          delete ell?.options?.vProps;\n          delete ell?.options?.htmlSrc;\n          delete ell?.options?.wbcSrc;\n          delete ell?.options?.wbcSyn;\n          delete ell?.options?.wbcProps;\n          delete ell?.options?.globalHtml;\n          delete ell?.options?.externalHtml;\n          delete ell?.options?.linkHtml;\n          delete ell?.options?.rawHtml;\n          delete ell?.options?.mainHtml;\n          delete ell?.options?.menuHtml;\n          delete ell?.options?.wrapHtml;\n\n          delete ell?.options?.all;\n          delete ell?.options?.close;\n          delete ell?.options?.closeContent;\n          delete ell?.options?.float;\n          delete ell?.options?.floatContent;\n          delete ell?.options?.drag;\n          delete ell?.options?.dragContent;\n          delete ell?.options?.focusOnOptions;\n\n          delete ell?.options?.externalHtml;\n          delete ell?.options?.global;\n          delete ell?.options?.isValid;\n          delete ell?.options?.linkHtml;\n          delete ell?.options?.mainHtml;\n          delete ell?.options?.menuHtml;\n          delete ell?.options?.mode;\n        }\n\n        return [\n          h_(\n            el.options?.wbcSyn?.title?.comp ||\n              wbcSynDefault?.title?.comp ||\n              \"h4\",\n            {\n              ...(el.options?.wbcSyn?.title?.options ||\n                wbcSynDefault?.title?.options ||\n                {}),\n            },\n            el.options?.wbcSyn?.title?.content ||\n              wbcSynDefault?.title?.content ||\n              \"Global Attributes\"\n          ),\n          h_(\n            el.options?.wbcSyn?.wrap?.comp ||\n              wbcSynDefault?.wrap?.comp ||\n              \"VCard\",\n            {\n              ...(el.options?.wbcSyn?.wrap?.options ||\n                wbcSynDefault?.wrap?.options ||\n                {}),\n            },\n            [\n              h_(\"VCard\", {}, [\n                h_(\"code\", {}, [\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    [\"<WBC\"]\n                  ),\n                  h_(\"span\", {}, [`:item=\"item\"`]),\n                  // wbcSynItemAttrs,\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    \">\"\n                  ),\n                  h_(\n                    \"span\",\n                    {\n                      style: {\n                        color: \"#fc1e70\",\n                      },\n                    },\n                    [\"</WBC>\"]\n                  ),\n                ]),\n              ]),\n              \"Where item is given by:\",\n              h_(\"JsonViewer\", {\n                props: {\n                  value: ell,\n                },\n              }),\n            ]\n          ),\n        ];\n      },\n\n      toWBC_(el, h_, externalChildren, externalWrapperObj) {\n        if (!this.isNonEmpty(el)) {\n          return null;\n        }\n\n        // console.log('000000000000000000000000000',el)\n        // throw new Error('This is an exception message');\n\n        // toWBC_(h_) {\n\n        // if (el instanceof Object) {\n\n        // \t// if (el?.options) { el.options.isValid = this.internalValueIsValid; }\n\n        // \tif (el?.tracker) {\n        // \t\t// console.log('this.item_?.tracker',this.item_)\n        // \t\tel.tracker(this.itemAccessebility);\n        // \t}\n\n        // }\n\n        // let el=this.item_\n        // let externalChildren =this.children_\n        // let externalWrapperObj=this.wrap_\n\n        // let el=this.objLang(el,this.lang)\n        // let el=this.objLang(el,this.lang)\n        // if(this.transform)\n        // if(el?.dive)\n        // {\n        // \tel = this.generalVal(\n        // \t\tel,\n        // \t\tthis.itemAccessebility,\n        // \t\t// this.lg\n        // \t\tthis.lang\n        // \t\t// lg\n        // \t);\n        // }\n\n        let options;\n        let comp;\n        // let header\n        // let hHeader\n        // let footer\n        // let hFooter\n        // let headers\n        // let footers\n        let globalHeaderVN;\n        let globalFooterVN;\n        let insideHeadersVN;\n        let insideFootersVN;\n        // let insideFooters\n        let html;\n        let rules = [];\n        // let customListeners = {};\n        // let select=false\n\n        let extChildren;\n        let raw0;\n        //\n\n        /* toWBC_( h_) {\n\t\n          let el=this.item_\n          let externalChildren=this.children_\n          let externalWrapperObj=this.wrap_ */\n\n        // PROPAGATION FROM PARENT TO CHILD\n\n        let main;\n\n        if (typeof el == \"function\") {\n          let vNodeToReturn;\n\n          if (el?.length == 0) {\n            // alert('function')\n            // return h_(el)\n            vNodeToReturn = h_(el);\n          } else if (el?.length == 1) {\n            vNodeToReturn = el(h_);\n            // return el(h_)\n          } else {\n            vNodeToReturn = [\n              h_(\"div\", { class: \"red--text\" }, [\n                \"Function got more than 1 arguments (Expected 0 or 1 argument)\",\n                h_(\"div\", {}, [el.toString()]),\n              ]),\n            ];\n          }\n          // \telse   if (el?.length == 0) {}\n\n          return vNodeToReturn;\n        }\n\n        if (this.isVnode(el)) {\n          main = el;\n        } else if ([\"VSpacer\", \"VDivider\"].includes(el)) {\n          main = h_(el, {\n            ref: \"rawHtml\",\n          });\n        } else if (typeof el == \"string\") {\n          let theMediaArr = el.split(\"/\");\n\n          if (\n            el.startsWith(\"/\") ||\n            el.startsWith(\"./\") ||\n            el.startsWith(\"../\")\n          ) {\n            const mediaContexts = {\n              images: require.context(\n                \"@/public\",\n                true,\n                /\\.(png|jpg|jpeg|gif|svg|apng|avif|tiff|webp|bmp|heic)$/\n              ),\n              audio: require.context(\n                \"@/public\",\n                true,\n                /\\.(mp3|wav|aiff|flac|m4a|ogg|aac|wma|ape|realaudio)$/\n              ),\n              video: require.context(\n                \"@/public\",\n                true,\n                /\\.(mp4|webm|ogg|mov|avi|mkv|flv|wmv)$/\n              ),\n              json: require.context(\"@/public\", true, /\\.json$/), // JSON files\n              pdf: require.context(\"@/public\", true, /\\.pdf$/),\n              html: require.context(\"@/public\", true, /\\.html$/),\n\n              css: require.context(\"@/public\", true, /\\.css$/), // CSS files\n              py: require.context(\"@/public\", true, /\\.py$/), // CSS files\n              vue: require.context(\"@/public\", true, /\\.vue$/), // CSS files\n              js: require.context(\"@/public\", true, /\\.(js|ts)$/), // CSS files\n              txt: require.context(\"@/public\", true, /\\.txt$/), // CSS files\n              md: require.context(\"@/public\", true, /\\.md$/), // CSS files\n              office: require.context(\n                \"@/public\",\n                true,\n                /\\.(xls|doc|docx|xlsx|pptx)$/\n              ), // Office files\n            };\n\n            function getMedia(type, src) {\n              try {\n                const context = mediaContexts[type];\n                if (!context) {\n                  throw new Error(`Media type \"${type}\" is not supported.`);\n                }\n                return context(src);\n              } catch (error) {\n                console.error(`Error loading ${type}: ${src}`, error);\n                return \"\"; // Handle the error appropriately\n              }\n            }\n\n            let source;\n            ///////////////// Audio ////////////////////\n\n            if (theMediaArr[theMediaArr.length - 1].startsWith(\"__\")) {\n              let contentType = \"text/html\";\n              if (el.includes(\".vue\")) {\n                source = getMedia(\"vue\", el);\n                contentType = \"text/x-vue\";\n              } else if (el.includes(\".py\")) {\n                source = getMedia(\"py\", el);\n                contentType = \"text/x-python\";\n                // alert(source);\n              } else if (el.includes(\".js\") || el.includes(\".ts\")) {\n                source = getMedia(\"js\", el);\n                contentType = \"text/javascsript\";\n              } else if (el.includes(\".md\")) {\n                source = getMedia(\"md\", el);\n                contentType = \"text/x-markdown\";\n              }\n              // else\n              else if (el.includes(\".html\") || el.includes(\".css\")) {\n                source = getMedia(\"html\", el);\n                contentType = \"text/html\";\n              }\n              // else if (el.includes('.py')) {\n              //                 contentType = 'text/x-python'\n              //               }else\n              // else if (el.includes('.py')) {\n              //                 contentType = 'text/x-python'\n              //               }else\n\n              // alert(el)\n              main = h_(\"VCM\", {\n                ref: \"rawHtml\",\n                style: {\n                  // resize: 'both',\n                  // position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  width: \"100%\",\n                  // height: \"100%\",\n                  //   border: 0,\n                },\n\n                class: \"container\",\n                props: {\n                  value: source,\n                  ref: \"myCm\",\n                  // tabSize: 14,\n                  // mode: \"text/css\",\n                  // mode: 'text/html',\n                  // mode: contentType,\n                  // theme: \"default\",\n\n                  // lineNumbers: true,\n                  // line: true,\n\n                  mode: contentType,\n                  options: {\n                    tabSize: 4,\n                    styleActiveLine: true,\n                    lineNumbers: true,\n                    line: true,\n                    foldGutter: true,\n                    styleSelectedText: true,\n                    // keyMap: \"sublime\",\n                    matchBrackets: true,\n                    showCursorWhenSelecting: true,\n                    // theme: \"monokai\",\n                    extraKeys: { Ctrl: \"autocomplete\" },\n                    hintOptions: {\n                      completeSingle: !false,\n                    },\n                  },\n                },\n              });\n            } else if (el.includes(\".txt\")) {\n              source = getMedia(\"txt\", el);\n\n              main = h_(\"WBHtml\", {\n                ref: \"rawHtml\",\n                title: el,\n                props: { html: `${source}` },\n              }); // Set the global variable to the response data\n            } else if (el.includes(\".md\")) {\n              // alert(el)\n              source = getMedia(\"md\", el);\n\n              main = h_(\n                \"div\",\n                {\n                  ref: \"rawHtml\",\n                  title: el,\n                },\n                [\n                  (main = h_(\"WBHtml\", {\n                    title: el,\n                    props: { html: this.MarkdownIt.render(source) },\n                  })),\n                ]\n              ); // Set the global variable to the response data\n            } else if (el.includes(\".html\")) {\n              source = getMedia(\"html\", el);\n\n              main = h_(\"WBHtml\", {\n                ref: \"rawHtml\",\n                title: el,\n                props: { html: source },\n              }); // Set the global variable to the response data\n            } else if (el.includes(\".json\")) {\n              source = getMedia(\"json\", el);\n\n              main = h_(\"WBDataViewer\", {\n                ref: \"rawHtml\",\n                title: el,\n                props: { value: source },\n              }); // Set the global variable to the response data\n            } else if (\n              [\n                \".mp3\",\n                \".wav\",\n                \".aiff\",\n                \".flac\",\n                \".m4a\",\n                \".ogg\",\n                \".aac\",\n                \".wma\",\n                \".ape\",\n                \".realaudio\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              source = getMedia(\"audio\", el);\n              main = h_(\"audio\", {\n                attrs: {\n                  title: source,\n                  src: source,\n                  controls: true,\n                  autoplay: !true,\n                },\n                class: \"container\",\n                style: {\n                  // width: 'auto',\n                  height: \"revert\",\n                  width: \"revert\",\n                  // backgroundColor:'red',\n                },\n                ref: \"rawHtml\",\n              });\n            } else if (\n              // ['//www.youtube', '//youtube', '//www.youtu.be', '//youtu.be',].some(e => el.includes(e)) ||\n              [\n                \".apng\",\n                \".avif\",\n                \".ico\",\n                \".gif\",\n                \".tiff\",\n                \".webp\",\n                \".jpeg\",\n                \".png\",\n                \".webp\",\n                \".jpg\",\n                \".jpeg\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              source = getMedia(\"images\", el);\n\n              // source = require('@public/jpeg1.jpeg')\n              // source = '/jpeg1.jpeg'\n\n              // alert(source)\n              // console.log('source :>> ',source,typeof source)\n\n              // alert(source);\n              let imgObj = {\n                attrs: {\n                  title: source,\n                  src: source,\n                },\n                class: \"container\",\n                // style:{width:'auto'},\n                // ref: 'rawHtml',\n              };\n\n              if (source?.includes?.(\".ico\")) {\n                imgObj.attrs.alt = \"Icon\";\n              }\n\n              main = h_(\"img\", imgObj);\n            } else if (\n              [\n                \".mp4\",\n                \".avi\",\n                \".mov\",\n                \".wmv\",\n                \".avchd\",\n                \".flv\",\n                \".f4v\",\n                \".swf\",\n                \".mkv\",\n                \".webm\",\n                \".html5\",\n                \".mpeg-2\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              source = getMedia(\"video\", el);\n              main = h_(\"video\", {\n                attrs: {\n                  title: source,\n                  src: source,\n                  controls: true,\n                  frameborder: \"0\",\n                  allow: \"autoplay; encrypted-media\",\n                  allowfullscreen: true,\n                  allow:\n                    \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                  referrerpolicy: \"strict-origin-when-cross-origin\",\n                },\n                class: \"container\",\n                // style:{width:'auto'},\n                ref: \"rawHtml\",\n              });\n            }\n            ////////////////////////////////////////\n            // else if (\n            //   [\".pdf\", \".Pdf\"].some((e) =>\n            //     theMediaArr[theMediaArr.length - 1].includes(e)\n            //   )\n            // ) {\n            //   alert(\"pdffffffff\");\n            //   source = getMedia(\"pdf\", el);\n            //   // alert(source)\n\n            //   main = h_(\"pdf\", {\n            //     props: {\n            //       // src: 'https://pdfobject.com/pdf/sample.pdf',\n            //       // src: require(el),\n            //       // src: require(\"./pdf0.pdf\"),\n            //       // src: \"./pdf0.pdf\",\n            //       // src: require(\"@public/cv0.pdf\"),\n            //       src: source,\n            //       // src: \"@/public/cv.pdf\",\n            //       // / cv0.pdf',\n            //       // src: 'cv0.pdf',\n            //     },\n            //     // attrs:{src: '@/public/jpeg0.jpeg'},\n            //     class: \"container\",\n            //     style: {\n            //       width: \"auto\",\n            //       height: \"800px\",\n            //       backgroundColor: \"yellow\",\n            //     },\n            //     ref: \"rawHtml\",\n            //   });\n            // }\n\n            ////\n            // else /* if (['/javascript', '/js', '/css', '/java', '/typescript', '/ts', '/cpp', '/xml', '/html','/php', '/bash', '/less', '/nginx', '/powershell', '/python', '/scss', '/shell', '/sql', '/yaml', '/ini'].some(e => contentType.includes(e))) */ {\n\n            //   // console.log('el0 :>> ', el, source);\n\n            //   source = getMedia('vue', el)\n\n            //   main = h_('div', el+ ' is a non supported format')\n            //   // main = h_('WBHtml', { props: { html: source } })\n\n            // }\n\n            ///////////////// office ////////////////////\n            // else if (\n            //   [\".docx\", \".Docx\", \".doc\", \".Doc\"].some((e) =>\n            //     theMediaArr[theMediaArr.length - 1].includes(e)\n            //   )\n            // ) {\n            //   source = getMedia(\"office\", el);\n            //   alert(\"aaaa\" + source);\n            //   main = h_(\"VueOfficeDocx\", {\n            //     props: {\n            //       // src: \"@public/doc0.doc\",\n            //       src: source,\n            //     },\n            //     class: \"container\",\n            //     style: {\n            //       // position: 'absolute',\n            //       top: 0,\n            //       left: 0,\n            //       // height: '100%',\n            //       // width: '100%',\n            //       // border: 0,\n            //     },\n            //     ref: \"rawHtml\",\n            //   });\n            // }\n            else if (\n              [\n                \".xls\",\n                \".Xls\",\n                \".pdf\",\n                \".Pdf\",\n                \".doc\",\n                \".Doc\",\n                \".xlsx\",\n                \"Xlsx\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              // source = getMedia(\"office\", el);\n              // alert(el);\n\n              // this.feetchFile();\n\n              // fetch(\"@/public/pdf0.pdf\").then((response) => response.text());\n\n              // el = \"/jp0.jpg\";\n              // el = \"/pdf0.pdf\";\n              // el = \"/json0.json\";\n              // el = \"/doc0.doc\";\n              // el = \"/a.xls\";\n              // el = \"/html0.html\";\n              // el = \"/html1.html\";\n\n              // el = \"/py0.py\";\n\n              // el = \"/md0.md\";\n              // el = \"/__md0.md\";\n\n              // el = \"/__py0.py\";\n              // el = \"/docx0.docx\";\n              // el = \"/aaaa.xlsx\";\n\n              if (!this.fileContent) {\n                this.loadLocalFile(h_, el.replace(\"./\", \"/wbc-ui2-files/\"));\n              }\n              main = this.fileContent;\n              // main = h_(\"li\", this.fileContent);\n\n              // main = h_(\"iframe\", {\n              //   attrs: {\n              //     src: this.fileContent,\n              //   },\n              //   class: \"container white\",\n              //   style: {\n              //     // position: 'absolute',\n              //     top: 0,\n              //     left: 0,\n              //     height: \"100vh\",\n              //     width: \"100vh\",\n              //     // border: 0,\n              //   },\n              //   ref: \"rawHtml\",\n              // });\n            }\n\n            ///////////////// Videos ////////////////////\n            //  source = getMedia('video', el)\n            // main =  h_('video', {\n            //   attrs: {\n            //     title: source,\n            //     src: source,\n            //     controls: true,\n            //     frameborder: \"0\",\n            //     allow: \"autoplay; encrypted-media\",\n            //     allowfullscreen: true,\n            //     allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n            //     referrerpolicy: \"strict-origin-when-cross-origin\"\n            //   },\n            //   class: 'container',\n            //   // style:{width:'auto'},\n            //   ref: 'rawHtml',\n            // })\n          } else if (el.startsWith(\"https://\") || el?.startsWith?.(\"http://\")) {\n            if (\n              [\".docx\", \".Docx\"].some((e) =>\n                theMediaArr[theMediaArr.length - 1].includes(e)\n              )\n            ) {\n              main = h_(\"VueOfficeDocx\", {\n                props: {\n                  src: el,\n                },\n                class: \"container\",\n                style: {\n                  // position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  // height: '100%',\n                  // width: '100%',\n                  // border: 0,\n                },\n                ref: \"rawHtml\",\n              });\n            } else if (\n              [\".xlsx\", \".Xlsx\"].some((e) =>\n                theMediaArr[theMediaArr.length - 1].includes(e)\n              )\n            ) {\n              main = h_(\"VueOfficeExcel\", {\n                props: {\n                  src: el,\n                },\n                class: \"container white\",\n                style: {\n                  // position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  height: \"100vh\",\n                  width: \"100vh\",\n                  // border: 0,\n                },\n                ref: \"rawHtml\",\n              });\n            } else if (\n              [\".doc\", \".xls\", \"md\", \"txt\", \"pptx\", \".xls\"].some((e) =>\n                theMediaArr[theMediaArr.length - 1].includes(e)\n              )\n            ) {\n              main = h_(\"VueDocPreview\", {\n                props: {\n                  url: el,\n                  type: \"office\",\n                  // code: \"css\",\n                  // height: \"100%\",\n                },\n                class: \"container\",\n                style: {\n                  // resize: 'both',\n                  // position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  width: \"100vh\",\n                  height: \"100vh\",\n                  //   border: 0,\n                },\n                ref: \"rawHtml\",\n              });\n            } else if (\n              [\n                \".mp3\",\n                \".wav\",\n                \".aiff\",\n                \".flac\",\n                \".m4a\",\n                \".ogg\",\n                \".aac\",\n                \".wma\",\n                \".ape\",\n                \".realaudio\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              main = h_(\"audio\", {\n                attrs: {\n                  title: el,\n                  src: el,\n                  controls: true,\n                  autoplay: !true,\n                },\n                class: \"container\",\n                style: {\n                  // width: 'auto',\n                  height: \"revert\",\n                  width: \"revert\",\n                  // backgroundColor:'red',\n                },\n                ref: \"rawHtml\",\n              });\n            } else if (\n              [\n                \".apng\",\n                \".avif\",\n                \".ico\",\n                \".gif\",\n                \".tiff\",\n                \".webp\",\n                \".jpeg\",\n                \".png\",\n                \".webp\",\n                \".jpg\",\n                \".jpeg\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              let imgObj = {\n                attrs: {\n                  title: el,\n                  src: el,\n                },\n                class: \"container\",\n                // style:{width:'auto'},\n                ref: \"rawHtml\",\n              };\n\n              if (el.includes(\".ico\")) {\n                imgObj.attrs.alt = \"Icon\";\n              }\n\n              main = h_(\"img\", imgObj);\n            } else if (\n              [\n                \".mp4\",\n                \".avi\",\n                \".mov\",\n                \".wmv\",\n                \".avchd\",\n                \".flv\",\n                \".f4v\",\n                \".swf\",\n                \".mkv\",\n                \".webm\",\n                \".html5\",\n                \".mpeg-2\",\n              ].some((e) => theMediaArr[theMediaArr.length - 1].includes(e))\n            ) {\n              main = h_(\"video\", {\n                attrs: {\n                  title: el,\n                  src: el,\n                  controls: true,\n                  frameborder: \"0\",\n                  allow: \"autoplay; encrypted-media\",\n                  allowfullscreen: true,\n                  allow:\n                    \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                  referrerpolicy: \"strict-origin-when-cross-origin\",\n                },\n                class: \"container\",\n                // style:{width:'auto'},\n                ref: \"rawHtml\",\n              });\n            } else if (\n              [\n                \"//www.youtube\",\n                \"//youtube\",\n                \"//www.youtu.be\",\n                \"//youtu.be\",\n              ].some((e) => el.includes(e)) &&\n              !el.includes(\"embed\")\n            ) {\n              // alert('youtube')\n              // alert(el.replace('.com/', '.com/embed/').replace('.be/', 'be.com/embed/'))\n              main = h_(\"iframe\", {\n                class: \"video-stream html5-main-video\",\n                attrs: {\n                  title: el,\n                  src: el\n                    .replace(\".com/\", \".com/embed/\")\n                    .replace(\".be/\", \"be.com/embed/\"),\n                  controls: true,\n                  frameborder: \"0\",\n                  allow: \"autoplay; encrypted-media\",\n                  allowfullscreen: true,\n                  allow:\n                    \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                  referrerpolicy: \"strict-origin-when-cross-origin\",\n                },\n                class: \"container\",\n                // style:{width:'auto'},\n                ref: \"rawHtml\",\n              });\n            } else {\n              if (!this.mediaData) {\n                // this.mediaData='aaaaaaaaaaaaaaaaaaaaa'\n                // global.j=this.mediaData\n\n                if (!this.fileContent) {\n                  this.loadLocalFile(h_, el);\n                }\n                main = this.fileContent;\n\n                // this.getUrlResponse(el)\n                //   .then((response) => {\n                //     const contentType = response.headers.get(\"Content-Type\");\n                //     console.log(\n                //       \"Response data:,el \",\n                //       el,\n                //       response,\n                //       response?.data,\n                //       contentType\n                //     );\n                //     if (contentType.includes(\"application/json\")) {\n                //       // alert('json')\n                //       this.mediaData = h_(\"WBDataViewer\", {\n                //         title: el,\n                //         props: { value: response?.data || response },\n                //       }); // Set the global variable to the response data\n                //     } else if (contentType.includes(\"image/\")) {\n                //       this.mediaData = h_(\"img\", {\n                //         attrs: {\n                //           src: el,\n                //         },\n                //         class: \"container\",\n                //         style: {\n                //           /* width: 'auto' */\n                //         },\n                //         ref: \"rawHtml\",\n                //       });\n                //     } else if (contentType.includes(\"application/doc\")) {\n                //       // alert('docx' + el)\n                //       this.mediaData = h_(\"VueDocPreview\", {\n                //         props: {\n                //           value: el,\n                //         },\n                //         class: \"container\",\n                //         style: {\n                //           // resize: 'both',\n                //           // // position: 'absolute',\n                //           // top: 0,\n                //           // left: 0,\n                //           // height: '100%',\n                //           // width: '100%',\n                //           // border: 0,\n                //         },\n                //         ref: \"rawHtml\",\n                //       });\n                //     } else if (contentType.includes(\"application/excel\")) {\n                //       // alert('docx' + el)\n                //       this.mediaData = h_(\"VueOfficeExcel\", {\n                //         props: {\n                //           src: el,\n                //         },\n                //         class: \"container\",\n                //         style: {\n                //           // resize: 'both',\n                //           // // position: 'absolute',\n                //           // top: 0,\n                //           // left: 0,\n                //           // height: '100%',\n                //           // width: '100%',\n                //           // border: 0,\n                //         },\n                //         ref: \"rawHtml\",\n                //       });\n                //     } else if (contentType.includes(\"application/pdf\")) {\n                //       // alert('pdf' + el)\n                //       // else if (contentType.includes('application/pdf')) {\n                //       this.mediaData = h_(\"pdf\", {\n                //         props: {\n                //           src: el,\n                //         },\n                //         class: \"container\",\n                //         style: {\n                //           // width: 'auto',\n                //           // height: 'revert',\n                //           // backgroundColor:'red',\n                //         },\n                //         ref: \"rawHtml\",\n                //       });\n                //       // }\n                //       // this.mediaData = h_('VueOfficePdf', {\n                //       //       props: {\n                //       //         src: el,\n                //       //       },\n                //       //       class: 'container',\n                //       //       style: {\n                //       //         // resize: 'both',\n                //       //         // // position: 'absolute',\n                //       //         // top: 0,\n                //       //         // left: 0,\n                //       //         // height: '100%',\n                //       //         // width: '100%',\n                //       //         // border: 0,\n                //       //       },\n                //       //       ref: 'rawHtml',\n                //       //     })\n                //     } else if (\n                //       [\"/html\"].some((e) => contentType.includes(e)) &&\n                //       el.includes(\"html\") &&\n                //       !el.includes(\"?src\")\n                //     ) {\n                //       this.mediaData = h_(\"WBHtml\", {\n                //         ref: \"rawHtml\",\n                //         props: { html: response.data },\n                //       });\n                //       // Set the global variable to the response data\n                //     } /* if (['/javascript', '/js', '/css', '/java', '/typescript', '/ts', '/cpp', '/xml', '/html','/php', '/bash', '/less', '/nginx', '/powershell', '/python', '/scss', '/shell', '/sql', '/yaml', '/ini'].some(e => contentType.includes(e))) */ else {\n                //       // alert('code')\n                //       this.mediaData = h_(\"VCM\", {\n                //         style: {\n                //           // resize: 'both',\n                //           // position: 'absolute',\n                //           top: 0,\n                //           left: 0,\n                //           width: \"100%\",\n                //           height: \"100%\",\n                //           //   border: 0,\n                //         },\n\n                //         class: \"container\",\n                //         props: {\n                //           value: response?.data || response,\n                //           ref: \"myCm\",\n                //           tabSize: 14,\n                //           // mode: \"text/css\",\n                //           mode: contentType,\n                //           // mode: 'text/html',\n                //           theme: \"default\",\n\n                //           // lineNumbers: true,\n                //           // line: true,\n\n                //           // options: {\n                //           //   lineWrapping: true, // Enable line wrapping\n                //           //   viewportMargin: Infinity,\n                //           //   //Codemirror options\n                //           // }\n\n                //           options: {\n                //             // tabSize: 4,\n                //             styleActiveLine: true,\n                //             lineNumbers: true,\n                //             line: true,\n                //             foldGutter: true,\n                //             styleSelectedText: true,\n                //             // keyMap: \"sublime\",\n                //             matchBrackets: true,\n                //             showCursorWhenSelecting: true,\n                //             // theme: \"monokai\",\n                //             extraKeys: { Ctrl: \"autocomplete\" },\n                //             hintOptions: {\n                //               completeSingle: !false,\n                //             },\n                //           },\n                //         },\n                //         ref: \"rawHtml\",\n                //       });\n\n                //       // this.mediaData = h_('WBHtml', { props: { html: response.data } })\n                //     }\n\n                //     // else {\n                //     //   this.mediaData = h_('WBHtml', { props: { html: response.data } })\n\n                //     //   // this.mediaData = h_('iframe', {\n                //     //   //   attrs: {\n                //     //   //     title: el,\n                //     //   //     src: el,\n                //     //   //     controls: true,\n                //     //   //     frameborder: \"0\",\n                //     //   //     allow: \"autoplay; encrypted-media\",\n                //     //   //     allowfullscreen: true,\n                //     //   //     allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                //     //   //     referrerpolicy: \"strict-origin-when-cross-origin\"\n                //     //   //   },\n                //     //   //   class: 'container',\n                //     //   //   style: {\n                //     //   //     resize: 'both',\n                //     //   //     //  position: 'absolute',\n                //     //   //     top: 0,\n                //     //   //     left: 0,\n                //     //   //     height: '100%',\n                //     //   //     width: '100%',\n                //     //   //     border: 0,\n                //     //   //   },\n                //     //   //   ref: 'rawHtml',\n                //     //   // })\n                //     // }\n\n                //     // console.log('contentTypeeeeeeeeee :>> ', contentType);\n                //   })\n                //   .catch((error) => {\n                //     this.mediaData = h_(\"iframe\", {\n                //       attrs: {\n                //         src: el,\n                //         controls: true,\n                //         frameborder: \"0\",\n                //         allow: \"autoplay; encrypted-media\",\n                //         allowfullscreen: true,\n                //         allow:\n                //           \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                //         referrerpolicy: \"strict-origin-when-cross-origin\",\n                //       },\n                //       class: \"container white\",\n                //       style: {\n                //         resize: \"both\",\n                //         // position: 'absolute',\n                //         top: 0,\n                //         left: 0,\n                //         height: \"100%\",\n                //         width: \"100%\",\n                //         border: 0,\n                //       },\n                //       ref: \"rawHtml\",\n                //     });\n                //     console.error(\"Error:\", error);\n                //     // this.mediaData = el//h_('li',[el]); // Set the global variable to the error if it occurs\n                //   });\n\n                // main = this.mediaData\n              }\n\n              // else {\n\n              // \t// this.getUrlResponse(el).then(response => {\n              // \t// \tmain = response; // Use the response data here\n              // \t// }).catch(error => {\n              // \t// \tconsole.error('Error:', error); // Handle any potential errors\n              // \t// });\n\n              // \t// Call the method and handle the response\n              // \t// else {\n\n              // \t// }\n\n              // }\n\n              // main = this.fileContent; // Set the global variable to the response data\n            }\n\n            // if (this.mediaData){\n            // < iframe width = \"1251\" height = \"834\" src = \"https://www.youtube.com/embed/U6uUNRt_grk?list=RDU6uUNRt_grk\" title = \"Adam Sarra Al Hani -     \" frameborder = \"0\" allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy = \"strict-origin-when-cross-origin\" allowfullscreen > </>\n\n            // <iframe width=\"560\" height = \"315\" src = \"https://www.youtube.com/embed/U6uUNRt_grk?list=RDU6uUNRt_grk&start_radio=1\" frameborder = \"0\" allow = \"autoplay; encrypted-media\" allowfullscreen > </iframe>\n\n            // }\n            // ];\n          } else if (\n            typeof el === \"string\" &&\n            el.startsWith(\"<\") &&\n            el.endsWith(\">\")\n          ) {\n            main = h_(el.replace(\"~\", \"\").replace(\"<\", \"\").replace(\">\", \"\"), {\n              ref: \"rawHtml\",\n            });\n          } else {\n            main = h_(\"WBHtml\", {\n              ref: \"rawHtml\",\n\n              // key: `wbhtml-key-${this.computedKey('el')}-${el.length}`,\n              props: {\n                html: el,\n              },\n            });\n          }\n        } else if (typeof el == \"boolean\") {\n          // main = h_('input', {\n          // \tref: 'rawHtml',\n          // \tattrs: { type: 'checkbox', checked: el },\n          // \tkeyy: `bool-${this.computedKey(el)}-${Number(el)}`,\n          // \tprops: {\n          // \t\tvalue: true,\n          // \t\tlabel: 'Boolean',\n          // \t},\n          // \ton: {\n          // \t\tchange: (event) => {\n          // \t\t\t// alert('aaaaaaaaaaaaa')\n          // \t\t\t// console.log(event);\n          // \t\t\tel = !el;\n          // \t\t},\n          // \t},\n          // });\n          main = h_(\"VCheckbox\", {\n            ref: \"rawHtml\",\n            // attrs: { type: 'checkbox', checked: el },\n            // key: `bool-${this.computedKey(el)}-${Number(el)}`,\n            props: {\n              value: el,\n              // label: 'Boolean',\n            },\n            on: {\n              change: (v) => {\n                // alert('aaaaaaaaaaaaa' + el)\n                console.log(v);\n                el = !v;\n                // el = event.target.value == 'on';\n              },\n            },\n          });\n        } else if (typeof el == \"number\") {\n          main = h_(\n            \"span\",\n            {\n              ref: \"rawHtml\" /* ,key: `int-${this.computedKey(el)}-${this.key_}` */,\n            },\n            [el]\n          );\n        } else if (Array.isArray(el)) {\n          // console.log('elmmmmmmmmmmmm :>> ', el);\n\n          // alert('11111111111')\n\n          // if(typeof el[0]?.comp=='string' and el[0]?.comp.includes('~') ){\n          // let v0\n          //\n          // console.log('aaaaaaaaaaaaaaaaaaa',el,el?.[0])\n          /* if(el.length==1){\n            main=h_('div',{class:'blue pa-15'},['level',this.toWBC_(el[0], h_)])\n          }\n          else if(Array.isArray(el?.[0])){\n            console.log('bbbbbbbbbbbbbbbbbbbbb',el,el?.[0])\n            // main=[h_('li',{class:'black'},[this.toWBC_(el[0], h_)]),this.toWBC_(el.length>1?el.slice(1):null,h_)]\n            main=this.toWBC_([h_('li',{class:'black'},[this.toWBC_(el[0], h_)]),this.toWBC_(el.length>1?el.slice(1):null,h_)],h_)\n            // main=h_('li',['main main content to adddddddddddddddd'])\n          }\n          else   */\n          // console.log('---------------------',el)\n\n          if (\n            typeof el?.[0] === \"string\" &&\n            el?.[0].startsWith(\"<\") &&\n            el?.[0].endsWith(\">\")\n          ) {\n            // console.log('---------------------0000000',el)\n            let theTag;\n            let theOptions;\n            let theLink;\n\n            let theTagSlip = el?.[0]\n              .replace(\"<\", \"\")\n              .replace(\">\", \"\")\n              .split(\"|\");\n            // console.log('---------------------',theTagSlip)\n            // let theTag=el?.[0]\n            theTag = theTagSlip?.[0].replace(\"<\", \"\").replace(\">\", \"\");\n\n            theOptions = this.strToObj(theTagSlip?.[1]);\n            // console.log('---------------------111111',theOptions)\n            if (!this.isNonEmpty(theOptions)) {\n              theOptions = {};\n            } else if (typeof theOptions == \"string\") {\n              theOptions = { class: theOptions };\n            }\n\n            // let theTag=h_(el?.[0].replace('~','').replace('<','').replace('>',''))\n            let e = {\n              comp: theTag,\n              options: theOptions,\n            };\n\n            // main=h_('a',{},[main])\n\n            if (theTagSlip?.[2]) {\n              e.options.to = this.strToObj(theTagSlip[2]);\n            }\n\n            // theTag='span'\n            if (el?.[0]?.includes(\"~\")) {\n              main = h_(\n                theTag.replace(\"~\", \"\"),\n                {\n                  ...(theOptions || {}),\n                  ref: \"rawHtml\",\n                },\n                [\n                  // h_('WBC',{/* keyy: `wbc-key-nested0-${this.computedKey(el?.options?.key)}`, */props:{item:el.length>1?el.slice(1):null}})\n\n                  this.toWBC_(el.length > 1 ? el.slice(1) : null, h_),\n                ]\n              );\n            } else {\n              /* let arrr = [];\n              for (let k = 1; k < el.length; k++) {\n                arrr.push(this.toWBC_(e, h_, el[k]) )\n                \n              }\n\n              main =arrr */\n              main = el.slice(1).map((item, i) => {\n                // console.log('itemmmmmmmmmmmmm :>> ', item, h_('WBC', { props: {item:e} }));\n                // e.footer=item\n                // return h_('WBC',{key: `wbc-key-nested0-${this.computedKey(el?.options?.key)}`,props:{item:e,children:item}})\n                return this.toWBC_(e, h_, item);\n              });\n            }\n\n            // if(theTagSlip?.[2]){\n            // \t// main=h_('a',{},[main])\n\n            // \tmain=h_('WBLink', {\n\n            // \t\tprops: {\n            // \t\t\tto: this.strToObj(theTagSlip[2]),\n            // \t\t\thtml: this.toWBC_(main,h_),\n            // \t\t\tstyle_: {},\n            // \t\t\tattrs: {}\n            // \t\t}\n            // \t})\n\n            // }\n\n            // main=this.toWBC_(el[0], h_,el.length>1?el.slice(1):null)\n          } else if (\n            (typeof el?.[0]?.comp == \"string\" &&\n              (el?.[0]?.comp?.includes(\"~\") ||\n                el?.[0]?.comp?.includes(\"*\") ||\n                (el?.[0]?.comp?.startsWith(\"<\") &&\n                  el?.[0]?.comp?.endsWith(\">\")))) ||\n            ([\"nested\", \"herit\", \"adjacent\"].includes(\n              el?.[0]?.options?.disposition\n            ) &&\n              el?.[0]?.options?.hide)\n          ) {\n            // alert('9999999999999')\n\n            let newArr = [];\n            // let el0=el?.[0]\n            let el0 = this.clone(el?.[0]);\n            // el0.comp=el0.comp.replace('<','').replace('>','')\n\n            let heritItem;\n\n            if (\n              el?.[0]?.options?.disposition == \"nested\" ||\n              el?.[0]?.comp?.includes(\"~\")\n            ) {\n              let theTag = el[0].comp\n                .replace(\"<\", \"\")\n                .replace(\">\", \"\")\n                .replace(\"~\", \"\");\n              //  let theTag = 'li'\n              let theOptions = el[0]?.options || {};\n              // el[0].comp=el[0].comp.replace('<','').replace('>','')\n              // el[0].comp=el[0].comp.replace('~','')\n\n              // v0=this.toWBC_(el[0], h_)\n              //  newArr=this.toWBC_(el[0], h_,el.length>1?el.slice(1):null)\n              //  newArr=h_('WBC',{keyy: `wbc-key-arr-${this.computedKey(el?.options?.key)}`,props:{item:el[0],children:el.length>1?el.slice(1):null}})\n\n              newArr = h_(theTag, { ...(theOptions || {}) }, [\n                // h_('WBC',{/* keyy: `wbc-key-nested0-${this.computedKey(el?.options?.key)}`, */props:{item:el.length>1?el.slice(1):null}})\n                this.toWBC_(el?.[0]?.header, h_),\n                this.toWBC_(el?.[0]?.options?.headers, h_),\n                this.toWBC_(el?.[0]?.options?.html, h_),\n\n                this.toWBC_(el.length > 1 ? el.slice(1) : null, h_),\n\n                this.toWBC_(el?.[0]?.footer, h_),\n                this.toWBC_(el?.[0]?.options?.footers, h_),\n              ]);\n\n              // if(el.length>1){ v0.children=[...(v0?.children||[]),this.toWBC_(el.slice(1), h_)]}\n            } else if (\n              el?.[0]?.options?.disposition == \"herit\" ||\n              el0?.comp?.includes(\"*\")\n            ) {\n              // alert('hhhhhhhhhhhhhhhhhhhh'+el?.[0]?.comp)\n              el.slice(1).forEach((item, i) => {\n                // el0.children=item\n\n                // alert('**************'+item)\n                if (this.isPlainObject(item)) {\n                  //  let e= {\n                  // \t...el0,\n                  // \t...(item||{}),\n                  // \tdive:true,\n                  // \t// comp:el0.comp.replace('*','')\n                  // \toptions:this.mergeObjects(el0?.options||{},item?.options||{}),\n                  // \t// },\n                  //  }\n\n                  let e = this.mergeObjects(el0, item);\n                  // newArr.push(this.toWBC_(e,h_))\n                  newArr.push(\n                    h_(\"WBC\", {\n                      // key: `wbc-key-arr-${i}-${this.computedKey(el?.options?.key)}`,\n                      props: { item: e },\n                    })\n                  );\n                } else {\n                  let e0 = {\n                    ...el0,\n                    // dive:true,\n                    // comp:el0.comp.replace('*','')\n                    options: {\n                      ...(el0?.options || {}),\n                      // footers:item,\n                    },\n                  };\n\n                  // let e0 = { ...el0 };\n                  e0.options.html = [e0?.options?.html, item];\n                  (\"el\");\n                  // e0.options.html = item;\n                  // e0.options.html = [e0?.options?.html,item];\n                  e0.comp = e0.comp\n                    .replace(\"*\", \"\")\n                    .replace(\"<\", \"\")\n                    .replace(\">\", \"\");\n\n                  // heritItem=this.toWBC_(e0,h_)\n                  // heritItem=this.toWBC_(el0,h_,item)\n\n                  newArr.push(\n                    h_(\"WBC\", {\n                      // keyy: `wbc-key-arr-${this.computedKey(el?.options?.key)}`,\n                      props: { item: e0 },\n                    })\n                  );\n                  // newArr.push(this.toWBC_(e0,h_))\n                }\n              });\n            } else if (\n              el?.[0]?.options?.disposition == \"adjacent\" ||\n              (el?.[0]?.comp?.startsWith(\"<\") && el?.[0]?.comp?.endsWith(\">\"))\n            ) {\n              newArr = el.slice(1).map((item, i) => {\n                // return h_('WBC', {\n                // keyy: `wbc-key-arr-${i}-${this.computedKey( el?.options?.key )}`,\n                // \tprops: { item: el0, children: item },\n                // });\n                return this.toWBC_(el0, h_, item);\n              });\n            }\n            // else{\n            // \tel0.comp=el0.comp.replace('~','')\n            // \tnewArr=this.toWBC_(el0,h_,el.slice(1))\n            // }\n            main = newArr;\n            // main=this.toWBC_(newArr,h_)\n          }\n\n          // }\n          else {\n            let v0 = h_(\"WBC\", {\n              ref: \"rawHtml\",\n              // key: `wbc-child-${this.computedKey(el?.options?.key)}`,\n              props: { item: el[0] },\n            });\n            // let rest = h_('WBC', {\n            // \tkey: `wbc-ext-child-${this.computedKey(el?.options?.key)}`,\n            // \tprops: { item: el.slice(1) }\n            // })\n            // main=[v0,rest]\n\n            // let v0=el[0]\n            // main = [v0, h_('WBC', { props: { item:el.length > 0 ? el.slice(1) : null } })];\n\n            main = [v0, this.toWBC_(el.length > 0 ? el.slice(1) : null, h_)];\n          }\n        } else {\n          extChildren = h_(\"WBC\", {\n            /* key: `wbc-ext-child-${this.computedKey(el?.options?.key)}`, */ props:\n              { item: externalChildren },\n          });\n          // extChildren =this.toWBC_(externalChildren, h_)\n\n          options = this.options(el);\n          comp = this.comp(el);\n\n          // header=this.globalHeaderVN(el,h_)\n          // footer=this.globalFooterVN(el,h_)\n\n          globalHeaderVN = this.globalHeaderVN(el, h_);\n          // console.log('globalHeaderVN :>> ',el, globalHeaderVN);\n          // globalHeaderVN = this.toWBC_(header, h_)\n          globalFooterVN = this.globalFooterVN(el, h_);\n\n          // globalFooterVN = this.toWBC_(footer, h_)\n\n          // headers=this.insideHeadersVN(el,h_)\n          // footers=this.footers(el)\n\n          insideHeadersVN = this.insideHeadersVN(el, h_);\n          insideFootersVN = this.insideFootersVN(el, h_);\n          // headers =this.toWBC_(this.headers(el), h_)\n\n          // insideFooters =h_('WBC',{key: `wbc-key-footers-${this.computedKey(el?.options?.key)}`,props:{item:footers}})\n          // footers =this.toWBC_(this.footers(el), h_)\n\n          // footers =h_('WBC',{keyy: `wbc-key-footers-${this.computedKey(el?.options?.key)}`,props:{item:options?.footers}})\n          // // footers =this.toWBC_(options?.footers, h_)\n\n          //#############//\n\n          let InputLikeComponent = [\n            \"input\",\n            \"checbox\",\n            \"radio\",\n            \"select\",\n            \"textarea\",\n            \"VTextField\",\n            \"VCheckbox\",\n            \"VTextarea\",\n            \"VSelect\",\n            \"VRadio\",\n            \"VSlider\",\n            \"VRangeSlider\",\n            \"VSwitch\",\n            \"VAutocomplete\",\n            \"VDatePicker\",\n            \"VColorPicker\",\n            \"VMenu\",\n            \"VRadioGroup\",\n            \"vTimePicker\",\n          ];\n\n          if (InputLikeComponent.includes(comp)) {\n            // alert('inpuuuuuuuuuuuuuuuuuuuut')\n            ////////////////////V-Model alernative: initialisons events ///////////////////////\n\n            // if (!options?.on) {\n            // \tcustomListeners = {};\n            // }\n\n            // el?.options?.val=this.$refs?.[el?.options?.ref]?.lazyValue\n            // if(options?.attrs){options.attrs.value=this.$refs?.[el?.options?.ref]?.lazyValue;}\n            // if(options?.props?.value){options.props.value=this.$refs?.[el?.options?.ref]?.lazyValue;}\n            // if(options?.props?.value){options.props.value=this.$refs?.[el?.options?.ref]?.lazyValue;}\n\n            // if (Array.isArray(options?.rules) /* && rules !== null */) {\n            // \talert('rules')\n\n            // \t\t\t\t\t\t\trules = options?.rules.map(key => {\n\n            // \t\t\t\t\t\t\t\tif (this.validators?.[key]) {\n            // \t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, { lg: this.lang })\n            // \t\t\t\t\t\t\t\t}\n            // \t\t\t\t\t\t\t\telse {\n\n            // \t\t\t\t\t\t\t\t\treturn key\n            // \t\t\t\t\t\t\t\t}\n            // \t\t\t\t\t\t\t})\n            // \t\t\t\t\t\t}\n\n            // \t\t\t\t\t\telse if (typeof options?.rules == 'object' ) {\n\n            // \t\t\t\t\t\t\trules = Object.entries(options.rules).map(([key, val]) => {\n            // \t\t\t\t\t\t\t\tif (this.validators?.[key] && typeof val == 'function') {\n            // \t\t\t\t\t\t\t\t\treturn val\n            // \t\t\t\t\t\t\t\t}\n            // \t\t\t\t\t\t\t\telse if (this.validators?.[key] && typeof val == 'object') {\n            // \t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, val)\n            // \t\t\t\t\t\t\t\t}\n            // \t\t\t\t\t\t\t\telse {\n            // \t\t\t\t\t\t\t\t\treturn v => this.validators[key](v, { lg: this.lang, message: val })\n\n            // \t\t\t\t\t\t\t\t}\n            // \t\t\t\t\t\t\t})\n            // \t\t\t\t\t\t}\n\n            // let updateInputValue=(event)=> {\n            // \tif (typeof event == 'object' && event?.target) {\n            // \t\t// alert('changed0')\n            // \t\tif (event?.target?.type == 'checkbox') {\n\n            // \t\t\t// this.item_.options['val'] = event?.target?.checked || false;\n            // \t\t\toptions.attrs['checked'] = event?.target?.checked || false;\n            // \t\t}\n            // \t\toptions['val'] = event?.target?.value || event?.target?.checked || false;\n\n            // \t}\n            // \telse {\n            // \t\tif (el?.hComp == 'VCheckbox') {\n            // \t\t\toptions['val'] = !options?.['val']||false;\n            // \t\t}\n            // \t\telse {\n            // \t\t\tconsole.log(22222222222222222, event,this)\n            // \t\t\toptions['val'] = event || '';\n            // \t\t\t// options.props.value=event\n            // \t\t\t// options.isValid = this.$refs.rawHtml.valid;\n\n            // \t\t}\n            // \t}\n            // \tif (options?.props){\n            // \t\toptions.props.value=options['val']\n            // \t}\n            // \tif (options?.attrs){\n            // \t\toptions.attrs.value=options['val']\n            // \t}\n\n            // }\n            // options['val'] =this.$refs[el?.options?.ref]?.lazyValue||'tttttttt';\n\n            this.itemListeners.input = (v) => {\n              // alert('change00000 event occurred');\n              this.internalValue = v;\n\n              // this.internalValueIsValid = this?.$refs[this.refName]?.valid\n\n              this.internalValueIsValid = this?.$refs[this.refName]?.validate(\n                true,\n                v\n              );\n              // console.log('change00000 event occurred', this?.$refs[this.refName], v, this.internalValueIsValid);\n\n              // this.$emit('input', v);\n            };\n            // this.itemListeners.update =(v)=>{\n            // \t// alert('updated')\n            // \tthis.internalValue= v\n            // \t// this.$emit('update', v);\n            // };\n            // this.itemListeners.change =(v)=>{\n            // \t// alert('chanf=ged')\n            // \tthis.internalValue= v\n            // \t// this.$emit('change', v);\n            // };\n\n            // options.attrs={}\n\n            // if(options?.props?.value){options.props.value=this.internalValue}\n            // options.on.input = options?.on?.input || this.updateInputValue;\n            // options.on.change = options?.on?.change || this.updateInputValue;\n            // options.on.update = options?.on?.update || this.updateInputValue;\n          }\n          // if (InputLikeComponent.includes(el.hComp)) {\n          // \t////////////////////V-Model alernative: initialisons events ///////////////////////\n\n          /////////////////////////////////////////\n\n          ////////////////////////////////////////////////////\n          /////////////maniputation of main el ////////////////\n          ////////////////////////////////////////////////////\n\n          // let rules = options?.props?.rules\n\n          // options.props.rules=rules\n\n          /* if (!(comp||el.hComp)) {\n            return null;\n          }\n          else */\n\n          if (el?.protected) {\n            let protectedContent = {\n              comp: \"VAlert\",\n              options: {\n                // class:'red',\n                html: `{\n\t\t\t\t\t\t\t\ten: \"Forbidden access\",\n\t\t\t\t\t\t\t\tfr:'Accs interdit',\n\t\t\t\t\t\t\t\tar:' '\n\t\t\t\t\t\t\t\t}`,\n                props: {\n                  type: \"error\",\n                  variant: \"outlined\",\n                  // width:'auto'\n                },\n              },\n            };\n\n            if (el?.protected === true) {\n              main = h(\"WBC\", {\n                /* keyy: `wbc-key-header-${this.computedKey(el?.options?.key)}`, */ props:\n                  { item: protectedContent },\n              });\n            } else if (el?.protected) {\n              // protectedContent.options.html=el?.protected\n              protectedContent = el?.protected;\n            }\n\n            main = h(\"WBC\", {\n              ref: \"protectHtml\",\n              key: `wbc-key-header-${this.computedKey(el?.options?.key)}`,\n              props: { item: protectedContent },\n            });\n          } else if (options?.hide || this.hide) {\n            main = null;\n          } else if (\n            options?.load === true ||\n            (typeof options?.load == \"object\" && options?.load?.active === true)\n          ) {\n            let loadDefaultComp = {\n              comp: \"VProgressCircular\",\n              options: {\n                keyy: `load-${this.computedKey(el?.options?.key)}`,\n                hide: false,\n                // wrap:'VDialog',\n                props: {\n                  size: \"60\",\n                  width: \"3\",\n                  color: this.rColor /* 'yellow' */,\n                  indeterminate: true,\n                },\n                html: \"{en:'loading...',fr:'chargement...',ar:'...'}\",\n                ...(typeof options?.load?.options == \"object\"\n                  ? options?.load?.options\n                  : {}),\n              },\n            };\n            // }\n\n            // main = h_(loadDefaultComp.comp, {\n            // \t...options,\n            // \t...loadDefaultComp.options,\n            // });\n\n            // main = h_('VDialog',{class:'pa-15 ma-15',props:{value:true}},[h_('WBC',{props:{item:loadDefaultComp}})]);\n            main = h_(\"WBC\", {\n              ref: \"rawHtml\",\n              props: {\n                item: [\n                  \"<~VRow|pa-2 ma-2 justify-center container>\",\n                  loadDefaultComp,\n                ],\n              },\n            });\n          }\n          ////////////////\n          else if (\n            Object.keys(el).length > 0 &&\n            languages.some((e) => Object.keys(el).includes(e))\n          ) {\n            main = h_(\"WBHtml\", {\n              ref: \"rawHtml\",\n\n              // key: `wbhtml-key-${this.computedKey('el')}-${el.length}`,\n              props: {\n                html: el,\n              },\n            });\n          } else if (Object.keys(el).length > 0 && !el?.comp) {\n            // el=this.objLang(el,this.lang)\n\n            // console.log('lllllllllllllll44444444444', el, comp);\n            // this.raise(el,'a')\n\n            let theHtml = [];\n            let newObj1 = {\n              comp: el?.options?.comp || \"div\",\n              options: { ...(el?.options || {}) /* ,disposition:'nested' */ },\n            };\n\n            // let theComp='div'\n            let wrapObj = el?.options?.wrap;\n\n            // if (el?.options?.wrap instanceof Object && this.isNonEmpty(el?.options?.wrap)) {\n            // \twrapObj = el?.options?.wrap\n            // \t// newObj1.comp = el?.options?.wrap?.comp\n            // \tnewObj1 = {...el?.options?.wrap}||{}\n            // \tnewObj1.options.disposition = 'nested'\n            // \t// newObj1?.options.disposition??='nested'\n            // \t// console.log('88888888888888',newObj1)\n\n            // \ttheComp = el?.options?.wrap.comp\n            // \ttheOptions = { ...el?.options, ...(el?.options?.wrap?.options||{}) }\n            // }\n\n            // newObj1.comp = '~div';\n            // newObj1.options = el?.options || {};\n\n            let keyToAvoid = [\n              \"comp\",\n              \"output\",\n              \"props\",\n              \"options\",\n              \"hOptions\",\n              \"switch\",\n              \"footer\",\n              \"footers\",\n              \"header\",\n              \"headers\",\n              \"hFooter\",\n              \"header\",\n              \"hHeader\",\n              \"asChild\",\n              \"wrap\",\n              \"to\",\n              \"disp\",\n              \"mode\",\n              \"prod\",\n              \"key\",\n              \"fStyle\",\n              \"dive\",\n              \"tbDive\",\n              \"watch\",\n              \"forward\",\n            ];\n\n            Object.keys(el)\n              .sort()\n              .forEach((key) => {\n                // theHtml[key] = el[key]\n                if (!keyToAvoid.includes(key)) {\n                  theHtml.push(el[key]);\n                  // let el_i = this.toWBC_(el[key], h_)\n                  // console.log('el_i :>> ', el_i);\n                  // theHtml.push(...Array.isArray(el_i)?el_i:[el_i]);\n                }\n                // else {\n                // \tnewObj1[key] = el[key];\n                // }\n              });\n            // if(!newObj1?.options?.html){\n            // newObj1.options.html=theHtml\n            // }\n            // else if(Array.isArray(newObj1?.options?.html)){\n            // \tnewObj1.options.html.push(theHtml)\n            // }\n            // else{\n\n            // \tnewObj1.options.html = [newObj1.options.html,...html]\n            // }\n\n            // main = h_('WBC', {\n            // \tkeyy: `wbc-without-comp-${this.computedKey(el?.options?.key)}`,\n            // \tprops: { item: [newObj1, theHtml] },\n            // });\n\n            // main = h_(theComp, theOptions, [h_('WBC', { props: { item: theHtml }},)])\n\n            if (wrapObj) {\n              newObj1.comp = wrapObj?.options?.wrap?.comp || newObj1.comp;\n              newObj1.options = {\n                ...(newObj1?.options?.wrap?.options || {}),\n                ...(newObj1?.options || {}),\n              };\n\n              delete newObj1.options.wrap;\n              // newObj1.options.wrap=wrapObj\n              // main = this.toWBC_(wrapObj,h_,this.toWBC_(newObj1, h_, theHtml))\n            }\n            // newObj1.options.html= theHtml\n\n            // main = this.toWBC_(newObj1, h_)\n            main = this.toWBC_(newObj1, h_, theHtml);\n\n            // main = this.toWBC_(newObj1, h_)\n            // console.log('main :>> ', main);\n          } else if (Array.isArray(comp)) {\n            // console.log(\n            // \t'fffffffffffffffffffffffffjjjjjjjjjj',\n            // \tel,\n            // \tcomp,\n            // \tthis.strToComps(comp)\n            // );\n\n            if (\n              typeof comp == \"string\" &&\n              (comp.includes(\"|\") || comp.includes(\"+\"))\n            ) {\n              comp = this.strToComps(comp);\n            }\n\n            // else\n\n            // if (Array.isArray(comp)) {\n            let newArr = [];\n            // let newObj = {\n            // \t// comp: 'div',\n            // \t// options: options || {},\n            // };\n            // let footer = {};\n\n            // \t\tif (typeof el?.comp?.[0] == 'string' && comp?.[0]?.includes('~')\n            // \t\t) {\n\n            // \t\t\tlet theComp=el?.comp?.[0].replace('~',\"\")\n            // \t\tnewObj.comp=[theComp]\n            // \t\tnewObj.options={...(options||{}),...(el?.[theComp]?.options||{})}\n            // \t\tnewObj[theComp]=el[theComp]\n\n            // \t\t// console.log('aaaaaaaaaaaaaaaaaaaaaaaaaaaaabbbbbbbbb',this.toWBC_(newObj,h_))\n            // \t\tfooter={comp:comp.slice(1)}\n            // \t\tcomp.slice(1).filter(e=>e!=theComp).forEach(k=>{\n            // \t\t\tconsole.log('ooooo',k,el[k])\n            // \t\t\tfooter[k.replace('~',\"\")]=el[k.replace('~',\"\")]\n            // \t\t})\n\n            // \t\tnewObj.footer=footer\n            // \t\tconsole.log('aaaaaaaaaaaaaaaaaaaaaaaaaaaaabbbbbbbbb',el,theComp,footer,newObj)\n            // \tel=newObj\n            // \talert('aaaaaaaaaaaaaaaaaaaaaaaaaaaaa')\n            // }\n\n            // else\n            // {\n\n            // \t newObj = {\n            // \tcomp: 'div',\n            // \toptions: options || {},\n            // };\n            // console.log('zzzzzzzzzzzzzzzzz',el,comp)\n\n            //  Object.keys(el).filter(\n            // \t(key) =>\n            // \t\t![\n            // \t\t\t'comp',\n            // \t\t\t'props',\n            // \t\t\t'options',\n            // \t\t\t'oOptions',\n            // \t\t\t'wrap',\n            // \t\t\t'to',\n            // \t\t\t'disp',\n            // \t\t\t'mode',\n            // \t\t\t'prod',\n            // \t\t\t'key',\n            // \t\t\t'fStyle',\n            // \t\t].includes(key)\n            // ).forEach(e=>{\n            // \titemObj[e]=el[e]\n            // })\n\n            comp.forEach((key, i) => {\n              let itemObj = {};\n\n              // console.log('llllllllllllllllllll', key, i);\n              if (typeof key == \"string\") {\n                itemObj =\n                  el?.[key.replace(\"~\", \"\")] ||\n                  `<${key.replace(\"<\", \"\").replace(\">\", \"\")}>`;\n                // if (key.includes('~') && itemObj?.options) {\n                // \titemObj.options.disposition = 'nested';\n                // }\n              } else if (Array.isArray(key)) {\n                // console.log('vbbbbbbbbbbbbbbbbbbbb', key);\n                let keyArrObj = {\n                  comp: key,\n                };\n\n                this.flattenArray(key).forEach((k) => {\n                  if (Object.keys(el).includes(k)) {\n                    keyArrObj[k] = el[k];\n                  }\n                });\n                // itemObj={\n                // \t\tcomp:'div',\n                // \t\theader:'ddddddddddddddd',\n                // \t\toptions:{\n                // \t\t\t\tclass:'grey pa-15',\n                // \t\t\t\thtml:keyArrObj\n                // \t\t\t},\n                // \t\t\t// ...keyArrObj\n                // \t\t}\n                itemObj = h_(\"WBC\", {\n                  keyy: `wbc-flat-arr-${this.computedKey(el?.options?.key)}`,\n                  props: { item: keyArrObj },\n                });\n                // itemObj=this.toWBC_(keyArrObj, h_)\n              } else {\n                itemObj = key;\n              }\n\n              newArr.push(itemObj);\n            });\n            // .forEach((key, i) => {\n            // \t// console.log('wwwwwwwwwwwwwwwwww',key)\n            // \tif (typeof key == 'string') { footer[`${key}_${i}`] = el?.[key] || h_(key) }\n\n            // \tif (Array.isArray(key)) {\n            // \t\t// console.log('yyyyyyyyyyyy',key)\n            // \t\tfooter[`key_${i}`] = { ...el, comp: this.strToComps(key) }\n            // \t}\n            // });\n            // newObj.footer = footer\n            // }\n\n            // el = newArr\n            // main=h_('li','vvvvvvvvvvvvvvvvvv')\n            // console.log('zzzzzzzzzzzzzzzzz',el,comp,newArr)\n\n            main = h_(\"WBC\", {\n              ref: \"arrHtml\",\n              keyy: `wbc-flat-arr-${this.computedKey(el?.options?.key)}`,\n              props: { item: newArr },\n            });\n            // main=this.toWBC_(newArr, h_)\n\n            // }\n\n            // if (typeof el === 'function') {\n            // \talert('fffffffffffffffffffffffff')\n\n            // \tlet theComp = el;\n            // \ttheComp()\n            // \t\t.then((e) => {\n            // \t\t\tlet wb = e?.default || e?.name || 'noNameComp0';\n            // \t\t\tapp.component(wb.name, wb);\n            // \t\t\t// WBC_.component(wb.name, wb);\n\n            // \t\t\twbcObj.components[wb.name] = wb;\n            // \t\t\tcomp = wb.name;\n            // \t\t\toptions.props = {\n            // \t\t\t\t...(wb.props || {}),\n            // \t\t\t\t...options.props,\n            // \t\t\t};\n\n            // \t\t})\n            // \t\t.catch((error) => {\n            // \t\t\t// Handle import errors here\n\n            // \t\t});\n\n            // \t// return objFunc;\n            // }\n          } else if (typeof comp === \"function\" && comp.length == 0) {\n            let theComp = comp;\n            theComp()\n              .then((e) => {\n                let wb = e?.default || e?.name || {};\n                app.component(wb.name, wb);\n                // WBC_.component(wb.name, wb);\n                wbcObj.components[wb.name] = wb;\n                comp = wb.name;\n                options.props = {\n                  ...(wb.props || {}),\n                  ...options.props,\n                };\n              })\n              .catch((error) => {\n                // Handle import errors here\n                //console.error('Error importing component:', error);\n              });\n\n            // options.key+=1\n            // return objFunc;\n          } else {\n            let innerHtml;\n            let elHtml;\n\n            let hInnerHtml;\n\n            let html = this.html(el);\n\n            if (\n              typeof options?.html ==\n                \"object\" /* && (options?.html.comp||options?.html.hComp) */ ||\n              typeof options?.html == \"function\" ||\n              options?.html?.startsWith?.(\"https://\") ||\n              options?.html?.startsWith?.(\"http://\") ||\n              options?.html?.startsWith(\"/\") ||\n              options?.html?.startsWith(\"./\") ||\n              options?.html?.startsWith(\"../\") ||\n              this.isVnode(options?.html) ||\n              [\"VSpacer\", \"VDivider\"].includes(options?.html)\n            ) {\n              innerHtml = h_(\"WBC\", {\n                keyy: `wbc-key-inner-html-${this.computedKey(\n                  el?.options?.key\n                )}`,\n                props: { item: html },\n              });\n              // innerHtml=this.toWBC_(html, h_)\n            } else {\n              elHtml = html;\n              // console.log('el htmmmmmmmmmmmmmmmmmmml',elHtml)\n              innerHtml = h_(\"WBHtml\", {\n                keyy: `wbhtml-key-${elHtml?.length}-${this.computedKey(\n                  el?.options?.key\n                )}`,\n\n                props: {\n                  html: elHtml,\n                },\n              });\n            }\n\n            if (comp == \"MD\") {\n              // main = h_('div', {\n              //   ...options,\n              //   on: {\n              //     click: () => {\n              //       console.log('ttttttttttttttttt',this)\n              //     alert('rendered')\n              //       console.log('markdownittttttttttttttt',  this.MarkdownIt.render(options?.props?.source));\n              //       console.log('turnDownittttttttttt',  this.TurnDown.turndown(options?.props?.source));\n              //       // alert(this.$refs.VMD.render(options?.props?.source));\n\n              //   },\n              // },\n\n              // },\n              // [\n              //     insideHeadersVN,\n              //     innerHtml?.children || innerHtml,\n              //     h_('VMD',\n              //       {\n              //         ...options?.VMDOptions||{},\n              //         props: {\n              //           ...options?.props || {}, ...options?.VMDOptions?.props || {}, source: options?.props?.source,\n              //           on: this.itemListeners,\n              //           attrs: this.attrs,\n              //       },\n              //     },\n              //       [\n\n              //         // innerHtml?.children || innerHtml,\n\n              //         ...Object.entries(options?.slots || {}).map(\n              //           ([slotName, slotVal]) =>\n              //             h_('template', { slot: slotName }, [\n              //               h_('WBC', {\n              //                 keyy: `key-slots-${slotName}-${this.computedKey(\n              //                   el?.options?.key\n              //                 )}`,\n              //                 props: { item: slotVal },\n              //               }),\n              //             ])\n              //         ),\n\n              //       ]\n              //     ),\n              //     // extChildren,\n              //     insideFootersVN,\n              //   ]\n              // );\n              main = h_(\n                \"div\",\n                // options,\n                {\n                  // ref: 'MDHtml',\n                  ref: \"rawHtml\",\n\n                  ...options,\n                  // ...(this.objLang(options,this.lang) ),\n                  // ...(el.switch===true?el?.hoptions:{}),\n                  // props:{...(options?.props||{}),rules:this.itemRules(options)},\n                  // attrs:this.$refs[el?.options?.ref]?.$listeners||{},\n                  // attrs:{...this.itemAttrs(el)},\n                  // on:{...(this.$refs[el?.options?.ref]?.$listeners||{})},\n                  // // attrs:{...(this.$refs[el?.options?.ref]?.$attrs||{})},\n                  // attrs:{...this.$attrs,...(this.$refs[el?.options?.ref]?.$attrs||{}),...(options?.attrs||{})},\n                  // on:{...(this.$refs[el?.options?.ref]?.$listeners||{}),...(options?.on||{})},\n                  // on:{...this.itemListeners(el),...(this.$refs[el?.options?.ref]?.$listeners||{})},\n                  on: this.itemListeners,\n                  // attrs: this.attrs\n\n                  // keyy:`main-key-${this.computedKey(el?.options?.key)}`,\n                },\n                [\n                  // return h_('span',main)\n\n                  // main = [globalHeaderVN,headers, main,footers,globalFooterVN]\n                  // header,\n\n                  // el?.switch===true?hInnerHtml?.children || hInnerHtml:innerHtml?.children || innerHtml,\n                  insideHeadersVN,\n                  innerHtml?.children || innerHtml,\n\n                  h_(\n                    \"div\",\n                    {\n                      ...(options?.MDOptions || {}),\n                    },\n                    [\n                      h_(\"WBHtml\", {\n                        props: {\n                          html: `${this.MarkdownIt.render(options?.src || \"\")}`,\n                        },\n                      }),\n                    ]\n                  ),\n\n                  ...Object.entries(options?.slots || {}).map(\n                    ([slotName, slotVal]) =>\n                      h_(\"template\", { slot: slotName }, [\n                        h_(\"WBC\", {\n                          keyy: `key-slots-${slotName}-${this.computedKey(\n                            el?.options?.key\n                          )}`,\n                          props: { item: slotVal },\n                        }),\n                      ])\n                  ),\n                  // ...Object.entries(options?.slots || {}).map(([slotName, slotVal]) => h_('template', { slot: slotName }, [this.toWBC_(slotVal,h_)])),\n\n                  // el.switch===true?hFooter:footer,\n                  extChildren,\n                  insideFootersVN,\n                  // footer\n                ]\n              );\n            } else if (comp == \"VCM\") {\n              let defaultVCMOptions = {\n                tabSize: 4,\n                styleActiveLine: true,\n                lineNumbers: true,\n                line: true,\n                foldGutter: true,\n                styleSelectedText: true,\n                // keyMap: \"sublime\",\n                matchBrackets: true,\n                showCursorWhenSelecting: true,\n                // theme: \"monokai\",\n                extraKeys: { Ctrl: \"autocomplete\" },\n                hintOptions: {\n                  completeSingle: false,\n                },\n              };\n\n              main = h(\n                \"VContainer\",\n                {\n                  // ref: 'VCMHtml',\n                  ref: \"rawHtml\",\n\n                  ...options,\n                  // class: ' pa-15',\n                },\n                [\n                  insideHeadersVN,\n                  innerHtml?.children || innerHtml,\n                  h_(\n                    \"VCM\",\n                    {\n                      ...(options?.VCMOptions || {}),\n                      props: {\n                        // mode: 'text/javascript',\n                        mode: \"text/html\",\n                        // ...\n                        options: options?.props?.options || defaultVCMOptions,\n                        // ...options?.VCMOptions?.props || {},\n                        value: options?.props?.value,\n                      },\n                      // on: this.itemListeners,\n                      // attrs: this.attrs,\n                      // on: { input:options?.VCMOptions?.on?.input },\n                    },\n                    [\n                      // innerHtml?.children || innerHtml,\n\n                      ...Object.entries(options?.slots || {}).map(\n                        ([slotName, slotVal]) =>\n                          h_(\"template\", { slot: slotName }, [\n                            h_(\"WBC\", {\n                              keyy: `key-slots-${slotName}-${this.computedKey(\n                                el?.options?.key\n                              )}`,\n                              props: { item: slotVal },\n                            }),\n                          ])\n                      ),\n                    ]\n                  ),\n                  // h_('VSelect', {\n                  //   props: {\n                  //     items: [\n                  //       'text/html',\n                  //       'text/x-vue',\n                  //       'text/x-python',\n                  //       'text/javascsript',\n                  //       'text/x-markdown',\n                  //       'text/html',\n                  //       'text/x-python',\n                  //     ],\n                  //     value: this.codeMirroMode\n                  //   },\n                  //   on: {\n                  //     change:(val)=> {\n                  //       alert(val)\n                  //       this.codeMirroMode =val\n                  //     }\n                  //   }\n                  // }),\n                  // extChildren,\n                  insideFootersVN,\n                ]\n              );\n            } else if (comp == \"VIcon\") {\n              main = h_(\n                \"span\",\n                {\n                  // ref: 'raw0Html',\n                  ref: \"rawHtml\",\n                },\n                [\n                  insideHeadersVN,\n                  h_(\n                    comp,\n                    {\n                      ref: \"iconHtml\",\n                      ...options,\n                      // ...(el.switch===true?el?.hOptions:{}),\n                      // props:{...(options?.props||{}),rules:this.itemRules},\n                      // attrs:this.itemAttrs(el),\n                      // on:{},\n                      on: this.itemListeners,\n                      // attrs: this.attrs,\n                      keyy: `icon-${this.computedKey(el?.options?.key)}`,\n                    },\n                    [\n                      options?.html,\n\n                      // this.objLang( options?.html, this.lang ),\n                    ]\n                  ),\n                  // footers\n                  // el.switch===true?hFooter:footer,\n                  // hFooter:footer,\n                  extChildren,\n                  insideFootersVN,\n                ]\n              );\n            } else {\n              raw0 = h_(\n                comp,\n                {\n                  ref: \"rawHtml\",\n                  ...options,\n                  // ...this.objLang(options,this.lang),\n                  // ...(el.switch===true?el?.hOptions:{}),\n                  // props:{...(options?.props||{}),rules:this.itemRules},\n                  // attrs:this.itemAttrs,\n                  on: this.itemListeners,\n                  // attrs: this.attrs,\n                  keyy: `key-raw0-${this.computedKey(el?.options?.key)}`,\n                },\n                [\n                  // headers,\n                  el?.switch === true\n                    ? hInnerHtml?.children || hInnerHtml\n                    : innerHtml?.children || innerHtml,\n                  // innerHtml?.children || innerHtml,\n\n                  ...Object.entries(options?.slots || {}).map(\n                    ([slotName, slotVal]) =>\n                      h_(\"template\", { slot: slotName }, [\n                        h_(\"WBC\", {\n                          keyy: `key-slots-${slotName}-${this.computedKey(\n                            el?.options?.key\n                          )}`,\n                          props: { item: slotVal },\n                        }),\n                      ])\n                  ),\n                  // ...Object.entries(options?.slots || {}).map(([slotName, slotVal]) => h_('template', { slot: slotName }, [this.toWBC_(slotVal,h_)])),\n                  // footers\n                ]\n              );\n\n              // let optionLg= this.objLang({...options},this.lang),\n              // console.log('tttttttttttt',this.$refs[el?.options?.ref]?.$listeners)\n\n              this.vNodes.raw0 = raw0;\n\n              main = h_(\n                comp,\n                // options,\n                {\n                  // ref: 'mainHtml',\n                  ref: \"rawHtml\",\n                  ...options,\n                  // ...(this.menu||options?.menu?.active)?(options?.menu?.activeRootOptions||options?.menu?.activeOptions ):{} ,\n\n                  // ...(this.objLang(options,this.lang) ),\n                  // ...(el.switch===true?el?.hoptions:{}),\n                  // props:{...(options?.props||{}),rules:this.itemRules(options)},\n                  // attrs:this.$refs[el?.options?.ref]?.$listeners||{},\n                  // attrs:{...this.itemAttrs(el)},\n                  // on:{...(this.$refs[el?.options?.ref]?.$listeners||{})},\n                  // // attrs:{...(this.$refs[el?.options?.ref]?.$attrs||{})},\n                  // attrs:{...this.$attrs,...(this.$refs[el?.options?.ref]?.$attrs||{}),...(options?.attrs||{})},\n                  // on:{...(this.$refs[el?.options?.ref]?.$listeners||{}),...(options?.on||{})},\n                  // on:{...this.itemListeners(el),...(this.$refs[el?.options?.ref]?.$listeners||{})},\n                  on: this.itemListeners,\n                  // attrs: this.attrs\n\n                  // keyy:`main-key-${this.computedKey(el?.options?.key)}`,\n                },\n                [\n                  // return h_('span',main)\n\n                  // main = [globalHeaderVN,headers, main,footers,globalFooterVN]\n                  // header,\n\n                  // el?.switch===true?hInnerHtml?.children || hInnerHtml:innerHtml?.children || innerHtml,\n                  insideHeadersVN,\n                  innerHtml?.children || innerHtml,\n\n                  ...Object.entries(options?.slots || {}).map(\n                    ([slotName, slotVal]) =>\n                      h_(\"template\", { slot: slotName }, [\n                        h_(\"WBC\", {\n                          keyy: `key-slots-${slotName}-${this.computedKey(\n                            el?.options?.key\n                          )}`,\n                          props: { item: slotVal },\n                        }),\n                      ])\n                  ),\n                  // ...Object.entries(options?.slots || {}).map(([slotName, slotVal]) => h_('template', { slot: slotName }, [this.toWBC_(slotVal,h_)])),\n\n                  // el.switch===true?hFooter:footer,\n                  extChildren,\n                  insideFootersVN,\n                  // footer\n\n                  /* this.toWBC_(this.toWBC(loadDefaultComp))|| */\n                ]\n              );\n            }\n\n            // return main\n\n            if (externalWrapperObj) {\n              main = h_(\n                externalWrapperObj.comp,\n                {\n                  ref: \"externalHtml\",\n                  ...externalWrapperObj.options,\n                },\n                [main]\n              );\n            }\n\n            if (options?.to) {\n              main = h_(\"WBLink\", {\n                ref: \"linkHtml\",\n                props: {\n                  to: options?.to,\n                  style_: {},\n                  attrs: {},\n                  html: main,\n                },\n              });\n            }\n          }\n          // }\n\n          // if(!(footer&&header)){\n          // \tmain=[header,main,footer]\n          // }\n\n          // console.log('globalFooterVN , globalHeaderVN',globalFooterVN , globalHeaderVN)\n          if (globalFooterVN || globalHeaderVN) {\n            main = h_(\n              \"div\",\n              {\n                ref: \"globalHtml\",\n                key: el?.switch,\n              },\n              [globalHeaderVN, main, globalFooterVN]\n            );\n          }\n\n          if (options?.menu) {\n            // \t\talert(1111)\n\n            // \t\tmain=h_('VMenu', {\n            //     // key: `{i}-{this?.filter_?.filteredCol}`,\n\n            //     // ref: `menu-{i}`, // rawHtml to the menu\n            //     // props: {\n            //     //   offsetY: true,\n            //     //   closeOnContentClick: !true,\n            //     //   contentClass: 'grey',\n            //     //   closeDelay: 10,\n            //     // },\n            //     // ...(this?.filter_?.colFiltMenu || {})\n\n            //   }, [\n            //     h_('template', { slot: 'activator' }, [main\n            //     ]),\n            // \t'sssssssssssssssssss'\n            //     // h_('VListItem', [h_('WBC', {\n            //     //   class: 'mb-5',\n            //     //   props: { item: 'colFiltedObjContent' }\n            //     // })])\n\n            //   ])\n            // \t}\n\n            let defaultMenuOptions = {\n              props: {\n                // value:options.menu.visibility, /* your model for controlling the menu visibility */,\n                value: false /* your model for controlling the menu visibility */,\n                offsetY: true,\n                closeOnContentClick: !true,\n                //   contentClass: 'yellow',\n                closeDelay: 10,\n              },\n            };\n\n            let activeOptions = options?.menu?.activeOptions;\n            this.menu = this.$refs[`menuHtml`]?.isActive || false;\n\n            // if(this?.$refs?.[`menu`]?.isActive)\n            // this.$refs[`menuHtml`]={isActive : this.menu}\n\n            const vuetifyComponentsWithActivatorSlot = [\n              \"VMenu\",\n              \"VDialog\",\n              \"VTooltip\",\n              \"VHover\",\n              \"VDropdown\",\n              \"VDatePicker\",\n              \"VExpansionPanel\",\n              \"VBottomSheet\",\n            ];\n\n            // if (typeof options?.menu?.active != 'boolean') {\n            //   options?.menu?.active=true\n            // }\n\n            if (\n              vuetifyComponentsWithActivatorSlot.includes(options?.menu?.comp)\n            ) {\n              main = h_(\n                options?.menu?.comp,\n                {\n                  ref: \"menuHtml\",\n\n                  // ref: `menu`,\n                  // ...(options?.menu?.options || defaultMenuOptions),\n                  ...(this.menu?.active\n                    ? options?.menu?.options\n                    : options?.menu?.activeOptions),\n                },\n                [\n                  // h_('span', { }, [\n                  h_(\"template\", { slot: \"activator\" }, [\n                    h_(\n                      options?.comp || \"VCard\",\n                      {\n                        // key: this?.$refs?.[`menu`]?.isActive+this.menu,\n                        // ...(this.$refs[`menuHtml`]?.isActive?options?.menu?.activeOptions:{}),\n                        // ...(this.menu ? options?.menu?.activeOptions : {/* class:'black' */ }),\n                        ...(this.menu\n                          ? options?.menu?.activeRootOptions\n                          : options?.menu?.options),\n                        on: {\n                          [options?.menu?.event || \"click\"]: () => {\n                            (this.$refs[`menuHtml`].isActive =\n                              !this.$refs[`menuHtml`].isActive), // Toggle the menu\n                              // console.log(333333333, options?.menu, this.$refs[`menuHtml`], this.$refs[`menuHtml`].isActive, this.menu, options?.menu?.options.props.value)\n                              (this.menu = !this.menu);\n                            this.$refs[`menuHtml`].isActive = this.menu;\n                            // options.menu.options.props.value = !options?.menu?.options.props.value\n\n                            // if (typeof this.menu == 'boolean') { options.menu.hide = !options?.menu?.hide }\n                          },\n                          // click: () => that.$refs[`menuHtml`].isActive = !that.$refs[`menuHtml`].isActive, // Toggle the menu\n                        },\n                      },\n                      [main]\n                    ),\n                  ]),\n                  h_(\"WBC\", {\n                    // class:'yellow',\n                    props: { item: options?.menu.content },\n                  }),\n                  // options?.menu?.hide ? h_('WBC', { props: { item: options?.menu?.content } }) : null,\n                ]\n              );\n            } else {\n              // this.menu == options?.menu?.active||false\n\n              main = h_(\n                options?.menu?.comp || \"div\",\n                {\n                  // ref: `menu`,\n                  ...(!options?.menu?.active\n                    ? options?.menu?.options\n                    : options?.menu?.activeOptions),\n                  // ...options?.menu?.options||{},\n                },\n                [\n                  h_(\n                    options?.comp || \"div\",\n                    {\n                      // key: this?.$refs?.[`menu`]?.isActive+this.menu,\n                      ...(options?.menu?.active\n                        ? options?.menu?.activeRootOptions\n                        : {}),\n\n                      on: {\n                        [options?.menu?.event || \"click\"]: () => {\n                          // alert('aaaa'+options?.menu?.active)\n                          options.menu.active = !options?.menu?.active;\n                          this.key_ = (`${this.key_}` + \"_\").replace(\n                            \"___\",\n                            \"_\"\n                          );\n\n                          // if (options?.menu?.active == 'undefined')\n                          // {\n                          // options.menu.active = false\n\n                          // }\n                        },\n                      },\n                    },\n                    [main]\n                  ),\n                  options?.menu?.active\n                    ? h_(\"WBC\", { props: { item: options?.menu?.content } })\n                    : null,\n                ]\n              );\n            }\n          }\n\n          // this.vNodes.main = main;\n\n          if (el.options?.global) {\n            global[el.options?.global] = this.itemAccessebility;\n            global[el.options?.global + \"_vm_context\"] = this;\n            global[el.options?.global + \"_vn\"] = main;\n          }\n        }\n\n        if (options?.wrap) {\n          let theWrapOptions;\n          let theWrapHeader;\n          let theWrapFooter;\n          let theWrapOptionsHeaders;\n          let theWrapOptionsFooters;\n\n          let theWrap = options.wrap;\n\n          if (typeof options?.wrap == \"string\") {\n            theWrap = options?.wrap;\n          } else if (options?.wrap instanceof Object) {\n            theWrap = options?.wrap.comp || null;\n            theWrapOptions = options?.wrap?.options || {};\n\n            theWrapOptionsHeaders = h_(\"WBC\", {\n              item: options?.wrap?.options?.headers,\n            });\n            theWrapOptionsFooters = h_(\"WBC\", {\n              item: options?.wrap?.options?.footers,\n            });\n\n            theWrapHeader = h_(\"WBC\", { item: options?.wrap?.header });\n            theWrapFooter = h_(\"WBC\", { item: options?.wrap?.footer });\n\n            // theWrapHeader = options?.wrap?.header ;\n            // theWrapFooter = options?.wrap?.footer ;\n          }\n\n          main = h_(\n            theWrap,\n            {\n              ref: \"wrapHtml\",\n              ...(theWrapOptions || {}),\n            },\n            [\n              theWrapHeader,\n              theWrapOptionsHeaders,\n              main,\n              theWrapOptionsFooters,\n              theWrapFooter,\n            ]\n          );\n        }\n\n        // this.vNodes= {\n        //   main: main,\n        //   header: globalHeaderVN,\n        //   footer: globalFooterVN,\n        //   headers: insideHeadersVN,\n        //   footers: insideHeadersVN,\n\n        // }\n\n        // return main\n\n        // main=main?.children||main\n\n        ////////////////////////////////////////////////////\n        /////////////beautify the main el ////////////////\n        ////////////////////////////////////////////////////\n\n        // let vNodes={}\n\n        let raw = main;\n\n        // if (headers || footers) {\n        // \tlet mainList = [globalHeaderVN]\n        // \tif (headers) {\n        // \t\tmainList.push(headers)\n        // \t\t// vNodes.headers=headers\n        // \t}\n        // \tmainList.push(main)\n        // \tif (footers) {\n        // \t\tmainList.push(footers)\n        // \t\t// vNodes.footers=footers\n        // \t\t// vNodes.footers=footers\n        // \t}\n\n        // \tmain = mainList\n        // }\n        // else {\n        // \tmain = [globalHeaderVN,headers, main,footers]\n        // }\n\n        // main = [globalHeaderVN,headers, main,footers,globalFooterVN]\n\n        // main.push(globalFooterVN)\n\n        // main=[globalHeaderVN, main,globalFooterVN]\n        // if(el.switch===true)\n        // \t{\n        // \t\tmain.push(hFooter)}\n        // \telse{\n        // \t\tmain.push(footer)\n        // \t}\n\n        // if (el?.switch) {\n        // \tmain = h_('div', {  }, main)\n        // }\n        // main=[headers,main,footers]\n\n        // console.log('vnodeeeeeeeeeeeeeeeeeeeee',main)\n        // this.vNodes['htmlHtml'] = h_('WBC', {\n        //   props: { item: h => this.toVCM(h, this.html(el) || 'aaaaaaaaaaaaa') }\n        // });\n\n        let mainToRender = main;\n\n        if (\n          typeof options?.close == \"boolean\" ||\n          typeof options?.float == \"boolean\" ||\n          typeof options?.drag == \"boolean\"\n        ) {\n          //  this.vNodes.focusOn = this.focusOn(el, h_, main);\n          main = this.focusOn(el, h_, main);\n        }\n\n        this.vNodes.main = main;\n\n        if (!el?.output && options?.mode != \"dev\") {\n          mainToRender = main;\n        } else {\n          // let outputArray = ['main'];\n\n          // this.vNodes.main = main;\n\n          // if (options?.mode == 'dev')\n          {\n            options.raw = options?.raw || true;\n            options.raw0 = options?.raw0 || true;\n            options.close = options?.close || true;\n            (options.float = options?.float || false), // { fixed: !true, dispBtn: true };\n              (options.drag = options?.drag || false),\n              (options.gFloat = options?.gFloat || false), // { fixed: !true, dispBtn: true };\n              (options.wbcProps = options?.wbcProps || true);\n            options.itemSrc = options?.itemSrc || true;\n            options.allOptions = options?.allOptions || true;\n            options.gAttrs = options?.gAttrs || true;\n            options.hAttrs = options?.hAttrs || true;\n            options.vProps = options?.vProps || true;\n            options.htmlSrc = options?.htmlSrc || true;\n            options.wbcSrc = options?.wbcSrc || true;\n            options.wbcSyn = options?.wbcSyn || true;\n            // options.focusOn = options?.focusOn || false;\n            // options.rawHtml = options?.rawHtml || true;\n            [\n              \"rawHtml\",\n              \"mainHtml\",\n              \"externalHtml\",\n              \"linkHtml\",\n              \"globalHtml\",\n              \"menuHtml\",\n              \"wrapHtml\",\n            ]\n              // Object.keys(this.$refs).\n              .forEach((e) => {\n                options[e] = options?.[e] || true;\n              });\n            // options.all =options?.all||true;\n          }\n\n          // this.vNodes['mainHtml'] = h_('WBC', {\n          //   props: { item: this.toVCM(h_, this.$refs?.[this.refName]?.outerHTML) }\n          // });\n\n          this.vNodes[\"mainHtml\"] = this.toVCM(\n            h_,\n            this.$refs?.[this.refName]?.outerHTML\n          );\n\n          let ell = this.clone(el);\n          if (options?.mode != \"dev\") {\n            delete ell?.output;\n            delete ell?.asChild;\n\n            delete ell?.options?.itemSrc;\n            delete ell?.options?.raw;\n            delete ell?.options?.raw0;\n            delete ell?.options?.allOptions;\n            delete ell?.options?.gAttrs;\n            delete ell?.options?.hAttrs;\n            delete ell?.options?.vProps;\n            delete ell?.options?.htmlSrc;\n            delete ell?.options?.wbcSrc;\n            delete ell?.options?.wbcSyn;\n            delete ell?.options?.wbcProps;\n            delete ell?.options?.globalHtml;\n            delete ell?.options?.externalHtml;\n            delete ell?.options?.linkHtml;\n            delete ell?.options?.rawHtml;\n            delete ell?.options?.mainHtml;\n            delete ell?.options?.menuHtml;\n            delete ell?.options?.wrapHtml;\n\n            delete ell?.options?.all;\n            delete ell?.options?.close;\n            delete ell?.options?.closeContent;\n            delete ell?.options?.float;\n            delete ell?.options?.floatContent;\n            delete ell?.options?.drag;\n            delete ell?.options?.dragContent;\n            delete ell?.options?.focusOnOptions;\n\n            delete ell?.options?.externalHtml;\n            delete ell?.options?.global;\n            delete ell?.options?.isValid;\n            delete ell?.options?.linkHtml;\n            delete ell?.options?.mainHtml;\n            delete ell?.options?.menuHtml;\n            delete ell?.options?.mode;\n          }\n\n          this.vNodes[\"mainData\"] = h_(\"JsonViewer\", {\n            title: ell,\n            props: { value: ell },\n          });\n\n          this.vNodes[\"mainData_\"] = h_(\"WBDataViewer\", {\n            title: ell,\n            props: { value: ell },\n          });\n\n          this.vNodes[\"htmlData\"] = h_(\"JsonViewer\", {\n            title: ell,\n            props: { value: ell?.options?.html },\n          });\n\n          this.vNodes[\"htmlData_\"] = h_(\"WBDataViewer\", {\n            title: ell,\n            props: { value: ell?.options?.html },\n          });\n\n          this.vNodes[\"mainCode\"] = this.toVCM(h_, ell);\n          this.vNodes[\"htmlCode\"] = this.toVCM(h_, ell?.options?.html);\n\n          [\n            \"rawHtml\",\n            \"externalHtml\",\n            \"linkHtml\",\n            \"globalHtml\",\n            \"menuHtml\",\n            \"wrapHtml\",\n          ]\n            // Object.keys(this.$refs)\n            .forEach((e) => {\n              if (e == \"mainHtml\") {\n                this.vNodes[e] = h_(\"WBC\", {\n                  props: {\n                    item: (h) =>\n                      this.toVCM(h, this.$refs?.[this.refName]?.outerHTML),\n                  },\n                });\n              } else if (e == \"rawHtml\") {\n                this.vNodes[e] = h_(\"WBC\", {\n                  props: {\n                    item: (h) =>\n                      this.toVCM(h, this.$refs?.[\"rawHtml\"]?.outerHTML),\n                  },\n                });\n              } else {\n                this.vNodes[e] = (h) =>\n                  this.toVCM(h, this.$refs?.[e]?.outerHTML);\n                // this.vNodes[e] = h_('WBC', {\n                //   props: { item: h => this.toVCM(h, this.$refs?.[this.refName]?.outerHTML) }\n                // })\n              }\n            });\n\n          if (globalHeaderVN) {\n            this.vNodes.header = globalHeaderVN;\n            // outputArray.push('header');\n          }\n          if (globalFooterVN) {\n            this.vNodes.footer = globalFooterVN;\n            // outputArray.push('footer');\n          }\n          if (insideHeadersVN) {\n            this.vNodes.headers = insideHeadersVN;\n            // outputArray.push('headers');\n          }\n          if (insideFootersVN) {\n            this.vNodes.footers = insideFootersVN;\n            // outputArray.push('footers');\n          }\n          // if (hHeader) {\n          // \tthis.vNodes.hHeader = hHeader\n          // outputArray.push('hHeader')\n          // }\n          // if (hFooter) {\n          // \tthis.vNodes.hFooter = hFooter\n          // outputArray.push('hFooter')\n          // }\n\n          if (extChildren) {\n            this.vNodes.extChildren = extChildren;\n            // outputArray.push('extChildren');\n          }\n\n          if (options?.raw0) {\n            this.vNodes.raw0 = raw0;\n            // this.vNodes.raw0Html = h => h('VCM', { props: { value: this.$refs?.raw0Html?.outerHTML } })\n            // this.vNodes.raw0Html = h => this.toVCM(h, this.$refs?.raw0Html?.outerHTML)\n\n            // outputArray.push('raw0');\n          }\n\n          if (options?.raw) {\n            this.vNodes.raw = raw;\n            // outputArray.push('raw');\n          }\n\n          if (options?.close) {\n            // this.vNodes.close = close;\n            this.vNodes.close = this.close(el, h_);\n            // outputArray.push('close');\n          }\n\n          if (options?.float || typeof options?.float === \"boolean\") {\n            // let float = this.close.float(el,h_);\n            this.vNodes.float = this.float(el, h_);\n            // outputArray.push('float');\n          }\n          if (options?.drag || typeof options?.drag === \"boolean\") {\n            // let float = this.close.float(el,h_);\n            this.vNodes.drag = this.drag(el, h_);\n            // outputArray.push('float');\n          }\n\n          if (options?.gFloat || typeof options?.gFloat === \"boolean\") {\n            let gFloat = this.gFloat(el, h_);\n            this.vNodes.gFloat = gFloat;\n            // outputArray.push('float');\n          }\n\n          if (options?.wbcProps) {\n            let wbcProps = this.wbcProps(el, h_);\n            this.vNodes.wbcProps = wbcProps;\n            // outputArray.push('wbcProps');\n          }\n\n          if (options?.gAttrs) {\n            let gAttrs = this.gAttrs(el, h_);\n            this.vNodes.gAttrs = gAttrs;\n            // outputArray.push('gAttrs');\n          }\n\n          if (options?.allOptions) {\n            let allOptions = this.allOptions(el, h_);\n            this.vNodes.allOptions = allOptions;\n            // outputArray.push('allOptions');\n          }\n\n          if (options?.itemSrc) {\n            let itemSrc = this.itemSrc(el, el, h_);\n            this.vNodes.itemSrc = itemSrc;\n            // outputArray.push('itemSrc');\n          }\n\n          if (options?.hAttrs) {\n            let hAttrs = this.hAttrs(el, h_);\n            if (hAttrs) this.vNodes.hAttrs = hAttrs;\n            // outputArray.push('hAttrs');\n          }\n\n          if (options?.vProps) {\n            let vProps = this.vProps(el, h_);\n            if (vProps) {\n              this.vNodes.vProps = vProps;\n              // outputArray.push('vProps');\n            }\n          }\n\n          if (options?.htmlSrc) {\n            let htmlSrc = this.htmlSrc(el, h_);\n            if (htmlSrc) {\n              this.vNodes.htmlSrc = htmlSrc;\n              // outputArray.push('htmlSrc');\n            }\n          }\n\n          if (options?.wbcSrc) {\n            let wbcSrc = this.wbcSrc(el, h_);\n            if (wbcSrc) {\n              this.vNodes.wbcSrc = wbcSrc;\n              // outputArray.push('wbcSrc');\n            }\n          }\n\n          if (options?.wbcSyn) {\n            let wbcSyn = this.wbcSyn(el, h_);\n            this.vNodes.wbcSyn = wbcSyn;\n            // outputArray.push('wbcSyn');\n          }\n          // if (options?.focusOn) {\n          //   let focusOn = this.focusOn(el, h_,mainToRender);\n          //   this.vNodes.focusOn = focusOn;\n          //   // outputArray.push('focusOn');\n          // }\n\n          let all;\n\n          if (options?.all) {\n            let allObj = [];\n\n            allObj = Object.keys(this.vNodes).map((e) => {\n              if (this.vNodes?.[e] && e != \"all\") {\n                return h_(\n                  \"VCard\",\n                  {\n                    class: \"  pa-10 ma-2  \",\n                    style: {\n                      border: `1px solid black `,\n                    },\n                  },\n                  [\n                    h_(\"h4\", { class: \" ma-5 text-right\" }, [e]),\n                    e.endsWith(\"Html\")\n                      ? h_(\"WBC\", { props: { item: this.vNodes[e] } })\n                      : this.vNodes[e],\n                    // h_(\n                    //   'div',\n                    //   {},\n                    //   Array.isArray(this.vNodes[e])\n                    //     ? this.vNodes[e]\n                    //     : [this.vNodes[e]]\n                    // ),\n                  ]\n                );\n              }\n            });\n\n            all = h_(\n              \"VCard\",\n              {\n                class: ` ma-15 pa-15`,\n                style: {\n                  border: `10px dashed black`,\n                  backgroundColor: `${this.rColor}`,\n                },\n              },\n              [\n                h_(\"h2\", { class: \"text-center\" }, [\n                  `${el?.name || \"\"} Component Properties`,\n                ]),\n                allObj,\n              ]\n            );\n\n            this.vNodes.all = all;\n            // outputArray.push('all');\n          }\n\n          // if (options?.mode == 'dev') {\n          //   outputArray = ['all'];\n          // }\n          // else if (el?.output == 'all') {\n\n          // \talert(333+el?.output)\n          // \toutputArray = Object.keys(vNodes) }\n          // else if (Array.isArray(el?.output)) { outputArray = el?.output }\n\n          // return mainToRender\n\n          // let theOutput = this.clone(el?.output || {})\n\n          if (el?.output) {\n            let theOutput = el?.output || {};\n            // console.log('theOutput00000 :>> ', theOutput);\n            // let theOutput = el?.output || {}\n\n            let outputWBCObj;\n            let obj;\n\n            // if (typeof theOutput == 'function') {\n            //   // this.vNodes=vNodes\n\n            //   obj = el.output(h_, this.itemAccessebility);el?.output\n            //   // alert(111111)\n\n            //   // mainToRender = this.toWBC_(el.output(h_, this.itemAccessebility), h_);\n            //   // mainToRender = h_('WBC', { props: { item: el.output(h_, this.itemAccessebility) }});\n            //   // mainToRender = el.output(h_, this.itemAccessebility)\n            //   // return mainToRender\n            // }\n            // else\n\n            let f = (val) => this.vNodes?.[`${val}`] || val;\n\n            obj = this.transfObj(theOutput, f);\n\n            outputWBCObj = {\n              comp: \"span\",\n              // dive:true,\n              options: {\n                ref: \"reference\",\n                class: \"yellow\",\n                key: `output-obj${this.computedKey(el?.options?.key)}-${\n                  el.length\n                }`,\n                html: obj, //that.data.opotions.html\n              },\n              watch: [\n                [\n                  (that) => {\n                    return that.data.options.html;\n                  },\n                  (that, newVal, oldVal) => {\n                    // alert(\"changed\");\n                    that.data.options.class = \"green\";\n                    that.data.options.key += 1;\n                  },\n                  { deep: true },\n                ],\n              ],\n              tracker: (that) => {\n                // that.data.options.html = [this.vNodes[\"main\"], ['<VCard|yellow pa-15>', this.vNodes[\"main\"], this.vNodes['mainHtml'], this.vNodes['wbcProps']]]\n                that.data.options.html = obj;\n              },\n            };\n\n            mainToRender = h_(\"WBC\", { props: { item: outputWBCObj } });\n          }\n        }\n\n        if (options?.gClose === null) {\n          mainToRender = null;\n        } else if (\n          typeof options?.gClose == \"boolean\" ||\n          typeof options?.gFloat == \"boolean\" ||\n          typeof options?.g == \"boolean\"\n        ) {\n          //  this.vNodes.focusOn = this.focusOn(el, h_, main);\n          mainToRender = this.globalFocusOn(el, h_, mainToRender);\n        }\n\n        return mainToRender;\n        // return h_('div', {...(selectItemOptions||{}),on: { 'mousedown': this.handleMouseDown, mouseup: this.handleMouseUp } }, [mainToRender])\n      },\n\n      strToComps(str) {\n        if (typeof str !== \"string\") {\n          return str;\n        } else {\n          const result = [];\n          let currentLevel = result;\n          let currentStr = \"\";\n          let bracketCount = 0;\n\n          for (let i = 0; i < str.length; i++) {\n            const char = str[i];\n\n            if (char === \"|\" && bracketCount === 0) {\n              if (currentStr.length > 0) {\n                currentLevel.push(currentStr);\n                currentStr = \"\";\n              }\n              currentLevel.push([]);\n              currentLevel = currentLevel[currentLevel.length - 1];\n            } else if (char === \"+\" && bracketCount === 0) {\n              if (currentStr.length > 0) {\n                currentLevel.push(currentStr);\n                currentStr = \"\";\n              }\n            } else if (char === \"(\") {\n              bracketCount++;\n              currentStr += char;\n            } else if (char === \")\") {\n              bracketCount--;\n              currentStr += char;\n            } else {\n              currentStr += char;\n            }\n          }\n\n          if (currentStr.length > 0) {\n            currentLevel.push(currentStr);\n          }\n          return result;\n        }\n      },\n      updateInputValue(event) {\n        // alert('changed')\n\n        // //console.log(88888888888888888888,event)\n\n        if (typeof event == \"object\" && event?.target) {\n          // alert('changed0')\n          if (event?.target?.type == \"checkbox\") {\n            // this.item_.options['val'] = event?.target?.checked || false;\n            this.item_.options.attrs[\"checked\"] =\n              event?.target?.checked || false;\n          }\n          // else {\n          // \t// this.item_.options['val'] =(typeof this.item.options['val']=='boolean')? !this.item.options['val']:event;\n          // \tif (event?.target?.value) { this.item_.options['val'] = event.target.value; }\n          // \t// this.item_.options.props['value'] =(typeof this.item.options['val']=='boolean')? !this.item.options['value']:event;\n          // \telse this.item_.options.props['value'] = event;\n          // }\n          this.item_.options[\"val\"] =\n            event?.target?.value || event?.target?.checked || false;\n        } else {\n          if (this?.item_?.comp == \"VCheckbox\") {\n            // alert('checked')\n            // alert(v)\n            // console.log(22222222222222222, event)\n\n            // if (this?.item_?.options?.props){\n            // this.item_.options.props['value'] = !this.item_.options.props['value'];\n            // }\n            // this.$refs.rawHtml.lazyValue = !this.$refs.rawHtml.lazyValue;\n            this.item_.options[\"val\"] = !this?.item_?.options?.[\"val\"] || false;\n\n            // alert(this.item_.options['val']+999999)\n            // this.item_.options.attrs['checked'] = event?.target?.checked || false;\n          } else {\n            // alert(event + 'changed1')\n\n            //console.log('zzzzzzzzzzzzzzzzzzz',this.$refs.rawHtml)\n            this.item_.options[\"val\"] = event || \"\";\n            // this.$refs.rawHtml.lazyValue = event || '';\n            // if (this?.item_?.options?.props) {\n            // \tthis.item_.options.props['value'] = event || '';\n\n            // }\n            // this.item_.options.isValid = this.$refs.rawHtml.valid;\n          }\n\n          // this.item_.options.props.rules=[this.item_.options.props.rules[0](this.itemAccessebility,event)]\n          // rules.push(e(this.itemAccessebility,this.lang))\n\n          // this.item_.options['val'] =(typeof this.item.options['val']=='boolean')? !this.item.options['val']:event||false;\n          // this.item_.options.props['value'] =(typeof this.item.options['val']=='boolean')? !this.item.options['value']:event||false;\n        }\n      },\n\n      // updateObjectParseIt(val, el ) {\n\n      // \tlet theItemToEval;\n      // \ttry {\n      // \t\t// theItemToEval = strToObj(val);\n      // \t\tel = strToObj(val);\n      // \t} catch (error) {\n      // \t\talert('\"' + val + '\" can not be parsed: ' + error);\n      // \t\t// this.mainItemTextArea.rules = [\n      // \t\t\t// `\"${val}\" can not be parsed: ${error}`,\n      // \t\t// ];\n      // \t}\n      // \t// return theItemToEval\n      // },\n\n      async getUrlResponse(el) {\n        console.log(\"el :>> \", el);\n        let responseData = null;\n\n        try {\n          const response = await this.$http.get(el);\n          // const contentType = response.headers.get('Content-Type');\n          return response;\n          // if (contentType) {\n          // \tconsole.log('contentType :>> ', response,el, contentType);\n          // \tif (contentType.includes('/json')) {\n          // \t\tresponseData = response.data; // Assuming response.data is the JSON\n          // \t} else if (contentType.startsWith('image/')) {\n          // \t\tresponseData = 'image';\n          // \t} else if (contentType.startsWith('video/')) {\n          // \t\tresponseData = 'video';\n          // \t}\n          // }\n        } catch (error) {\n          // console.error(\"Error fetching media type:\", error);\n\n          return error;\n        }\n\n        return responseData; // Return the response data or null if an error occurred\n      },\n      // Assuming 'fetchData' is an async method in your Vue instance\n      // async fetchData(el) {\n      // \treturn await this.getUrlResponse(el);\n      // }\n\n      //\n      toVCM(h, src) {\n        if (!src) {\n          return \"empty code\";\n        }\n        let htmlCode = src;\n        htmlCode = JSON.stringify(this.clone(src));\n        if (typeof src == \"string\") {\n          htmlCode = src\n            ?.replace(/<span.*?>(.*?)<\\/span>/g, \"$1\") // Keep innerHTML of span\n            // .replace(/<span.*?>|<\\/span>/g, \"\") // Remove all span tags\n            ?.replace(/<!--.*?-->/g, \"\");\n        }\n        // else if (this.isPlainObject(src)){\n        // }\n\n        return h(\n          \"VContainer\",\n          {\n            class: \"grey  \",\n            style: {\n              resize: \"both\",\n              top: 0,\n              left: 0,\n              height: \"100%\",\n              width: \"100%\",\n              border: 0,\n            },\n          },\n          [\n            h(\n              \"a\",\n              {\n                on: {\n                  click: () => {\n                    // alert(\"Content copied\");\n                    this.copyToClipboard(htmlCode);\n                  },\n                },\n              },\n              [\"Copy\"]\n            ),\n            h(\"VCM\", {\n              // style: { border: '1px solid black', padding: '5px', backgroundColor: 'red', display: 'block' },\n              tabSize: 4,\n              mode: \"text/html\",\n\n              props: {\n                value: this.clone(htmlCode),\n                options: {\n                  tabSize: 4,\n                  lineWrapping: true, // Enable line wrapping\n                  viewportMargin: Infinity,\n                  styleActiveLine: true,\n                  lineNumbers: true,\n                  line: true,\n                  foldGutter: true,\n                  styleSelectedText: true,\n                  // keyMap: \"sublime\",\n                  matchBrackets: true,\n                  showCursorWhenSelecting: true,\n                  // theme: \"monokai\",\n                  extraKeys: { Ctrl: \"autocomplete\" },\n                  hintOptions: {\n                    completeSingle: !false,\n                  },\n                },\n              },\n              style: {\n                border: \"1px solid #eee\",\n                \"font-family\": \"monospace\",\n                height: \"300px\",\n              },\n            }),\n          ]\n        );\n      },\n      //     outputRender(h_, el) {\n\n      //       let mainToRender = this.toWBC_(el, h_, this.children_, this.wrap_);\n      //       return mainToRender\n\n      //       // this.vNodes.main = mainToRender;\n\n      //       // this.vNodes.header = this.globalHeaderVN(el, h_);\n\n      //       // this.vNodes.footer = this.globalFooterVN(el, h_);\n\n      //       // this.vNodes.headers = this.insideHeadersVN(el, h_);\n      //       // this.vNodes.footers = this.insideFootersVN(el, h_);\n\n      //       // ['rawHtml', 'mainHtml', 'externalHtml', 'linkHtml', 'globalHtml', 'menuHtml', 'wrapHtml']\n      //       //   // Object.keys(this.$refs)\n      //       //   .forEach(e => {\n      //       //     if(e=='mainHtml'){\n      //       //       this.vNodes[e] = h => this.toVCM(h, this.$refs?.[this.refName]?.outerHTML)\n      //       //     }\n      //       //     else{\n      //       //       this.vNodes[e] = h => this.toVCM(h, this.$refs?.[e]?.outerHTML)\n      //       //     }\n\n      //       //   })\n\n      //       // {\n      //       //   let close = this.floatCloseDrag(el, h_);\n      //       //   this.vNodes.close = close;\n      //       //   // outputArray.push('close');\n      //       // }\n\n      //       // {\n      //       //   let float = this.float(el, h_);\n      //       //   this.vNodes.float = float;\n      //       //   // outputArray.push('float');\n      //       // }\n\n      //       // {\n      //       //   let wbcProps = this.wbcProps(el, h_);\n      //       //   this.vNodes.wbcProps = wbcProps;\n      //       //   // outputArray.push('wbcProps');\n      //       // }\n\n      //       // {\n      //       //   let gAttrs = this.gAttrs(el, h_);\n      //       //   this.vNodes.gAttrs = gAttrs;\n      //       //   // outputArray.push('gAttrs');\n      //       // }\n\n      //       // {\n      //       //   let allOptions = this.allOptions(el, h_);\n      //       //   this.vNodes.allOptions = allOptions;\n      //       //   // outputArray.push('allOptions');\n      //       // }\n\n      //       // {\n      //       //   let itemSrc = this.itemSrc(el, el, h_);\n      //       //   this.vNodes.itemSrc = itemSrc;\n      //       //   // outputArray.push('itemSrc');\n      //       // }\n\n      //       // {\n      //       //   let hAttrs = this.hAttrs(el, h_);\n      //       //   if (hAttrs) this.vNodes.hAttrs = hAttrs;\n      //       //   // outputArray.push('hAttrs');\n      //       // }\n\n      //       // {\n      //       //   let vProps = this.vProps(el, h_);\n      //       //   if (vProps) {\n      //       //     this.vNodes.vProps = vProps;\n      //       //     // outputArray.push('vProps');\n      //       //   }\n      //       // }\n\n      //       // {\n      //       //   let htmlSrc = this.htmlSrc(el, h_);\n      //       //   if (htmlSrc) {\n      //       //     this.vNodes.htmlSrc = htmlSrc;\n      //       //     // outputArray.push('htmlSrc');\n      //       //   }\n      //       // }\n\n      //       // {\n      //       //   let wbcSrc = this.wbcSrc(el, h_);\n      //       //   if (wbcSrc) {\n      //       //     this.vNodes.wbcSrc = wbcSrc;\n      //       //     // outputArray.push('wbcSrc');\n      //       //   }\n      //       // }\n\n      //       // {\n      //       //   let wbcSyn = this.wbcSyn(el, h_);\n      //       //   this.vNodes.wbcSyn = wbcSyn;\n      //       //   // outputArray.push('wbcSyn');\n      //       // }\n\n      //       let theOutput = this.clone(el?.output || {})\n      //       console.log('theOutput00000 :>> ', theOutput);\n      //       // let theOutput = el?.output || {}\n\n      //       let f = (val) => this.vNodes?.[`${val}`] || val\n\n      //       let obj = this.transfObj(theOutput, f)\n\n      //       console.log('theOutput11111 :>> ', obj);\n\n      //       mainToRender = this.toWBC_(obj, h_);\n\n      //       // mainToRender =h_('div',[ h_('WBC', {\n      //       //   keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //       //   props: {\n      //       //     item: obj,\n      //       //   },\n      //       // })])\n      //       return mainToRender\n\n      //       // if (this.isPlainObject(theOutput)) {\n      //       //   theOutput = Object.keys(theOutput).sort().map(key=>theOutput[key])\n      //       // }\n      //  /*      let o = { raw: this.main }\n      //           this.project(theOutput, o)\n      //           mainToRender = theOutput */\n\n      //       if (typeof theOutput == 'function') {\n      //         // this.vNodes=vNodes\n\n      //         // alert(111111)\n\n      //         mainToRender = this.toWBC_(el.output(h_, this.itemAccessebility), h_);\n      //         // mainToRender = h_('WBC', { props: { item: el.output(h_, this.itemAccessebility) }});\n      //         // mainToRender = el.output(h_, this.itemAccessebility)\n      //         return mainToRender\n      //       }\n\n      //       // else if(true){\n      //       //             let f = (val) => this.vNodes?.[`${val}`] || val\n\n      //       //   return this.toWBC_(this.transfObj(theOutput, f), h_)\n      //       // }\n\n      //       else if (Array.isArray(theOutput)) {\n\n      //         // let arr = []\n      //         // for (let e of theOutput) {\n      //         //   alert(e)\n      //         //   console.log('etttttttttttttttttttttt :>> ', e);\n      //         //   if (this.vNodes?.[e]) { arr.push(this.vNodes[e]) }\n      //         // }\n      //         // return arr\n      //         // return [this.vNodes[\"main\"], this.vNodes['mainHtml'],this.vNodes['wbcProps'],]\n\n      //         // return h_('WBC', {\n      //         //   keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //         //   props: {\n      //         //     item: this.transfObj(e, f),\n      //         //   },\n      //         // })\n\n      //         let obj = theOutput.map((e) => {\n\n      //           if (this.vNodes?.[`${e}`]) { return this.vNodes[`${e}`] }\n      //           else if (typeof e == 'string') { return e }\n      //           else {\n      //             return this.toWBC_(this.transfObj(e, f), h_)\n      //             // return h_('WBC', {\n      //             //   keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //             //   props: {\n      //             //     item: this.transfObj(e, f),\n      //             //   },\n      //             // })\n      //           }\n      //         })\n      //         mainToRender = obj\n\n      //         //  let f = (val) => {\n      //         //    if (val == 'wbcProps') {\n      //         //       return this.wbcProps(el, h_)\n      //         //    }\n      //         //    if (val == 'raw') {\n      //         //      return this.main\n      //         //    }\n      //         //    return this.vNodes?.[val] || val\n      //         //  }\n      //         // let o = {...this.vNodes,raw:this.main}\n      //         //   let obj = this.project(theOutput, o)\n      //         // mainToRender = theOutput\n\n      //         // mainToRender = h_('WBC', {\n      //         //   keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //         //   props: {\n      //         //     item: this.transfObj(obj, f),\n      //         //   },\n      //         // })\n\n      //       }\n\n      //       else if (\n      //         ['boolean', 'string', 'number'].includes(typeof theOutput)\n      //       ) {\n\n      //         if (theOutput.endsWith('Html')) {\n      //           alert(theOutput)\n      //           // let obj = this.transfObj(theOutput, f)\n      //           // mainToRender =  this.transfObj(theOutput, f)\n      //           mainToRender = h_('WBC', { props: { item: this.transfObj(el.output, f) } })\n      //           // mainToRender = h_('WBC', {\n      //           //   keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //           //   props: {\n      //           //     item: obj,\n      //           //   },\n      //           // })\n\n      //         }\n      //         else\n      //           if (this.vNodes?.[theOutput]) { mainToRender = this.vNodes?.[theOutput] }\n      //           else {\n\n      //             mainToRender = h_('WBC', {\n      //               keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length\n      //                 }`,\n      //               props: {\n      //                 item: this.transfObj(el.output, f),\n      //               },\n      //             });\n      //           }\n      //       } else if (this.isPlainObject(theOutput)) {\n\n      //         // return h_('WBC', { props: { item: { comp: 'li', options: { html: [this.vNodes?.main, this.vNodes?.wbcProps] } } } })\n      //           // alert('outputttttttttttt')\n      //           // alert(theOutput)\n\n      //         let obj = {}\n      //         Object.entries(theOutput).forEach(([key, val]) => {\n\n      //           if (this.vNodes?.[`${val}`]) { obj[key] = this.vNodes[`${val}`] }\n      //           // else { obj[key] = e}\n      //           else {\n      //             obj[key] = this.toWBC_(transfObj(val, f), h_)\n      //             // obj[key] = h_('WBC', { props: { item: this.transfObj(val, f) } })\n      //             // obj[key] = h_('WBC', {\n      //             //   keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //             //   props: {\n      //             //     item: this.transfObj(val, f),\n      //             //   },\n      //             // })\n      //           }\n      //         })\n      //             //   alert(key)\n\n      //             // let f = (val) => this.vNodes?.[val] || val\n      //             // let obj = this.transfObj(theOutput, f)\n\n      //           //   if (typeof val=='string' && this.vNodes?.[val]) {\n      //           //     obj[key] = this.vNodes[val]\n      //           //   }\n      //           //   else { obj[key] = this.transfObj(theOutput, f) }\n      //           // })\n      //           // mainToRender=obj\n\n      //           // console.log('objjjjjjjjjjjjj :>> ', obj);\n      //           // let f = (val) => this.vNodes?.[val] || val\n      //           // let obj = this.transfObj(theOutput, f)\n\n      //           // mainToRender = h_('WBC', { props: { item: obj } })\n      //           // let theOutputt=this.clone(el?.output || {})\n      //           // let o = this.vNodes\n      //           // this.project(theOutputt, o)\n      //           // mainToRender = theOutputt\n\n      //         // mainToRender =obj\n      //         mainToRender =this.toWBC_( obj ,h_)\n      //         // mainToRender =h_('WBC', { props: { item: obj } }))\n\n      //           // mainToRender = h_('WBC', {\n      //           //   keyy: `wbhtml-key-${this.computedKey(el?.options?.key)}-${el.length }`,\n      //           //   props: {\n      //           //     item: obj,\n      //           //   },\n      //           // });\n\n      //       }\n      //       else {\n      //         alert(theOutput)\n      //         let obj = this.transfObj(theOutput, f)\n      //         // mainToRender =  this.transfObj(theOutput, f)\n      //         // mainToRender = theOutput.endsWith('Html') ? h_('WBC', { props: { item: this.vNodes[theOutput] } }) : this.transfObj(theOutput, f)\n      //         mainToRender = h_('WBC', {\n      //           keyy: `arr-key-${this.computedKey(el?.options?.key)}-${el.length}`,\n      //           props: {\n      //             item: obj,\n      //           },\n      //         })\n\n      //       }\n      //         //  else if (theOutput) {\n      //         //   mainToRender = h_(\n      //         //     'VCard',\n      //         //     {},\n      //         //     theOutput.map(\n      //         //       (e) =>\n      //         //         this.vNodes?.[e] ||\n      //         //         h_('VCard', { class: 'red pa-10 ma-10' }, [\n      //         //           `The output item \"${e}\" is not activated in options.`,\n      //         //         ])\n      //         //     )\n      //         //   );app\n      //         // }\n      //       return mainToRender\n\n      //     }\n\n      updateKey(key) {\n        if (key?.includes(\"_\")) {\n          return key.replace(\"_\", \"-\");\n        } else if (key?.includes(\"-\")) {\n          return key.replace(\"-\", \"_\");\n        } else if (key) {\n          return key + \"_\";\n        } else {\n          return this.randomKey(\"key\");\n        }\n      },\n    },\n\n    components: {\n      // WBHtml,\n      // WBLink,\n      // JsonViewer,\n      // WBDataViewer,\n      // // VueOfficePdf,\n      // VueOfficeExcel,\n      // VueOfficeDocx,\n      // VueDocPreview,\n      // pdfvuer,\n      // VCM: codemirror,\n      // WBAlert,\n      ...(options?.components || {}),\n\n      // ...vuetifyModule,\n      // \t\t'RouterView':app.options.components.RouterView,\n      // 'RouterLink':app.options.components.RouterLink\n    },\n    vuetify: options?.vuetify || vuetify,\n    router: options?.router || router,\n    store: options?.store || store,\n\n    // beforeUpdate()  {\n    // \tif (this.item instanceof Object) {\n    // \t\tconsole.log('sssssssssssssssssssssssssssssssssssssss', this.item, this.item?.tracker)\n    // \t\tif (this.item?.tracker) {\n    // \t\t\t// console.log('this.item?.tracker',this.item)\n    // \t\t\tthis.item.tracker(this.itemAccessebility);\n    // \t\t}\n    // \t}\n    // },\n    //  on:{'update:item_.options.props.value': (newValue) => {\n    // \talert(8888888888888888888)\n    //     // this.content = newValue;\n    //   }},\n    mounted() {\n      // this.alertObjs=this.item_\n\n      // 'mousedown': , mouseup: this.handleMouseUp\n      this.$el.addEventListener(\"mousedown\", this.handleMouseDown);\n      this.$el.addEventListener(\"mouseup\", this.handleMouseUp);\n\n      // this.item_ = this.toWBC(this.item)\n      // this.item_ = this.clone(this.item)\n      // this.item_ = this.item\n\n      // if(this.dive)\n      // {\n      // \tthis.item_ = this.generalVal(\n      // \t\tthis.item_,\n      // \t\tthis.itemAccessebility,\n      // \t\t// this.lg\n      // \t\tthis.lang\n      // \t\t// lg\n      // \t\t);\n      // \t}\n      // else {\n      // \tthis.item_ = this.item\n      // }\n\n      // this.item_.options.props['value'] = newValue;\n\n      // this.item.options.attrs={value:newValue};\n\n      // rules=this.generalVal(this.clone(this?.item_?.options?.props?.rules||[]),{},this.lang)\n\n      // this.item_=this.toWBC(this.clone(this.item))\n      // this.wbcItem=this.toWBC(this.clone(this.item)),\n      // this.item0 = this.item;\n      // this.item_ = this.toWBC(this.clone(this.item));\n      // this.item_ =  this.toWBC(this.item);\n\n      // this.item_ = this.generalVal(\n      // \tthis.wbcItem,\n      // \tthis.itemAccessebility,\n      // \t// this.lg\n      // \t// this.lang\n      // \tthis.lang\n      // );\n\n      // //console.log(this.extKey)\n      this.extKey_ = this.extKey;\n      this.baseKey = `${this?.extKey_ || \"\"}-${\n        this?.$store?.state?.loggedIn ? 1 : 0\n      }-${this.randomKey(`${this.lang}`)}-`;\n\n      this.wrap_ = this?.wrap\n        ? {\n            comp: this.wrap?.comp || this.wrap,\n            options: this.wrap?.options || {},\n          }\n        : null;\n      // //console.log('eeeeeeeeeeeeee',this.extKey,this.extKey_,this.wrap_)\n\n      this.children_ = this.children;\n\n      // this.children_ = this.generalVal(\n      // \tthis.children || null,\n      // \tthis.itemAccessebility,\n      // \tthis.lang\n      // )\n\n      // if (this.item_ instanceof Object) {\n      if (this.isPlainObject(this.item_)) {\n        if (this.item_?.options) {\n          this.internalValue = this?.item_?.options?.val;\n        }\n\n        this.baseKey += this?.item_?.options?.key || \"\";\n\n        // if (this.item_.options?.hAttrs){\n        //   let hAttrs = html_ressources.html_tags[this.item_.comp].attrs;\n        //   // this.item_.options.attrs = { ...this.item_.options?.attrs || {} }\n        //   Object.keys(hAttrs).forEach(key => {\n        //     this.item_.options.attrs[key] ??= '';\n        //   })\n        // }\n\n        // this.dive=this.item_?.dive\n\n        // if (this?.item_?.options?.props) {\n        // // \tthis.item_.options.props.value = this.item_.options?.val;\n        // \tthis.item_.options.val=this.item_.options.props.value ;\n        // }\n        // if (this?.item_?.options) {\n        // }\n\n        // if (!this?.item_?.options?.val) { this.item_.options.val = this.item_?.options_?.props?.value || '' }\n        if (typeof this.item_?.options?.props?.value == \"boolean\") {\n          // this.item_.options.val = this.item_.options.props.value;\n          this.item_.options.props.value = this.item_.options.val;\n        }\n\n        // if(this.item_.options&&!this.item_?.options?.key){\n        // \t//console.log(5555555555555,this.item_)\n        // \tthis.item_.options['key']=`${this?.extKey||this.randomKey('obj')}-${this.key_}`\n\n        // }\n\n        // if (this.item_?.options) {\n        // \tthis.item_.options.ref = 'rawHtml'\n        // \tthis.item_.ref = () => this?.$refs?.rawHtml\n\n        // }\n\n        // if (options?.key) {\n\n        // \tthis.baseKey += `-${options?.key}`\n\n        // }\n\n        let dir;\n        if (this.item_?.options?.rtl === true) {\n          dir = \"rtl\";\n        } else if (this.item_?.options?.rtl === false) {\n          dir = \"ltr\";\n        } else dir = this.lang == \"ar\" ? \"rtl\" : \"ltr\";\n\n        if (this.item_?.options?.props?.style?.[this.lang]) {\n          this.item_.options.style[this.lang].direction = dir;\n        } else if (this.item_?.options?.style) {\n          this.item_.options.style.direction = dir;\n        } else if (this.item_?.options) {\n          this.item_.options.style = { direction: dir };\n        }\n\n        if (this.item_?.options?.global) {\n          global[this.item_.options?.global] = this.itemAccessebility;\n          global[this.item_.options?.global + \"_vmvuetif\"] = this;\n        }\n\n        if (this.item_?.init) {\n          // console.log('this.item_?.init',this.item_)\n\n          // alert('init   999999999999999999')\n          this.item_.init(this.itemAccessebility);\n        }\n\n        // let dir;\n        // if (this.item_?.options?.rtl===true) {dir ='rtl'}\n        // else if (this.item_?.options?.rtl===false) {dir ='ltr'}\n        // else dir = this.lang == 'ar'? 'rtl' : 'ltr';\n\n        // \tif (this.item_?.options?.props?.style?.[this.lang]) {\n        // \t\tthis.item_.options.style[this.lang].direction = dir;\n        // \t}\n        // \telse if(this?.item_?.options?.style){this.item_.options.style.direction = dir;}\n        // \telse if(this?.item_?.options){this.item_.options.style={direction : dir} }\n      } else {\n        this.internalValue = this.item_;\n      }\n\n      // this.item_ = this.generalVal(\n      // \tthis.wbcItem,\n      // \tthis.itemAccessebility,\n      // \t// this.lg\n      // \t// this.lang\n      // \tthis.lang\n      // );\n\n      this.rColor = this?.item?.rColor || this.randomColor();\n      // this.select = null;\n\n      // float:!true,\n      // itemSrc:true,\n      // all:true,\n      // gAttrs:true,\n      // itemSrc:true,\n      // wbcSyn:true,\n      // wbcSrc:true,\n      // htmlSrc:true,\n      // allOptions:true,\n      // gAttrs:true,\n      // wbcProps: true,\n      // vProps: true,\n      // raw: true,\n      // main: true,\n      // headers: true,\n      // footers: true,\n      // wrappedRaw: true,\n\n      // this.$store.watch(\n      // \t() => this.lang,\"vue\": \"^2.7.16\"\n      // \t(newValue, oldValue) => {\n      // \t\t// this.lg = newValue;\n      // \t\tthis.$cookies.set('lg', newValue);\n\n      // \t\tthis.wbcItem = this.toWBC(this.clone(this.item0)),\n      // \t\t\tthis.item_ = this.generalVal(\n      // \t\t\t\t// options,\n      // \t\t\t\tthis.wbcItem,\n      // \t\t\t\tthis.itemAccessebility,\n      // \t\t\t\t// this.lg\n      // \t\t\t\t// this.lang\n      // \t\t\t\tthis.lang\n      // \t\t\t);\n      // \t},\n      // \t{\n      // \t\timmediate: true, // To trigger the handler immediately on initial mount\n      // \t}\n      // );\n    },\n    created() {\n      this.nameEl =\n        this?.item_?.options?.global || this.randomKey(\"\", 3).toLowerCase();\n      global[this.nameEl] = this.itemAccessebility;\n\n      // Get all cookie keys\n\n      // Fetch and set the values for each key\n\n      // if(this.transform)\n      // {\n      // \tthis.item_ = this.generalVal(\n      // \t\tthis.item,\n      // \t\tthis.itemAccessebility,\n      // \t\t// this.lg\n      // \t\tthis.lang\n      // \t\t// lg\n      // \t\t);\n      // \t}\n      // else {\n      // \tthis.item_ = this.item\n      // }\n\n      // this.item_ = this.generalVal(this.item,this.itemAccessebility)\n\n      this.item_ = this.item;\n\n      this.wiki_ = this.wiki;\n      ///////////////////////////////////////////\n      if (this.wiki) {\n        if (this.wiki.includes(\",\")) {\n          this.item_ = this.wiki.split(\",\").map((e) => wbcWikiObj?.[e]);\n        } else {\n          let wiki = wbcWikiObj?.[this.wiki_];\n          this.item_ = wiki || this.item;\n        }\n      }\n      ///////////////////////////////////////////\n\n      if (this.item_?.dive) {\n        this.item_ = this.generalVal(\n          this.item_,\n          this.itemAccessebility,\n          // this.lg\n          this.lang\n          // lg\n        );\n      }\n\n      if (this.isPlainObject(this.item_)) {\n        this.itemListeners = this?.item_?.options?.on || {};\n        // this.attrs = this?.item_?.options?.attrs || {}\n\n        // if (this.item_?.init) {\n        // \t// console.log('this.item_?.init',this.item_)\n\n        // \t// alert('init   999999999999999999')\n        // \tthis.item_.init(this.itemAccessebility);\n        // }\n\n        this.refName = \"main_\" + this.randomKey(\"\", 3).toLowerCase();\n        // let refName='rawHtml'\n        if (this.item_?.options && !this.item_?.options?.ref) {\n          this.item_.options.ref = this.refName;\n        }\n        this.item_.asChild = () => this.itemAccessebility;\n\n        // this.item_.options.ref ??='rawHtml'\n        // this.item_.ref = () => this?.$refs[this.item_?.options?.ref]\n      }\n\n      // this.item0 = this.item;\n      // this.wbcItem = this.toWBC(this.clone(this.item0));\n      // this.item_ = this.item0;\n\n      // this.item_ = this.generalVal(\n      // \tthis.wbcItem,\n      // \tthis.itemAccessebility,\n      // \t// this.lg\n      // \t// this.lang\n      // \t// this.lang\n      // );\n\n      // this.item_.options.props['value']=this?.item_?.options?.val||false\n\n      // if(this?.item?.options?.val){ this.item.options.val=this.item?.options?.props?.value||'' }\n\n      //  if(this.item_?.options?.props?.value){this.item_.options.val=this.item_.options.props.value;}\n\n      //         this.$watch(\n      //             // 'item_.options.props',\n      //                 // thiss=>thiss.item_,\n      //                 thiss=>{\n\n      //                     return thiss?._data?.item_?.options?.html\n      //                 },\n      //         function (newVal, oldVal) {\n      //             // alert(99999999999)\n\n      //             // alert('changed fromggggg ' + oldVal + ' to ' + newVal);\n      //             // newVal.options.key=this.randomKey('auto');\n      //             this.item_.options.key = this.randomKey('attr')\n      //         },\n      // // { deep: true }\n\n      //     )\n      //                  this.$watch(\n      //             // 'item_.options.props',\n      //                 // thiss=>thiss.item_,\n      //                 thiss=>{\n\n      //                     return thiss?._data?.item_?.options?.lang\n      //                 },\n      //         function (newVal, oldVal) {\n      //             // alert(88888888)\n\n      //             // alert('changed fromggggg ' + oldVal + ' to ' + newVal);\n      //             // newVal.options.key=this.randomKey('auto');\n      //             this.item_.options.key = this.randomKey('attr')\n      //         },\n      // // { deep: true }\n\n      //     )\n\n      // debugger;\n\n      // console.log('ffffffffffffffffffffffffff',this.item)\n\n      // this.watch_ = this.generalVal(\n      // \tthis.item?.watch,\n      // \tthis.itemAccessebility,\n      // \t// this.lg\n      // \t// this.lang\n      // \t// lg\n      // );\n\n      for (let aWatch of this.item_?.watch || []) {\n        // console.log('ffffffffffffffffffffffffff0000000',this.item,aWatch)\n        // console.log('ffffffffffffffffffffffffff1111111',aWatch[0])\n        // aWatch[0]=(a)=>aWatch[0](this.itemAccessebility);\n        let theWatched;\n        let aWatch_func = (newVal, oldVal) =>\n          aWatch[1](this.itemAccessebility, newVal, oldVal);\n        // let aWatch_func =  aWatch[1];\n        if (aWatch[0] instanceof Function) {\n          theWatched = () => aWatch[0](this.itemAccessebility);\n          // this.$watch(()=> aWatch[0](this.itemAccessebility),aWatch_func,...aWatch.slice(2));\n        } else if (typeof aWatch[0] == \"string\") {\n          theWatched = \"itemAccessebility.\" + aWatch[0];\n          // this.$watch('itemAccessebility.'+aWatch[0],...aWatch.slice(1));\n        } else if (Array.isArray(aWatch[0])) {\n          theWatched = () =>\n            aWatch[0].map((e) => {\n              if (e instanceof Function) {\n                return e(this.itemAccessebility);\n              } else if (typeof e == \"string\") {\n                // console.log('ffffffffffffffffffffffffff2222222',this.itemAccessebility,e)\n                return eval(\"this.itemAccessebility.\" + e);\n              }\n            });\n        }\n        this.$watch(theWatched, aWatch_func, ...aWatch.slice(2));\n        // this.$watch( ...aWatch);\n      }\n\n      // this.$watch(\n      // \t(v) => {\n      // \t\tconsole.log('kkkkkkkkkkkkkkkkk', v, v.$data.item_, v.item_)\n      // \t\t// if(['string','number','boolean'].includes(typeof v.$data.item_)||Array.isArray(v.$data.item_))\n      // \t\t\treturn v?.item_?.options\n      // \t},\n      // \tfunction (newValue, oldValue) {\n      // \t\talert('main main content to addddddddddddddddg')\n\n      // \t\t// this.item_ = this.toWBC(this.clone(newValue))\n      // \t\t\t// (this.item_ = this.generalVal(\n\n      // \t\t\t// \tthis.wbcItem,\n      // \t\t\t// \tthis.itemAccessebility,\n      // \t\t\t// \t// this.lg\n      // \t\t\t// \tthis.lang\n      // \t\t\t// ));\n      // \t},\n      // \t{ deep: true }\n      // );\n\n      // this.$store.watch(\n      // \t(v) => {\n      // \t\tif (Array.isArray(v.item_)) {\n      // \t\t\talert(v.item_)\n      // \t\t\treturn JSON.stringify(v.item_)\n      // \t\t}\n      // \t},\n      // \t(newValue, oldValue) => {\n      // \t\talert('hhhhhhhhhhhhhhhhhhhhhhhhhhhhh')\n\n      // \t},\n      // \t{\n      // \t\timmediate: true, // To trigger the handler immediately on initial mount\n      // \t}\n      // )\n    },\n  };\n\n  app.component(\"WBHtml\", WBHtml);\n  app.component(\"WBLink\", WBLink);\n  app.component(\"JsonViewer\", JsonViewer);\n  app.component(\"WBDataViewer\", WBDataViewer);\n  // app.component(\"// VueOfficePdf\",VueOfficePdf);\n  app.component(\"VueOfficeExcel\", VueOfficeExcel);\n  app.component(\"VueOfficeDocx\", VueOfficeDocx);\n  app.component(\"VueDocPreview\", VueDocPreview);\n  app.component(\"pdf\", pdfvuer);\n  app.component(\"WBAlert\", WBAlert);\n  app.component(\"VCM\", codemirror);\n\n  let WBC_ = app.extend(wbcObj);\n\n  app.component(\"WBC\", WBC_);\n\n  console.log(\n    \"app.component :>> \",\n    app?.components,\n    app,\n    app?.$options,\n    WBC_?.components,\n    WBC_?.$options,\n    WBC_?.$options?.components\n  );\n  Object.assign(app.prototype, methodsObj); // Updates obj1 with properties from o\n\n  Object.assign(app.options.components, WBC_.options.components); // Updates obj1 with properties from o\n\n  WBC = WBC_;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  // Vue.component(\"WBC\", WBC);\n  install(Vue, { vuetify, router, store /*components, vuetifyModule */ });\n\n  global.Vue = Vue;\n  let v = new Vue({\n    router, // Add the router\n    store, // Add the store\n    vuetify,\n    render: (h) => h(App),\n  });\n  global.v = v;\n  v.$mount(\"#app\");\n}\n\nimport * as methodsObj from \"./globals/variables\";\n\nexport default {\n  ...methodsObj,\n  install,\n  WBC,\n  WBHtml,\n  WBLink,\n  WBDataViewer,\n  WBAlert,\n  JsonViewer,\n  MarkdownIt,\n  vueResource,\n  VueOfficeExcel,\n  VueOfficeDocx,\n  VueDocPreview,\n  VueCodemirror,\n  TurnDown,\n  bootstrabModule,\n  vuetifyModule,\n  VueCookies,\n  VueMoment,\n  VueCryptojs,\n};\n"],"mappings":"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AAE;UACvB,IAAI,CAACc,KAAK,CAACd,OAAO,CAACoB,OAAO,GAAG,IAAI,CAACC,oBAAoB;QACxD;QACA,IAAI,CAACP,KAAK,CAACQ,OAAO,GAAG;UAAA,OAAMT,KAAI,CAACK,iBAAiB;QAAA;MACnD;IACF,CAAC;IACDK,MAAM,WAANA,MAAMA,CAACC,CAAC,EAAE;MACR,IAAI,IAAI,CAACC,IAAI,YAAYV,MAAM,EAAE;QAAA,IAAAW,UAAA;QAC/B;QACA,IAAI,SAAAA,UAAA,GAAO,IAAI,CAACD,IAAI,cAAAC,UAAA,uBAATA,UAAA,CAAWC,OAAO,KAAI,UAAU,EAAE;UAC3C,IAAI,CAACF,IAAI,CAACE,OAAO,CAAC,IAAI,CAACT,iBAAiB,CAAC;QAC3C;MACF;;MAEA;MACA,IAAIU,WAAW,GACb,IAAI,CAACC,MAAM,CAAC,IAAI,CAACf,KAAK,EAAEU,CAAC,EAAE,IAAI,CAACM,SAAS,EAAE,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC;MAC9D;;MAEA;;MAEA;MACA;MACA;MACA;;MAEA;;MAEA;MACA;;MAEA;MACA;;MAEA;;MAEA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAEM;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;AACN;AACA;AACA;AACA,YAJM,CAKO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACM;MACA;MACA;MACA;;MAEA;MACA;MACA;;MAEA;MACA;MACA;MACA;;MAEA;MACA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAEA;MACA,IAAIC,KAAK,CAACC,OAAO,CAACL,WAAW,CAAC,EAAE;QAC9B;QACAA,WAAW,GAAGJ,CAAC,CACb,MAAM,EACNI,WAAW,CACRM,MAAM,CAAC,UAACC,CAAC;UAAA,OAAKA,CAAC;QAAA,EAAC,CAChBC,GAAG,CAAC,UAACD,CAAC,EAAK;UAAA,IAAAE,MAAA;UACV,OAAO,CAAAF,CAAC,aAADA,CAAC,gBAAAE,MAAA,GAADF,CAAC,CAAEG,GAAG,cAAAD,MAAA,uBAANA,MAAA,CAAQE,QAAQ,KAAIJ,CAAC;UAC5B,OAAOA,CAAC;QACV,CAAC,CACL,CAAC;;QAED;MACF;;MAEA;MACA,IAAI,IAAI,CAACK,MAAM,KAAK,IAAI,IAAI,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,SAAS,CAAC,EAAE;QAC3D;;QAEA,IAAIC,iBAAiB,GAAG;UACtB;UACAC,KAAK,EAAE,WAAW;UAClBC,KAAK,EAAE;YACLC,eAAe,EAAE,IAAI,CAACC,MAAM;YAC5BC,MAAM,EAAE;UACV,CAAC;UACDC,K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AJ,IAAI,gBAAAmC,aAAA,GAAJ,IAAI,CAAEjC,MAAM,cAAAiC,aAAA,gBAAAA,aAAA,GAAZA,aAAA,CAAchC,KAAK,cAAAgC,aAAA,uBAAnBA,aAAA,CAAqB/B,EAAE,KAAI,IAAI;MACtE;IACF,CAAC;IAEDgC,KAAK,EAAE;MACL;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MACA;MACA,mBAAmB,WAAnBC,eAAmBA,CAACC,QAAQ,EAAE;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA,IAAI,CAAC/F,aAAa,GAAG+F,QAAQ;;QAE7B;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;MACF,CAAC;MACD;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA/F,aAAa,WAAbA,aAAaA,CAAC+F,QAAQ,EAAE;QAAA,IAAAC,YAAA;QACtB;QACA;QACA,IAAI,IAAI,aAAJ,IAAI,gBAAAA,YAAA,GAAJ,IAAI,CAAEpJ,KAAK,cAAAoJ,YAAA,eAAXA,YAAA,CAAalK,OAAO,EAAE;UACxB,IAAI,CAACc,KAAK,CAACd,OAAO,CAACwG,GAAG,GAAGyD,QAAQ;QACnC,CAAC,MAAM;UACL,IAAI,CAACnJ,KAAK,GAAGmJ,QAAQ;QACvB;;QAEA;MACF,CAAC;MACD,2BAA2B,WAA3BE,sBAA2BA,CAACF,QAAQ,EAAE;QACpC;QACA,IAAI,CAAC/F,aAAa,GAAG+F,QAAQ;QAC7B,IAAI,CAACnJ,KAAK,CAACd,OAAO,CAACwG,GAAG,GAAGyD,QAAQ;;QAEjC;QACA;;QAEA;;QAEA;QACA;QACA;;QAEA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACF,CAAC;MAED;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MAEA;MAEA,iBAAiB,WAAjBG,aAAiBA,CAACH,QAAQ,EAAEI,QAAQ,EAAE;QACpC;QACA;QACA,IAAI,CAAC1B,QAAQ,CAAClC,GAAG,CAAC,IAAI,EAAEwD,QAAQ,CAAC;QACjC,IAAI,CAAC3E,IAAI,IAAI,CAAC;QACd;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;MACF,CAAC,CACD;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MAEA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MAEA;MACA;MACA;MACA;MACA;IACF,CAAC;IACDgF,OAAO,EAAE;MACP;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEAC,aAAa,WAAbA,aAAaA,CAACC,EAAE,EAAEC,EAAE,EAAE;QAAA,IAAAC,MAAA;QACpB,IAAIC,CAAC;QACL,IAAIF,EAAE,CAACG,UAAU,CAAC,GAAG,CAAC,IAAIH,EAAE,CAACG,UAAU,CAAC,IAAI,CAAC,IAAIH,EAAE,CAACG,UAAU,CAAC,KAAK,CAAC,EAAE;UACrED,CAAC,GAAGE,KAAK,CAACJ,EAAE,CAAC,CAAC,CAAC;QACjB,CAAC,MAAM;UACLE,CAAC,GAAG,IAAI,CAACG,cAAc,CAACL,EAAE,CAAC,CAAC,CAAC;QAC/B;QACA;QACAE,CAAC,CAACI,IAAI,CAAC,UAACC,QAAQ,EAAK;UACnB,IAAMC,WAAW,GAAGD,QAAQ,CAACE,OAAO,CAACvE,GAAG,CAAC,cAAc,CAAC;UACxDvG,OAAO,CAAC+K,GAAG,CACT,oBAAoB,EACpBV,EAAE,EACFO,QAAQ,EACRA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEjH,IAAI,EACdkH,WACF,CAAC;UACD,IAAIA,WAAW,CAACG,QAAQ,CAAC,kBAAkB,CAAC,EAAE;YAC5C;YACA,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAACN,IAAI,CAAC,UAAChH,IAAI,EAAK;cACpC2G,MAAI,CA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EAAE,CAAC;gBAC5B;gBACAxG,IAAI,GAAG,IAAI,CAACD,WAAW;;gBAEvB;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;;gBAEA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA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;cAAE;cACpBC,cAAc,EAAEC,QAAQ;cACxB/0B,eAAe,EAAE,IAAI;cACrBC,WAAW,EAAE,IAAI;cACjBC,IAAI,EAAE,IAAI;cACVC,UAAU,EAAE,IAAI;cAChBC,iBAAiB,EAAE,IAAI;cACvB;cACAC,aAAa,EAAE,IAAI;cACnBC,uBAAuB,EAAE,IAAI;cAC7B;cACAC,SAAS,EAAE;gBAAEC,IAAI,EAAE;cAAe,CAAC;cACnCC,WAAW,EAAE;gBACXC,cAAc,EAAE,CAAC;cACnB;YACF;UACF,CAAC;UACDhK,KAAK,EAAE;YACLG,MAAM,EAAE,gBAAgB;YACxB,aAAa,EAAE,WAAW;YAC1BgJ,MAAM,EAAE;UACV;QACF,CAAC,CAAC,CAEN,CAAC;MACH,CAAC;MACD;MAEA;MACA;MAEA;MAEA;MAEA;MAEA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MAEA;MAEA;MAEA;MAEA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MAEA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA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","ignoreList":[]}]}